<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>äºŒåˆ†ç±»å­¦ä¹ -åˆ†ç±»æ¨¡å‹çš„è¯„ä»·æŒ‡æ ‡ï¼ˆAUCï¼‰</title>
      <link href="/posts/auc/"/>
      <url>/posts/auc/</url>
      
        <content type="html"><![CDATA[<p>äºŒåˆ†ç±»å¸¸ç”¨çš„è¯„ä»·æŒ‡æ ‡æ˜¯ AUC(Area Under Curve)ï¼Œä¹Ÿå°±æ˜¯ROCæ›²çº¿å’Œxè½´ä¹‹é—´çš„é¢ç§¯ã€‚</p><h2 id="1-ä»€ä¹ˆæ˜¯ROCæ›²çº¿ï¼ˆWikiï¼‰"><a href="#1-ä»€ä¹ˆæ˜¯ROCæ›²çº¿ï¼ˆWikiï¼‰" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ROCæ›²çº¿ï¼ˆWikiï¼‰"></a>1. ä»€ä¹ˆæ˜¯ROCæ›²çº¿ï¼ˆ<a href="https://zh.wikipedia.org/wiki/ROC%E6%9B%B2%E7%BA%BF" target="_blank" rel="noopener">Wiki</a>ï¼‰</h2><p>åœ¨äº†è§£AUCä¹‹å‰é¦–å…ˆéœ€è¦çŸ¥é“ROCæ›²çº¿ã€‚åœ¨<a href="https://zh.wikipedia.org/wiki/ä¿¡å·æ£€æµ‹ç†è®º" target="_blank" rel="noopener">ä¿¡å·æ£€æµ‹ç†è®º</a>ä¸­ï¼Œ<strong>æ¥æ”¶è€…æ“ä½œç‰¹å¾æ›²çº¿</strong>ï¼ˆ<strong>receiver operating characteristic curve</strong>ï¼Œå³<strong>ROCæ›²çº¿</strong>ï¼‰æ˜¯ä¸€ç§åæ ‡å›¾å¼çš„åˆ†æå·¥å…·ï¼Œç”¨äº (1) é€‰æ‹©æœ€ä½³çš„ä¿¡å·ä¾¦æµ‹æ¨¡å‹ã€èˆå¼ƒæ¬¡ä½³çš„æ¨¡å‹ã€‚ (2) åœ¨åŒä¸€æ¨¡å‹ä¸­è®¾å®šæœ€ä½³<a href="https://zh.wikipedia.org/wiki/é˜ˆå€¼" target="_blank" rel="noopener">é˜ˆå€¼</a>ã€‚</p><p>åœ¨åšå†³ç­–æ—¶ï¼ŒROCåˆ†æèƒ½ä¸å—æˆæœ¬/æ•ˆç›Šçš„å½±å“ï¼Œç»™å‡ºå®¢è§‚ä¸­ç«‹çš„å»ºè®®ã€‚</p><h2 id="2-ä¸€äº›æœ¯è¯­"><a href="#2-ä¸€äº›æœ¯è¯­" class="headerlink" title="2. ä¸€äº›æœ¯è¯­"></a>2. ä¸€äº›æœ¯è¯­</h2><table align="center" style="border: thin solid"><tbody><tr><th colspan="2" rowspan="2">&nbsp;</th><th colspan="2" align="center">çœŸå®å€¼</th><th rowspan="2">æ€»æ•°</th></tr><tr><th><i>p</i></th><th><i>n</i></th></tr><tr><th rowspan="2" valign="middle">é¢„<br>æµ‹<br>è¾“<br>å‡º</th><th valign="middle" style="padding:0.5em;"><i>p'</i></th><th style="padding:0.5em;">çœŸé˜³æ€§<br>(TP)</th><th style="padding:0.5em;">ä¼ªé˜³æ€§<br>(FP)</th><th style="padding:0.5em;">P'</th></tr><tr><th valign="middle" style="padding:0.5em;"><i>n'</i></th><th style="padding: 0.5em;">ä¼ªé˜´æ€§<br>(FN)</th><th style="padding:0.5em;">çœŸé˜´æ€§<br>(TN)</th><th style="padding:0.5em;">N'</th></tr><tr><th colspan="2" style="padding:0.5em;">æ€»æ•°</th><th align="center">P</th><th align="center">N</th><th></th></tr></tbody></table><p>ä¸‹é¢æ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯åŸºäºæ­¤æ··æ·†çŸ©é˜µçš„ã€‚</p><h4 id="TPï¼ˆçœŸé˜³æ€§ï¼‰"><a href="#TPï¼ˆçœŸé˜³æ€§ï¼‰" class="headerlink" title="TPï¼ˆçœŸé˜³æ€§ï¼‰"></a>TPï¼ˆçœŸé˜³æ€§ï¼‰</h4><p>true positivesï¼Œå³æ­£ä¾‹è¢«åˆ¤å®šä¸ºæ­£ä¾‹çš„æ•°é‡</p><h4 id="TNï¼ˆçœŸé˜´æ€§ï¼‰"><a href="#TNï¼ˆçœŸé˜´æ€§ï¼‰" class="headerlink" title="TNï¼ˆçœŸé˜´æ€§ï¼‰"></a>TNï¼ˆçœŸé˜´æ€§ï¼‰</h4><p>true negativesï¼Œå³èŒƒä¾‹è¢«åˆ¤å®šä¸ºåä¾‹çš„æ•°é‡</p><h4 id="FPï¼ˆä¼ªé˜³æ€§ï¼‰"><a href="#FPï¼ˆä¼ªé˜³æ€§ï¼‰" class="headerlink" title="FPï¼ˆä¼ªé˜³æ€§ï¼‰"></a>FPï¼ˆä¼ªé˜³æ€§ï¼‰</h4><p>false positivesï¼Œå³åä¾‹è¢«åˆ¤å®šä¸ºæ­£ä¾‹çš„æ•°é‡</p><h4 id="FNï¼ˆä¼ªé˜´æ€§ï¼‰"><a href="#FNï¼ˆä¼ªé˜´æ€§ï¼‰" class="headerlink" title="FNï¼ˆä¼ªé˜´æ€§ï¼‰"></a>FNï¼ˆä¼ªé˜´æ€§ï¼‰</h4><p>false negativeï¼Œå³æ­£ä¾‹è¢«åˆ¤å®šä¸ºåä¾‹çš„æ•°é‡</p><h4 id="TPRï¼ˆçœŸé˜³æ€§ç‡ï¼‰"><a href="#TPRï¼ˆçœŸé˜³æ€§ç‡ï¼‰" class="headerlink" title="TPRï¼ˆçœŸé˜³æ€§ç‡ï¼‰"></a>TPRï¼ˆçœŸé˜³æ€§ç‡ï¼‰</h4><p>true positives rateï¼Œåˆç§°ï¼šå‘½ä¸­ç‡ (hit rate)ã€æ•æ„Ÿåº¦(sensitivity)</p><p>$ TPR = \frac{TP}{P} = \frac{TP}{TP+FN}$</p><h4 id="FPRï¼ˆä¼ªé˜³æ€§ç‡ï¼‰"><a href="#FPRï¼ˆä¼ªé˜³æ€§ç‡ï¼‰" class="headerlink" title="FPRï¼ˆä¼ªé˜³æ€§ç‡ï¼‰"></a>FPRï¼ˆä¼ªé˜³æ€§ç‡ï¼‰</h4><p>false positive rateï¼Œåˆç§°ï¼šé”™è¯¯å‘½ä¸­ç‡ï¼Œå‡è­¦æŠ¥ç‡ (false alarm rate)</p><p>$ FPR = \frac{FP}{N} = {FP}{FP + TN}$</p><h4 id="ACCï¼ˆå‡†ç¡®åº¦ï¼‰"><a href="#ACCï¼ˆå‡†ç¡®åº¦ï¼‰" class="headerlink" title="ACCï¼ˆå‡†ç¡®åº¦ï¼‰"></a>ACCï¼ˆå‡†ç¡®åº¦ï¼‰</h4><p>accuracyï¼Œ(çœŸé˜³æ€§+çœŸé˜´æ€§) / æ€»æ ·æœ¬æ•°</p><p>$ACC = \frac{TP + TN}{P + N}$</p><h4 id="Precisionï¼ˆç²¾ç¡®ç‡ï¼‰"><a href="#Precisionï¼ˆç²¾ç¡®ç‡ï¼‰" class="headerlink" title="Precisionï¼ˆç²¾ç¡®ç‡ï¼‰"></a>Precisionï¼ˆç²¾ç¡®ç‡ï¼‰</h4><p>$Precision = \frac{TP}{TP+FP}$ ï¼Œå³å½“å‰åˆ’åˆ†åˆ°æ­£æ ·æœ¬ç±»åˆ«ä¸­ï¼Œè¢«æ­£ç¡®åˆ†ç±»çš„æ¯”ä¾‹ã€‚</p><h4 id="Recallï¼ˆå¬å›ç‡ï¼‰"><a href="#Recallï¼ˆå¬å›ç‡ï¼‰" class="headerlink" title="Recallï¼ˆå¬å›ç‡ï¼‰"></a>Recallï¼ˆå¬å›ç‡ï¼‰</h4><p>$Recall = TPR$ ï¼Œå³æ‰€æœ‰çš„æ­£æ ·æœ¬ç±»åˆ«ä¸­ï¼Œè¢«æ­£ç¡®åˆ’åˆ†åˆ°æ­£æ ·æœ¬çš„æ¯”ä¾‹ï¼ˆå¬å›äº†å¤šå°‘æ­£æ ·æœ¬æ¯”ä¾‹ï¼‰ã€‚</p><h4 id="Loss-ï¼ˆæŸå¤±ç‡ï¼‰"><a href="#Loss-ï¼ˆæŸå¤±ç‡ï¼‰" class="headerlink" title="Loss ï¼ˆæŸå¤±ç‡ï¼‰"></a>Loss ï¼ˆæŸå¤±ç‡ï¼‰</h4><p>å¾…ç¡®å®š</p><h4 id="F1-Score"><a href="#F1-Score" class="headerlink" title="F1-Score"></a>F1-Score</h4><p>F-Score æ˜¯ Precision å’Œ Recall çš„åŠ æƒè°ƒå’Œå¹³å‡ï¼Œå³</p><p>$\frac{1}{F} = \frac{1}{\alpha^2+1}\frac{1}{P}+\frac{\alpha^2}{\alpha^2+1}\frac{1}{R}$</p><p>$F=\frac{(\alpha^2+1)P*R}{\alpha^2P+R}$</p><p>å½“ $\alpha=1$ æ—¶ï¼ŒF-Score å°±æ˜¯ F1-Scoreï¼š</p><p>$\frac{1}{F1}=\frac{1}{2}(\frac{1}{P}+\frac{1}{R})$</p><p>$ F1=\frac{2PR}{P+R}$</p><h2 id="3-ROCç©ºé—´"><a href="#3-ROCç©ºé—´" class="headerlink" title="3. ROCç©ºé—´"></a>3. ROCç©ºé—´</h2><p>ROCç©ºé—´å°†ä¼ªé˜³æ€§ç‡ï¼ˆFPRï¼‰å®šä¹‰ä¸º <em>X</em> è½´ï¼ŒçœŸé˜³æ€§ç‡ï¼ˆTPRï¼‰å®šä¹‰ä¸º <em>Y</em> è½´ã€‚</p><p><strong>ç»™å®š</strong>ä¸€ä¸ªäºŒå…ƒåˆ†ç±»<strong>æ¨¡å‹</strong>å’Œå®ƒçš„<strong>é˜ˆå€¼</strong>ï¼Œå°±èƒ½ä»æ‰€æœ‰æ ·æœ¬çš„ï¼ˆé˜³æ€§ï¼é˜´æ€§ï¼‰çœŸå®å€¼å’Œé¢„æµ‹å€¼è®¡ç®—å‡ºä¸€ä¸ª (X=FPR, Y=TPR) åº§æ ‡ç‚¹ã€‚</p><p>ä» (0, 0) åˆ° (1,1) çš„å¯¹è§’çº¿å°†ROCç©ºé—´åˆ’åˆ†ä¸ºå·¦ä¸Šï¼å³ä¸‹ä¸¤ä¸ªåŒºåŸŸï¼Œåœ¨è¿™æ¡çº¿çš„ä»¥ä¸Šçš„ç‚¹ä»£è¡¨äº†ä¸€ä¸ªå¥½çš„åˆ†ç±»ç»“æœï¼ˆèƒœè¿‡éšæœºåˆ†ç±»ï¼‰ï¼Œè€Œåœ¨è¿™æ¡çº¿ä»¥ä¸‹çš„ç‚¹ä»£è¡¨äº†å·®çš„åˆ†ç±»ç»“æœï¼ˆåŠ£äºéšæœºåˆ†ç±»ï¼‰ã€‚</p><p><strong>å®Œç¾çš„é¢„æµ‹</strong>æ˜¯ä¸€ä¸ªåœ¨å·¦ä¸Šè§’çš„ç‚¹ï¼Œåœ¨ROCç©ºé—´åº§æ ‡ (0,1)ç‚¹ï¼ŒX=0 ä»£è¡¨ç€æ²¡æœ‰ä¼ªé˜³æ€§ï¼ŒY=1 ä»£è¡¨ç€æ²¡æœ‰ä¼ªé˜´æ€§ï¼ˆæ‰€æœ‰çš„é˜³æ€§éƒ½æ˜¯çœŸé˜³æ€§ï¼‰ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡åˆ†ç±»å™¨è¾“å‡ºç»“æœæ˜¯é˜³æ€§æˆ–é˜´æ€§ï¼Œéƒ½æ˜¯100%æ­£ç¡®ã€‚ä¸€ä¸ª<strong>éšæœºçš„é¢„æµ‹</strong>ä¼šå¾—åˆ°ä½äºä» (0, 0) åˆ° (1, 1) <strong>å¯¹è§’çº¿</strong>ï¼ˆä¹Ÿå«<strong>æ— è¯†åˆ«ç‡çº¿</strong>ï¼‰ä¸Šçš„ä¸€ä¸ªç‚¹ï¼›æœ€ç›´è§‚çš„éšæœºé¢„æµ‹çš„ä¾‹å­å°±æ˜¯æŠ›ç¡¬å¸ã€‚</p><h2 id="4-ROC-æ›²çº¿"><a href="#4-ROC-æ›²çº¿" class="headerlink" title="4. ROC æ›²çº¿"></a>4. ROC æ›²çº¿</h2><p>ä¸Šè¿°ROCç©ºé—´é‡Œçš„å•ç‚¹ï¼Œæ˜¯ç»™å®šåˆ†ç±»æ¨¡å‹ä¸”ç»™å®šé˜ˆå€¼åå¾—å‡ºçš„ã€‚ä½†åŒä¸€ä¸ª<a href="https://zh.wikipedia.org/w/index.php?title=äºŒå…ƒåˆ†é¡æ¨¡å‹&action=edit&redlink=1" target="_blank" rel="noopener">äºŒå…ƒåˆ†ç±»æ¨¡å‹</a>çš„<a href="https://zh.wikipedia.org/wiki/é˜ˆå€¼" target="_blank" rel="noopener">é˜ˆå€¼</a>å¯èƒ½è®¾å®šä¸ºé«˜æˆ–ä½ï¼Œæ¯ç§é˜ˆå€¼çš„è®¾å®šä¼šå¾—å‡ºä¸åŒçš„FPRå’ŒTPRã€‚</p><ul><li>å°†<strong>åŒä¸€æ¨¡å‹æ¯ä¸ªé˜ˆå€¼</strong> çš„ (FPR, TPR) åº§æ ‡éƒ½ç”»åœ¨ROCç©ºé—´é‡Œï¼Œå°±æˆä¸º<strong>ç‰¹å®šæ¨¡å‹çš„ROCæ›²çº¿</strong>ã€‚</li></ul><h2 id="5-AUC"><a href="#5-AUC" class="headerlink" title="5. AUC"></a>5. AUC</h2><p>ROCæ›²çº¿ä¸‹æ–¹çš„é¢ç§¯ï¼ˆè‹±è¯­ï¼šArea under the Curve of ROC (AUC ROC)ï¼‰ï¼Œå…¶æ„ä¹‰æ˜¯ï¼š</p><ul><li>å› ä¸ºæ˜¯åœ¨1x1çš„æ–¹æ ¼é‡Œæ±‚é¢ç§¯ï¼ŒAUCå¿…åœ¨0~1ä¹‹é—´ã€‚</li><li>å‡è®¾é˜ˆå€¼ä»¥ä¸Šæ˜¯é˜³æ€§ï¼Œä»¥ä¸‹æ˜¯é˜´æ€§ï¼›</li><li>è‹¥éšæœºæŠ½å–ä¸€ä¸ªé˜³æ€§æ ·æœ¬å’Œä¸€ä¸ªé˜´æ€§æ ·æœ¬ï¼Œåˆ†ç±»å™¨<strong>æ­£ç¡®åˆ¤æ–­</strong>é˜³æ€§æ ·æœ¬çš„å€¼é«˜äºé˜´æ€§æ ·æœ¬ä¹‹<strong>å‡ ç‡</strong> ã€‚</li><li>ç®€å•è¯´ï¼š<strong>AUCå€¼è¶Šå¤§çš„åˆ†ç±»å™¨ï¼Œæ­£ç¡®ç‡è¶Šé«˜ã€‚</strong></li></ul><p>ä»AUCåˆ¤æ–­åˆ†ç±»å™¨ï¼ˆé¢„æµ‹æ¨¡å‹ï¼‰ä¼˜åŠ£çš„æ ‡å‡†ï¼š</p><ul><li>AUC = 1ï¼Œæ˜¯å®Œç¾åˆ†ç±»å™¨ï¼Œé‡‡ç”¨è¿™ä¸ªé¢„æµ‹æ¨¡å‹æ—¶ï¼Œå­˜åœ¨è‡³å°‘ä¸€ä¸ªé˜ˆå€¼èƒ½å¾—å‡ºå®Œç¾é¢„æµ‹ã€‚ç»å¤§å¤šæ•°é¢„æµ‹çš„åœºåˆï¼Œä¸å­˜åœ¨å®Œç¾åˆ†ç±»å™¨ã€‚</li><li>0.5 &lt; AUC &lt; 1ï¼Œä¼˜äºéšæœºçŒœæµ‹ã€‚è¿™ä¸ªåˆ†ç±»å™¨ï¼ˆæ¨¡å‹ï¼‰å¦¥å–„è®¾å®šé˜ˆå€¼çš„è¯ï¼Œèƒ½æœ‰é¢„æµ‹ä»·å€¼ã€‚</li><li>AUC = 0.5ï¼Œè·ŸéšæœºçŒœæµ‹ä¸€æ ·ï¼ˆä¾‹ï¼šä¸¢é“œæ¿ï¼‰ï¼Œæ¨¡å‹æ²¡æœ‰é¢„æµ‹ä»·å€¼ã€‚</li><li>AUC &lt; 0.5ï¼Œæ¯”éšæœºçŒœæµ‹è¿˜å·®ï¼›ä½†åªè¦æ€»æ˜¯åé¢„æµ‹è€Œè¡Œï¼Œå°±ä¼˜äºéšæœºçŒœæµ‹ã€‚</li></ul><h2 id="6-AUC-è®¡ç®—æ–¹æ³•"><a href="#6-AUC-è®¡ç®—æ–¹æ³•" class="headerlink" title="6. AUC è®¡ç®—æ–¹æ³•"></a>6. AUC è®¡ç®—æ–¹æ³•</h2><p>äºŒè€…éƒ½æ˜¯é€¼è¿‘æ³•æ±‚è¿‘ä¼¼å€¼</p><h3 id="1ï¼‰æ¢¯å½¢æ³•"><a href="#1ï¼‰æ¢¯å½¢æ³•" class="headerlink" title="1ï¼‰æ¢¯å½¢æ³•"></a>1ï¼‰æ¢¯å½¢æ³•</h3><p>ç®€å•åœ°å°†æ¯ä¸ªç›¸é‚»çš„ç‚¹ä»¥ç›´çº¿è¿æ¥ï¼Œè®¡ç®—è¿çº¿ä¸‹æ–¹çš„æ€»é¢ç§¯ã€‚å› ä¸ºæ¯ä¸€çº¿æ®µä¸‹æ–¹éƒ½æ˜¯ä¸€ä¸ªæ¢¯å½¢ï¼Œæ‰€ä»¥å«<strong>æ¢¯å½¢æ³•</strong>ã€‚</p><ul><li>ä¼˜ç‚¹ï¼šç®€å•ï¼Œæ‰€ä»¥å¸¸ç”¨ã€‚</li><li>ç¼ºç‚¹ï¼šå€¾å‘äºä½ä¼°AUCã€‚</li></ul><h3 id="2ï¼‰ROC-AUCHæ³•"><a href="#2ï¼‰ROC-AUCHæ³•" class="headerlink" title="2ï¼‰ROC AUCHæ³•"></a>2ï¼‰ROC AUCHæ³•</h3><p>æš‚æ— ã€‚</p><hr><p>å‚è€ƒï¼š</p><p><a href="https://testerhome.com/topics/10527" target="_blank" rel="noopener">https://testerhome.com/topics/10527</a></p><p><a href="https://zh.wikipedia.org/wiki/ROC%E6%9B%B2%E7%BA%BF" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/ROC%E6%9B%B2%E7%BA%BF</a></p><p><a href="https://www.jianshu.com/p/be2e037900a1" target="_blank" rel="noopener">https://www.jianshu.com/p/be2e037900a1</a></p>]]></content>
      
      
      <categories>
          
          <category> NLP </category>
          
          <category> äºŒåˆ†ç±» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NLP </tag>
            
            <tag> äºŒåˆ†ç±» </tag>
            
            <tag> AUC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒåˆ†ç±»å­¦ä¹ æ€ç»´å¯¼å›¾</title>
      <link href="/posts/binclassify/"/>
      <url>/posts/binclassify/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" width="100%"height="800px"src="/posts/binclassification/index.html"></iframe><hr><p>å‚è€ƒèµ„æ–™ï¼š</p><p><a href="https://samperson1997.github.io/2018/06/03/classification-algorithm/" target="_blank" rel="noopener">https://samperson1997.github.io/2018/06/03/classification-algorithm/</a></p><p><a href="https://zhuanlan.zhihu.com/p/62762472" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/62762472</a></p><p><a href="https://testerhome.com/topics/10527" target="_blank" rel="noopener">https://testerhome.com/topics/10527</a></p><p><a href="https://www.jianshu.com/p/be2e037900a1" target="_blank" rel="noopener">https://www.jianshu.com/p/be2e037900a1</a></p>]]></content>
      
      
      <categories>
          
          <category> NLP </category>
          
          <category> äºŒåˆ†ç±» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NLP </tag>
            
            <tag> äºŒåˆ†ç±» </tag>
            
            <tag> æ€ç»´å¯¼å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode å®ç”¨åŠŸèƒ½--ç”¨æˆ·ç‰‡æ®µï¼ˆè‡ªå®šä¹‰æ–‡ä»¶æ¨¡æ¿ï¼‰</title>
      <link href="/posts/recommend/vsc-snippets/"/>
      <url>/posts/recommend/vsc-snippets/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><strong>VSVodeæ˜¯å…¨ä¸–ç•Œæœ€å¥½ç”¨çš„ç¼–è¾‘å™¨</strong>ï¼ </p><p>ä»Šå¤©å†™C++çš„å°ç¨‹åºçªç„¶è§‰å¾—æ¯æ¬¡åˆ›å»ºæ–‡ä»¶ã€åˆ›å»ºè°ƒè¯•çš„é…ç½®æ–‡ä»¶ä»¥åŠ Makefile ç­‰å¾ˆéº»çƒ¦ï¼Œäºæ˜¯æƒ³è¦åˆ›å»ºä¸€ç»„æ–‡ä»¶æ¨¡æ¿ï¼Œå¯ä»¥åœ¨æ¯æ¬¡åˆ›å»ºé¡¹ç›®çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºå¥½éœ€è¦çš„æ–‡ä»¶ï¼Œç»è¿‡æœç´¢å‘ç° vsc çš„è¿™ä¸ªåŠŸèƒ½ï¼ˆç”¨æˆ·ä»£ç ï¼‰ï¼Œäºæ˜¯å†™ä¸‹è¿™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹ã€‚</p><p>vsc é»˜è®¤å¯ä»¥åˆ›å»ºä¸€äº›è¯­è¨€ä¸“ç”¨çš„æ¨¡æ¿æ¯”å¦‚ c++ã€c#ç­‰ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vsc/kinds.png" alt="kinds"></p><p>ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„ä»£ç æ¨¡æ¿ï¼ˆå…¨å±€ä½¿ç”¨ï¼‰ï¼Œå…·ä½“çš„æ“ä½œå¦‚ä¸‹ï¼š</p><h3 id="å¦‚ä½•åˆ›å»º"><a href="#å¦‚ä½•åˆ›å»º" class="headerlink" title="å¦‚ä½•åˆ›å»º"></a>å¦‚ä½•åˆ›å»º</h3><p>æ‰“å¼€ VSCodeï¼Œä¾æ¬¡ç‚¹å‡» æ–‡ä»¶-é¦–é€‰é¡¹-ç”¨æˆ·ç‰‡æ®µï¼ˆè‹±æ–‡ä¸º File-Preference-UserSnippetsï¼‰ï¼Œä¼šå‡ºç°ä¸Šå›¾ä¸­çš„é€‰é¡¹</p><h4 id="é¦–å…ˆåˆ›å»ºC-çš„æ¨¡æ¿ï¼ˆå¯ä»¥è‡ªå®šä¹‰ï¼‰å¦‚ä¸‹ï¼š"><a href="#é¦–å…ˆåˆ›å»ºC-çš„æ¨¡æ¿ï¼ˆå¯ä»¥è‡ªå®šä¹‰ï¼‰å¦‚ä¸‹ï¼š" class="headerlink" title="é¦–å…ˆåˆ›å»ºC++çš„æ¨¡æ¿ï¼ˆå¯ä»¥è‡ªå®šä¹‰ï¼‰å¦‚ä¸‹ï¼š"></a>é¦–å…ˆåˆ›å»ºC++çš„æ¨¡æ¿ï¼ˆå¯ä»¥è‡ªå®šä¹‰ï¼‰å¦‚ä¸‹ï¼š</h4><p>é€‰æ‹© C++ é€‰é¡¹ï¼Œåœ¨å…¶ä¸­ç²˜è´´ä»¥ä¸‹å†…å®¹ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//cpp.json</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"C++ Snippets"</span>:&#123;</span><br><span class="line"><span class="attr">"prefix"</span>: <span class="string">"C++"</span>,    <span class="comment">//åœ¨æ–°å»ºç«‹çš„æ–‡ä»¶ä¸­è¾“å…¥C++ï¼ŒTabæˆ–å›è½¦å¯ä»¥è‡ªåŠ¨è¡¥å…¨ä¸ºä»¥ä¸‹ body çš„å†…å®¹</span></span><br><span class="line"><span class="attr">"body"</span>: [</span><br><span class="line"><span class="string">"#include &lt;iostream&gt;"</span>,</span><br><span class="line"><span class="string">"using namespace std;"</span>,</span><br><span class="line"><span class="string">""</span>,</span><br><span class="line"><span class="string">"int main()"</span>,</span><br><span class="line"><span class="string">"&#123;"</span>,</span><br><span class="line"><span class="string">"\t$0"</span>,<span class="comment">//$0è¡¨ç¤ºåˆ›å»ºå¥½åå…‰æ ‡ä½ç½®ï¼Œ$1è¡¨ç¤ºtabåä¸‹ä¸€ä¸ªä½ç½®</span></span><br><span class="line"><span class="string">"\treturn 0;"</span>,</span><br><span class="line"><span class="string">"&#125;"</span>,</span><br><span class="line"><span class="string">""</span>,</span><br><span class="line">],</span><br><span class="line"><span class="attr">"description"</span>: <span class="string">"A cpp file template."</span> <span class="comment">//æç¤ºä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºæ–‡ä»¶æ—¶æ–‡ä»¶å†…ä¼šæœ‰ä¸€äº›æ³¨é‡Šï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æ³¨é‡Šçš„å†…å®¹ï¼Œè§£é‡Šäº†å¦‚ä½•åˆ›å»ºæ¨¡æ¿ä»¥åŠä¸€ä¸ªç¤ºä¾‹ã€‚</p><p>æ­¤æ—¶åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ª main.cpp æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­è¾“å…¥ <code>C++</code> ï¼Œä¼šå‡ºç°å¦‚ä¸‹æç¤ºï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vsc/cpp.png" alt="cpp"></p><p>å›è½¦æˆ– Tabï¼Œä¼šè‡ªåŠ¨è¡¥å…¨ä¸ºä»¥ä¸‹å†…å®¹ï¼ˆä¸è¦è·Ÿæˆ‘è¯´å»ºè®®ä¸è¦ <code>using namespace std;</code> ğŸ¤¡ï¼‰ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vsc/cpp2.png" alt="cpp2"></p><h4 id="åˆ›å»º-Makefile-æ¨¡æ¿ï¼š"><a href="#åˆ›å»º-Makefile-æ¨¡æ¿ï¼š" class="headerlink" title="åˆ›å»º Makefile æ¨¡æ¿ï¼š"></a>åˆ›å»º Makefile æ¨¡æ¿ï¼š</h4><p>é€‰æ‹© New Global Snippets Fileï¼Œè¾“å…¥æ–‡ä»¶åï¼Œåœ¨å…¶ä¸­å¡«å†™ä»¥ä¸‹å†…å®¹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"gcc makefile"</span>: &#123;</span><br><span class="line"><span class="attr">"prefix"</span>: <span class="string">"makefile_gcc"</span>,</span><br><span class="line"><span class="attr">"body"</span>: [</span><br><span class="line"><span class="string">"CC=gcc"</span>,</span><br><span class="line"><span class="string">"SRCS=$(wildcard *.c)"</span>,</span><br><span class="line"><span class="string">"OBJS=$(patsubst %.c, %.o, $(SRCS))"</span>,</span><br><span class="line"><span class="string">"FLAG=-g"</span>,</span><br><span class="line"><span class="string">"NAME=$(wildcard *.c)"</span>,</span><br><span class="line"><span class="string">"TARGET=$(patsubst %.c, %.exe, $(NAME))"</span>,</span><br><span class="line"><span class="string">""</span>,</span><br><span class="line"><span class="string">"$(TARGET):$(OBJS)"</span>,</span><br><span class="line"><span class="string">"\t$(CC) -o $@ $^ $(FLAG)"</span>,</span><br><span class="line"><span class="string">""</span>,</span><br><span class="line"><span class="string">"%.o:%.c"</span>,</span><br><span class="line"><span class="string">"\t$(CC) -o $@ -c $&lt; -g"</span>,</span><br><span class="line"><span class="string">""</span>,</span><br><span class="line"><span class="string">"clean:"</span>,</span><br><span class="line"><span class="string">"\tdel $(TARGET) $(OBJS)"</span></span><br><span class="line"></span><br><span class="line">],</span><br><span class="line"><span class="attr">"description"</span>: <span class="string">"gcc make file"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"g++ makefile"</span>: &#123;</span><br><span class="line"><span class="attr">"prefix"</span>: <span class="string">"makefile_g++"</span>,</span><br><span class="line"><span class="attr">"body"</span>: [</span><br><span class="line"><span class="string">"CC=g++"</span>,</span><br><span class="line"><span class="string">"SRCS=$(wildcard *.cpp)"</span>,</span><br><span class="line"><span class="string">"OBJS=$(patsubst %.cpp, %.o, $(SRCS))"</span>,</span><br><span class="line"><span class="string">"FLAG=-g"</span>,</span><br><span class="line"><span class="string">"NAME=$(wildcard *.cpp)"</span>,</span><br><span class="line"><span class="string">"TARGET=$(patsubst %.cpp, %.exe, $(NAME))"</span>,</span><br><span class="line"><span class="string">""</span>,</span><br><span class="line"><span class="string">"$(TARGET):$(OBJS)"</span>,</span><br><span class="line"><span class="string">"\t$(CC) -o $@ $^ $(FLAG)"</span>,</span><br><span class="line"><span class="string">""</span>,</span><br><span class="line"><span class="string">"%.o:%.c"</span>,</span><br><span class="line"><span class="string">"\t$(CC) -o $@ -c $&lt; -g"</span>,</span><br><span class="line"><span class="string">""</span>,</span><br><span class="line"><span class="string">"clean:"</span>,</span><br><span class="line"><span class="string">"\trm -rf $(TARGET) $(OBJS)"</span></span><br><span class="line"></span><br><span class="line">],</span><br><span class="line"><span class="attr">"description"</span>: <span class="string">"g++ make file"</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª Makefile æ–‡ä»¶ï¼Œè¾“å…¥ makefile_g++ï¼Œè‡ªåŠ¨è¡¥å…¨åä¸ºä»¥ä¸‹å†…å®¹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vsc/g%2B%2B.png" alt="g++"></p><p>å¯ä»¥è‡ªåŠ¨æ‰«æå½“å‰ç›®å½•ä¸­ä»¥ <code>.cpp</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œç¼–è¯‘ã€‚</p><p><strong>å…·ä½“å‚è€ƒ Makefile ä¸‡èƒ½æ¨¡æ¿ã€‚</strong></p><h4 id="åˆ›å»ºè°ƒè¯•æ‰€ç”¨çš„-task-json-æ¨¡æ¿"><a href="#åˆ›å»ºè°ƒè¯•æ‰€ç”¨çš„-task-json-æ¨¡æ¿" class="headerlink" title="åˆ›å»ºè°ƒè¯•æ‰€ç”¨çš„ task.json æ¨¡æ¿"></a>åˆ›å»ºè°ƒè¯•æ‰€ç”¨çš„ task.json æ¨¡æ¿</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"Cpp Make Task"</span>: &#123;</span><br><span class="line"><span class="attr">"prefix"</span>: <span class="string">"task_make"</span>,</span><br><span class="line"><span class="attr">"body"</span>: [</span><br><span class="line"><span class="string">"&#123;"</span>,</span><br><span class="line"><span class="string">"\t\"tasks\": ["</span>,</span><br><span class="line"><span class="string">"\t&#123;"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"type\": \"cppbuild\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"label\": \"Make\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"command\": \"D:\\\\\\\\Programs\\\\\\\\MinGW\\\\\\\\bin\\\\\\\\make.exe\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"args\": ["</span>,</span><br><span class="line"><span class="string">"\t\t\t\t// \"-g\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t// \"\\$&#123;file&#125;\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t// \"-o\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t// \"\\$&#123;fileDirname&#125;\\\\\\\\\\$&#123;fileBasenameNoExtension&#125;.exe\""</span>,</span><br><span class="line"><span class="string">"\t\t\t],"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"options\": &#123;"</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"cwd\": \"\\$&#123;workspaceFolder&#125;\""</span>,</span><br><span class="line"><span class="string">"\t\t\t&#125;,"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"problemMatcher\": ["</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"\\$gcc\""</span>,</span><br><span class="line"><span class="string">"\t\t\t],"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"group\": &#123;"</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"kind\": \"build\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"isDefault\": true"</span>,</span><br><span class="line"><span class="string">"\t\t\t&#125;,"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"detail\": \"è°ƒè¯•å™¨ç”Ÿæˆçš„ä»»åŠ¡ã€‚\""</span>,</span><br><span class="line"><span class="string">"\t\t&#125;"</span>,</span><br><span class="line"><span class="string">"\t],"</span>,</span><br><span class="line"><span class="string">"\t\"version\": \"2.0.0\""</span>,</span><br><span class="line"><span class="string">"&#125;"</span></span><br><span class="line">],</span><br><span class="line"><span class="attr">"description"</span>: <span class="string">"g++ debug task"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"Cpp g++ task"</span>: &#123;</span><br><span class="line"><span class="attr">"prefix"</span>: <span class="string">"task_g++"</span>,</span><br><span class="line"><span class="attr">"body"</span>: [</span><br><span class="line"><span class="string">"&#123;"</span>,</span><br><span class="line"><span class="string">"\t\"tasks\": ["</span>,</span><br><span class="line"><span class="string">"\t&#123;"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"type\": \"cppbuild\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"label\": \"g++\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"command\": \"D:\\\\\\\\Programs\\\\\\\\MinGW\\\\\\\\bin\\\\\\\\g++.exe\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"args\": ["</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"-g\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"\\$&#123;file&#125;\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"-o\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"\\$&#123;fileDirname&#125;\\\\\\\\\\$&#123;fileBasenameNoExtension&#125;.exe\""</span>,</span><br><span class="line"><span class="string">"\t\t\t],"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"options\": &#123;"</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"cwd\": \"\\$&#123;workspaceFolder&#125;\""</span>,</span><br><span class="line"><span class="string">"\t\t\t&#125;,"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"problemMatcher\": ["</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"\\$gcc\""</span>,</span><br><span class="line"><span class="string">"\t\t\t],"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"group\": &#123;"</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"kind\": \"build\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\"isDefault\": true"</span>,</span><br><span class="line"><span class="string">"\t\t\t&#125;,"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"detail\": \"è°ƒè¯•å™¨ç”Ÿæˆçš„ä»»åŠ¡ã€‚\""</span>,</span><br><span class="line"><span class="string">"\t\t&#125;"</span>,</span><br><span class="line"><span class="string">"\t],"</span>,</span><br><span class="line"><span class="string">"\t\"version\": \"2.0.0\""</span>,</span><br><span class="line"><span class="string">"&#125;"</span></span><br><span class="line">],</span><br><span class="line"><span class="attr">"description"</span>: <span class="string">"g++ debug task"</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»º-launch-json-æ¨¡æ¿"><a href="#åˆ›å»º-launch-json-æ¨¡æ¿" class="headerlink" title="åˆ›å»º launch.json æ¨¡æ¿"></a>åˆ›å»º launch.json æ¨¡æ¿</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"g++ launch"</span>: &#123;</span><br><span class="line"><span class="attr">"prefix"</span>: <span class="string">"launch"</span>,</span><br><span class="line"><span class="attr">"body"</span>: [</span><br><span class="line"><span class="string">"&#123;"</span>,</span><br><span class="line"><span class="string">"\t\"version\": \"0.2.0\","</span>,</span><br><span class="line"><span class="string">"\t\"configurations\": ["</span>,</span><br><span class="line"><span class="string">"\t\t&#123;"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"name\": \"g++.exe - ç”Ÿæˆå’Œè°ƒè¯•æ´»åŠ¨æ–‡ä»¶\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"type\": \"cppdbg\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"request\": \"launch\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"program\": \"\\$&#123;fileDirname&#125;\\\\\\\\\\$&#123;fileBasenameNoExtension&#125;.exe\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"args\": [],"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"stopAtEntry\": false,"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"cwd\": \"\\$&#123;workspaceFolder&#125;\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"environment\": [],"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"externalConsole\": true,"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"MIMode\": \"gdb\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"miDebuggerPath\": \"D:\\\\\\\\Programs\\\\\\\\MinGW\\\\\\\\bin\\\\\\\\gdb.exe\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\"setupCommands\": ["</span>,</span><br><span class="line"><span class="string">"\t\t\t\t&#123;"</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\t\"description\": \"ä¸º gdb å¯ç”¨æ•´é½æ‰“å°\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\t\"text\": \"-enable-pretty-printing\","</span>,</span><br><span class="line"><span class="string">"\t\t\t\t\t\"ignoreFailures\": true"</span>,</span><br><span class="line"><span class="string">"\t\t\t\t&#125;"</span>,</span><br><span class="line"><span class="string">"\t\t\t],"</span>,</span><br><span class="line"><span class="string">"\t\t\t\"preLaunchTask\": \"Make$0\""</span>,</span><br><span class="line"><span class="string">"\t\t&#125;"</span>,</span><br><span class="line"><span class="string">"\t]"</span>,</span><br><span class="line"><span class="string">"&#125;"</span></span><br><span class="line">],</span><br><span class="line"><span class="attr">"description"</span>: <span class="string">"g++ launch"</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> recommend </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vscode </tag>
            
            <tag> æ¨¡æ¿ </tag>
            
            <tag> ç”¨æˆ·ç‰‡æ®µ </tag>
            
            <tag> Makefile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mirai QQæœºå™¨äººå®‰è£…åŠé…ç½®ï¼ˆä»¥CentOSä¸ºä¾‹ï¼‰</title>
      <link href="/posts/mirai-install/"/>
      <url>/posts/mirai-install/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å®‰è£…æ¡†æ¶"><a href="#ä¸€ã€å®‰è£…æ¡†æ¶" class="headerlink" title="ä¸€ã€å®‰è£…æ¡†æ¶"></a>ä¸€ã€å®‰è£…æ¡†æ¶</h2><h3 id="1-å®‰è£…iTXTech-MCL-Installer"><a href="#1-å®‰è£…iTXTech-MCL-Installer" class="headerlink" title="1. å®‰è£…iTXTech MCL Installer"></a>1. å®‰è£…iTXTech MCL Installer</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¦–å…ˆå®‰è£… cargo ç”¨äºæ„å»º mcl-installer </span></span><br><span class="line">$ sudo yum insatll cargo</span><br><span class="line"><span class="comment"># å®‰è£… upx ç”¨äºå‹ç¼©</span></span><br><span class="line">$ sudo yum install upx</span><br><span class="line"><span class="comment"># å…‹éš†ä»“åº“</span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/iTXTech/mcl-installer.git</span><br><span class="line">$ <span class="built_in">cd</span> mcl-installer</span><br><span class="line"><span class="comment"># native-tls =&gt; ä½¿ç”¨ç³»ç»Ÿçš„ OpenSSLï¼Œrustls =&gt; ä½¿ç”¨ rustlsã€‚</span></span><br><span class="line"><span class="comment"># --release ç”¨äºæ„å»ºä¼˜åŒ–è¿‡çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚éœ€è¦è¿›è¡Œè°ƒè¯•è¯·å»é™¤è¯¥å‚æ•°ã€‚</span></span><br><span class="line"><span class="comment"># åœ¨æ­¤ä¹‹å‰è¦ç¡®ä¿å®‰è£…äº†Opensslï¼Œå‚è€ƒ https://cloudwafer.com/blog/installing-openssl-on-centos-7/</span></span><br><span class="line">$ cargo build --features native-tls --release</span><br><span class="line">$ <span class="built_in">cd</span> target/release</span><br><span class="line">$ strip mcl-installer <span class="comment"># strip å¯å‡å°å¯æ‰§è¡Œæ–‡ä»¶å¤§å°</span></span><br><span class="line">$ upx --best --lzma mcl-installer <span class="comment"># ä½¿ç”¨ upx å‹ç¼©å¯è¿›ä¸€æ­¥ç¼©å°å¯æ‰§è¡Œæ–‡ä»¶å¤§å°</span></span><br></pre></td></tr></table></figure><h3 id="2-å®‰è£…iTXTech-MCL"><a href="#2-å®‰è£…iTXTech-MCL" class="headerlink" title="2. å®‰è£…iTXTech MCL"></a>2. å®‰è£…iTXTech MCL</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> PATH_TO_INSTALL_MCL <span class="comment"># åˆ‡æ¢åˆ°è¦å®‰è£… mcl çš„ç›®å½•</span></span><br><span class="line">$ PATH_TO_INSTALLER/mcl-installer <span class="comment"># è¿è¡Œmcl-installer</span></span><br><span class="line">Would you like to install Java? (Y/N, default: Y)</span><br><span class="line"><span class="comment"># æ˜¯å¦å®‰è£…Javaï¼Œå¦‚æœä¸Šé¢çš„æ£€æµ‹ç»“æœè¾“å‡ºçš„Javaç‰ˆæœ¬å¤§äº11å³å¯ï¼Œå¯è¾“å…¥Nè·³è¿‡å®‰è£…ï¼Œå¦åˆ™å¿…é¡»å®‰è£…Java</span></span><br><span class="line"></span><br><span class="line">Java version (8-15, default: 11): <span class="comment"># é€‰æ‹©Javaç‰ˆæœ¬å®‰è£…ï¼Œé»˜è®¤ä¸ºJava 11</span></span><br><span class="line">JRE or JDK (1: JRE, 2: JDK, default: JRE): <span class="comment"># é€‰æ‹©JREè¿˜æ˜¯JDKå®‰è£…ï¼Œé»˜è®¤ä¸ºJRE</span></span><br><span class="line">Binary Architecture (default: x64): <span class="comment"># é€‰æ‹©æ¶æ„å®‰è£…ï¼Œé»˜è®¤x64</span></span><br><span class="line"><span class="comment"># å¦‚æœæ“ä½œç³»ç»Ÿä¸ºWindowså¹¶ä¸”éœ€è¦ä½¿ç”¨ mirai-nativeï¼Œè¯·é€‰æ‹© x32ï¼ˆè€Œä¸æ˜¯i386ç­‰å…¶ä»–åå­—ï¼‰</span></span><br><span class="line"></span><br><span class="line">The latest stable version of iTXTech MCL is x.x.x <span class="comment"># è·å–æœ€æ–°MCLå¹¶è¯¢é—®æ˜¯å¦ä¸‹è½½</span></span><br><span class="line">Would you like to download it? (Y/N, default: Y) <span class="comment"># Yï¼šä¸‹è½½ï¼ŒNï¼šå–æ¶ˆ</span></span><br></pre></td></tr></table></figure><h3 id="3-å®‰è£…-mirai-api-http-æ’ä»¶"><a href="#3-å®‰è£…-mirai-api-http-æ’ä»¶" class="headerlink" title="3. å®‰è£… mirai-api-http æ’ä»¶"></a>3. å®‰è£… <a href="https://github.com/project-mirai/mirai-api-http" target="_blank" rel="noopener">mirai-api-http</a> æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> PATH_TO_INSTALL_MCL <span class="comment"># åˆ‡æ¢åˆ° mclå®‰è£…ç›®å½•</span></span><br><span class="line">$ ./mcl --update-package net.mamoe:mirai-api-http --channel stable --<span class="built_in">type</span> plugin</span><br></pre></td></tr></table></figure><h3 id="4-å®‰è£…-mirai-login-solver-selenium-æ’ä»¶-ç”¨äºç™»é™†æ—¶å®ŒæˆéªŒè¯ç "><a href="#4-å®‰è£…-mirai-login-solver-selenium-æ’ä»¶-ç”¨äºç™»é™†æ—¶å®ŒæˆéªŒè¯ç " class="headerlink" title="4. å®‰è£… mirai-login-solver-selenium æ’ä»¶(ç”¨äºç™»é™†æ—¶å®ŒæˆéªŒè¯ç )"></a>4. å®‰è£… <strong><a href="https://github.com/project-mirai/mirai-login-solver-selenium" target="_blank" rel="noopener">mirai-login-solver-selenium</a></strong> æ’ä»¶(ç”¨äºç™»é™†æ—¶å®ŒæˆéªŒè¯ç )</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ./mcl --update-package net.mamoe:mirai-login-solver-selenium --channel nightly --<span class="built_in">type</span> plugin</span><br><span class="line"><span class="comment"># ç¬¬ä¸€æ¬¡è¿è¡Œä¼šä¸‹è½½geckodriverï¼Œå¯èƒ½ä¼šä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ï¼ˆä¸‹è½½è¿‡ç¨‹ä¼šæœ‰åœ°å€ï¼‰æ”¾å…¥ ./MxLibData/selenium æ–‡ä»¶å¤¹ä¸‹åœ¨é‡æ–°å¯åŠ¨</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€ä½¿ç”¨python-SDKï¼ˆGraia-Frameworkï¼‰"><a href="#äºŒã€ä½¿ç”¨python-SDKï¼ˆGraia-Frameworkï¼‰" class="headerlink" title="äºŒã€ä½¿ç”¨python-SDKï¼ˆGraia Frameworkï¼‰"></a>äºŒã€ä½¿ç”¨python-SDKï¼ˆ<a href="https://github.com/GraiaProject/Application" target="_blank" rel="noopener">Graia Framework</a>ï¼‰</h2><p><strong>å‚è€ƒæ–‡æ¡£ <a href="https://graia-document.vercel.app/" target="_blank" rel="noopener">https://graia-document.vercel.app/</a></strong></p><p>æœ¬ç¯‡ä»…ä½œæœ€ç›´æ¥çš„è¿‡ç¨‹ï¼Œæ›´å¤šç»†èŠ‚å’Œè§£é‡Šå¯ä»¥æŸ¥çœ‹åŸæ–‡æ¡£ã€‚</p><h3 id="1-å®‰è£…sdkæ’ä»¶"><a href="#1-å®‰è£…sdkæ’ä»¶" class="headerlink" title="1. å®‰è£…sdkæ’ä»¶"></a>1. å®‰è£…sdkæ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install graia-application-mirai</span><br></pre></td></tr></table></figure><h3 id="2-æ·»åŠ é…ç½®"><a href="#2-æ·»åŠ é…ç½®" class="headerlink" title="2. æ·»åŠ é…ç½®"></a>2. æ·»åŠ é…ç½®</h3><p>è¿è¡Œè¿‡ä¸€æ¬¡mclï¼ˆé€šè¿‡å‘½ä»¤ <code>./mcl</code> ï¼‰åï¼Œä¼šç”Ÿæˆ <code>./config/net.mnmoe.mirai-api-http/setting.yml</code> æ–‡ä»¶ï¼Œä¿®æ”¹å…¶ä¸­çš„ä»¥ä¸‹é…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># file: mirai-client/config/MiraiAPIHTTP/net.mamoe.mirai.api.http.config.Setting</span></span><br><span class="line"><span class="attr">authKey:</span> <span class="string">graia-mirai-api-http-authkey</span> <span class="comment"># ä½ å¯ä»¥è‡ªå·±è®¾å®š, è¿™é‡Œä½œä¸ºç¤ºèŒƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯é€‰ï¼Œç¼“å­˜å¤§å°ï¼Œé»˜è®¤4096.ç¼“å­˜è¿‡å°ä¼šå¯¼è‡´å¼•ç”¨å›å¤ä¸æ’¤å›æ¶ˆæ¯å¤±è´¥</span></span><br><span class="line"><span class="attr">cacheSize:</span> <span class="number">4096</span></span><br><span class="line"></span><br><span class="line"><span class="attr">enableWebsocket:</span> <span class="literal">true</span> <span class="comment"># æ˜¯å¦å¯ç”¨ websocket æ–¹å¼, è‹¥ä½¿ç”¨ websocket æ–¹å¼äº¤äº’ä¼šå¾—åˆ°æ›´å¥½çš„æ€§èƒ½</span></span><br><span class="line"><span class="attr">host:</span> <span class="string">'0.0.0.0'</span> <span class="comment"># httpapi æœåŠ¡ç›‘å¬çš„åœ°å€, é”™è¯¯çš„è®¾ç½®ä¼šé€ æˆ Graia Application æ— æ³•ä¸å…¶äº¤äº’</span></span><br><span class="line"><span class="attr">port:</span> <span class="number">8080</span> <span class="comment"># httpapi æœåŠ¡ç›‘å¬çš„ç«¯å£, é”™è¯¯çš„è®¾ç½®ä¼šé€ æˆ Graia Application æ— æ³•ä¸å…¶äº¤äº’</span></span><br></pre></td></tr></table></figure><h3 id="3-ç¼–å†™è‡ªå·±çš„æ’ä»¶"><a href="#3-ç¼–å†™è‡ªå·±çš„æ’ä»¶" class="headerlink" title="3. ç¼–å†™è‡ªå·±çš„æ’ä»¶"></a>3. ç¼–å†™è‡ªå·±çš„æ’ä»¶</h3><p>å°†ä»¥ä¸‹ä»£ç ä¿å­˜åˆ°æ–‡ä»¶ <code>bot.py</code> å†…, ç¡®ä¿è¯¥æ–‡ä»¶ä½äºä½ çš„å·¥ä½œåŒºå†…:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> graia.broadcast <span class="keyword">import</span> Broadcast</span><br><span class="line"><span class="keyword">from</span> graia.application <span class="keyword">import</span> GraiaMiraiApplication, Session</span><br><span class="line"><span class="keyword">from</span> graia.application.message.chain <span class="keyword">import</span> MessageChain</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> graia.application.message.elements.internal <span class="keyword">import</span> Plain</span><br><span class="line"><span class="keyword">from</span> graia.application.friend <span class="keyword">import</span> Friend</span><br><span class="line"></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line"></span><br><span class="line">bcc = Broadcast(loop=loop)</span><br><span class="line">app = GraiaMiraiApplication(</span><br><span class="line">    broadcast=bcc,</span><br><span class="line">    connect_info=Session(</span><br><span class="line">        host=<span class="string">"http://localhost:8080"</span>, <span class="comment"># å¡«å…¥ httpapi æœåŠ¡è¿è¡Œçš„åœ°å€</span></span><br><span class="line">        authKey=<span class="string">"graia-mirai-api-http-authkey"</span>, <span class="comment"># å¡«å…¥ authKey</span></span><br><span class="line">        account=<span class="number">1234567890</span>, <span class="comment"># ä½ çš„æœºå™¨äººçš„ qq å·</span></span><br><span class="line">        websocket=<span class="literal">True</span> <span class="comment"># Graia å·²ç»å¯ä»¥æ ¹æ®æ‰€é…ç½®çš„æ¶ˆæ¯æ¥æ”¶çš„æ–¹å¼æ¥ä¿è¯æ¶ˆæ¯æ¥æ”¶éƒ¨åˆ†çš„æ­£å¸¸è¿ä½œ.</span></span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="meta">@bcc.receiver("FriendMessage")</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">friend_message_listener</span><span class="params">(app: GraiaMiraiApplication, friend: Friend, message: MessageChain)</span>:</span></span><br><span class="line">    <span class="keyword">await</span> app.sendFriendMessage(friend, MessageChain.create([</span><br><span class="line">        Plain(<span class="string">f"Hello <span class="subst">&#123; friend.nickname &#125;</span>, you said '<span class="subst">&#123; message.asDisplay() &#125;</span>'!"</span>)</span><br><span class="line">    ]))</span><br><span class="line"></span><br><span class="line">app.launch_blocking()</span><br></pre></td></tr></table></figure><h3 id="4-è¿è¡Œè‡ªå·±çš„æ’ä»¶"><a href="#4-è¿è¡Œè‡ªå·±çš„æ’ä»¶" class="headerlink" title="4. è¿è¡Œè‡ªå·±çš„æ’ä»¶"></a>4. è¿è¡Œè‡ªå·±çš„æ’ä»¶</h3><p>é¦–å…ˆä¿å­˜ mcl å¤„äºæ­£å¸¸è¿è¡ŒçŠ¶æ€ï¼Œå‡ºç°ç±»ä¼¼å¦‚ä¸‹ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./mcl</span><br><span class="line">......</span><br><span class="line">2021-04-03 01:55:26 I/Bot.1234567890: Login successful</span><br><span class="line">2021-04-03 01:55:26 I/main: mirai-console started successfully.</span><br><span class="line">2021-04-03 01:55:28 I/Bot.1234567890: Server list: 36.155.229.203:8080, 111.30.178.34:8080, 120.232.18.180:8080, 111.30.169.27:80, 36.155.229.140:14000, 120.232.18.55:443, 111.30.181.202:80, 36.155.229.228:80, msfwifi.3g.qq.com:8080, 111.30.169.93:80.</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python bot.py</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ç”¨å¦ä¸€ä¸ªQQå‘æœºå™¨äººå‘é€æ¶ˆæ¯å³å¯ï¼ˆâ€œUnknown Errorâ€æ˜¯æˆ‘çš„QQæ˜µç§°ï¼‰</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/mirai-install/first_dialogue.png" alt="first_dialogue"></p><p>åŒæ—¶ï¼ŒMirai Console å¾—åˆ°ä»¥ä¸‹æ—¥å¿—ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2021-04-03 02:24:49 V&#x2F;Bot.2690919164: Unknown Error(1361050885) -&gt; 123</span><br><span class="line">2021-04-03 02:24:49 V&#x2F;Bot.2690919164: Friend(1361050885) &lt;- Hello Unknown Error, you said &#39;123&#39;!</span><br><span class="line">2021-04-03 02:25:03 V&#x2F;Bot.2690919164: Unknown Error(1361050885) -&gt; 456</span><br><span class="line">2021-04-03 02:25:03 V&#x2F;Bot.2690919164: Friend(1361050885) &lt;- Hello Unknown Error, you said &#39;456&#39;!</span><br></pre></td></tr></table></figure><p>bot.py å¾—åˆ°ä»¥ä¸‹æ—¥å¿—ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[2021-04-03 02:24:49,152][INFO]: 2690919164: [Unknown Error(1361050885)] -&gt; &#39;[mirai:source:11960,1617387889]123&#39;</span><br><span class="line">[2021-04-03 02:24:49,366][INFO]: [BOT 2690919164] Friend(1361050885) &lt;- &quot;Hello Unknown Error, you said &#39;123&#39;!&quot;</span><br><span class="line">[2021-04-03 02:25:03,234][INFO]: 2690919164: [Unknown Error(1361050885)] -&gt; &#39;[mirai:source:11961,1617387903]456&#39;</span><br><span class="line">[2021-04-03 02:25:03,432][INFO]: [BOT 2690919164] Friend(1361050885) &lt;- &quot;Hello Unknown Error, you said &#39;456&#39;!&quot;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒQQæœºå™¨äººå·²ç»å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè‡³äºæœºå™¨äººå¯ä»¥åšå“ªäº›äº‹æƒ…ï¼Œå°±å–å†³äºä½ çš„æ’ä»¶æœ‰å¤šä¹ˆä¸°å¯Œäº†ï¼</p><h3 id="5-æ›´ä¸°å¯Œçš„æ’ä»¶"><a href="#5-æ›´ä¸°å¯Œçš„æ’ä»¶" class="headerlink" title="5. æ›´ä¸°å¯Œçš„æ’ä»¶"></a>5. æ›´ä¸°å¯Œçš„æ’ä»¶</h3><p>åœ¨ <a href="https://graiaproject.github.io/Application/" target="_blank" rel="noopener">https://graiaproject.github.io/Application/</a> ä¸­å‘ç°æ›´å¤šæœ‰ç”¨çš„apiæ¥ä½¿ä½ çš„æ’ä»¶æ›´åŠ ä¸°å¯Œã€‚</p><h4 id="ä½¿ç”¨-saya-ç®¡ç†æ’ä»¶"><a href="#ä½¿ç”¨-saya-ç®¡ç†æ’ä»¶" class="headerlink" title="ä½¿ç”¨ saya ç®¡ç†æ’ä»¶"></a>ä½¿ç”¨ saya ç®¡ç†æ’ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install graia-saya</span><br><span class="line">pip install image</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/Roc136/saya_plugins_collection.git</span><br></pre></td></tr></table></figure><hr><p>æ¶‰åŠåˆ°çš„é¡¹ç›®ä»“åº“åœ°å€ï¼š</p><p>Miraiï¼š<a href="https://github.com/mamoe/mirai" target="_blank" rel="noopener">https://github.com/mamoe/mirai</a></p><p>Mirai Consoleï¼š <a href="https://github.com/mamoe/mirai-console" target="_blank" rel="noopener">https://github.com/mamoe/mirai-console</a></p><p>mirai-api-httpï¼š <a href="https://github.com/project-mirai/mirai-api-http" target="_blank" rel="noopener">https://github.com/project-mirai/mirai-api-http</a></p><p>Mirai Console Loaderï¼š <a href="https://github.com/iTXTech/mirai-console-loader" target="_blank" rel="noopener">https://github.com/iTXTech/mirai-console-loader</a></p><p>iTXTech MCL Installerï¼š <a href="https://github.com/iTXTech/mcl-installer" target="_blank" rel="noopener">https://github.com/iTXTech/mcl-installer</a></p><p>mirai-login-solver-seleniumï¼š <a href="https://github.com/project-mirai/mirai-login-solver-selenium" target="_blank" rel="noopener">https://github.com/project-mirai/mirai-login-solver-selenium</a></p><p>Graia Frameworkï¼š <a href="https://github.com/GraiaProject/Application" target="_blank" rel="noopener">https://github.com/GraiaProject/Application</a></p>]]></content>
      
      
      <categories>
          
          <category> NLP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mirai </tag>
            
            <tag> QQæœºå™¨äºº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu20.04å®‰è£…åŠ å„é¡¹é…ç½®</title>
      <link href="/posts/ubuntu-install/"/>
      <url>/posts/ubuntu-install/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€å®‰è£…"><a href="#ä¸€ã€å®‰è£…" class="headerlink" title="ä¸€ã€å®‰è£…"></a>ä¸€ã€å®‰è£…</h3><h4 id="é€‰æ‹©è¯­è¨€"><a href="#é€‰æ‹©è¯­è¨€" class="headerlink" title="é€‰æ‹©è¯­è¨€"></a>é€‰æ‹©è¯­è¨€</h4><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130000610.jpg" alt=""></p><h4 id="é€‰æ‹©é”®ç›˜å¸ƒå±€"><a href="#é€‰æ‹©é”®ç›˜å¸ƒå±€" class="headerlink" title="é€‰æ‹©é”®ç›˜å¸ƒå±€"></a>é€‰æ‹©é”®ç›˜å¸ƒå±€</h4><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001230.jpg" alt=""></p><h4 id="é€‰æ‹©å®‰è£…æ–¹å¼"><a href="#é€‰æ‹©å®‰è£…æ–¹å¼" class="headerlink" title="é€‰æ‹©å®‰è£…æ–¹å¼"></a>é€‰æ‹©å®‰è£…æ–¹å¼</h4><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001205.jpg" alt=""></p><h4 id="é€‰æ‹©å®‰è£…ç±»å‹"><a href="#é€‰æ‹©å®‰è£…ç±»å‹" class="headerlink" title="é€‰æ‹©å®‰è£…ç±»å‹"></a>é€‰æ‹©å®‰è£…ç±»å‹</h4><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001224.jpg" alt=""></p><p>/åˆ†åŒºï¼Œæˆ‘è¿™é‡Œé€‰æ‹©åˆ†é…70Gçš„ç©ºé—´</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001134.jpg" alt=""></p><p>äº¤æ¢åˆ†åŒºï¼Œæˆ‘åªåˆ†é…äº†4Gçš„ç©ºé—´</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001214.jpg" alt=""></p><p>/bootåˆ†åŒºï¼Œç½‘ä¸Šçš„æ•™ç¨‹è¿™é‡Œéƒ½åªåˆ†é…å‡ ç™¾MBçš„ç©ºé—´ï¼Œæˆ‘è¿™ä¸€æ¬¡é‡è£…çš„åŸå› å°±æ˜¯å‡çº§å†…æ ¸æ—¶ç”±äº/bootç©ºé—´ä¸å¤Ÿè€Œå¤±è´¥ï¼Œåˆæ— æ³•å¢å¤§è¯¥åˆ†åŒºï¼Œå°è¯•åˆ é™¤æ—§å†…æ ¸ä¹Ÿæ— æ•ˆï¼Œæ— å¥ˆä¹‹ä¸‹é‡è£…ç³»ç»Ÿï¼Œ/bootåˆ†é…2Gç©ºé—´</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001237.jpg" alt=""></p><p>/homeåˆ†åŒºï¼Œæˆ‘åˆ†é…äº†48Gç©ºé—´ï¼Œ/efiåˆ†åŒºï¼Œæˆ‘çš„128Gç¡¬ç›˜å‰©ä½™1Gå·¦å³ï¼Œå°†è¿™äº›ç©ºé—´å…¨éƒ¨åˆ†é…ç»™efiåˆ†åŒº</p><p>æœ€ç»ˆåˆ†é…ç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001242.jpg" alt=""></p><h4 id="é€‰æ‹©åœ°åŒº"><a href="#é€‰æ‹©åœ°åŒº" class="headerlink" title="é€‰æ‹©åœ°åŒº"></a>é€‰æ‹©åœ°åŒº</h4><p>æ­¤å¤„æ— å›¾</p><h4 id="é…ç½®ç”¨æˆ·åå¯†ç "><a href="#é…ç½®ç”¨æˆ·åå¯†ç " class="headerlink" title="é…ç½®ç”¨æˆ·åå¯†ç "></a>é…ç½®ç”¨æˆ·åå¯†ç </h4><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001247.jpg" alt=""></p><h3 id="äºŒã€ä¸€äº›é…ç½®"><a href="#äºŒã€ä¸€äº›é…ç½®" class="headerlink" title="äºŒã€ä¸€äº›é…ç½®"></a>äºŒã€ä¸€äº›é…ç½®</h3><h4 id="1-ä¸ºrootç”¨æˆ·æ·»åŠ å¯†ç "><a href="#1-ä¸ºrootç”¨æˆ·æ·»åŠ å¯†ç " class="headerlink" title="1. ä¸ºrootç”¨æˆ·æ·»åŠ å¯†ç "></a>1. ä¸ºrootç”¨æˆ·æ·»åŠ å¯†ç </h4><p>ç”±äºUbuntuåˆšå®‰è£…æ—¶rootç”¨æˆ·æ˜¯æ²¡æœ‰å¯†ç çš„ï¼Œéœ€è¦ä¸ºrootè®¾ç½®å¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ç¬¬ä¸€æ¬¡è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ä»¥æ‰§è¡Œsudoæƒé™çš„å‘½ä»¤ï¼Œå†è¾“å…¥ä¸¤æ¬¡ä¸ºrootè®¾ç½®çš„æ–°å¯†ç </p><h4 id="2-è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜"><a href="#2-è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜" class="headerlink" title="2. è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜"></a>2. è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜</h4><p>ç”±äºæˆ‘é™¤äº†å®‰è£…ç³»ç»Ÿçš„128Gå›ºæ€ä¹‹å¤–è¿˜æœ‰ä¸€å—2Tçš„æ•°æ®ç›˜ï¼Œæ¯æ¬¡å¼€æœºéƒ½è¦æ‰‹åŠ¨æŒ‚è½½çš„è¯éå¸¸éº»çƒ¦ï¼Œè®¾ç½®è‡ªåŠ¨æŒ‚è½½å¯ä»¥çœä¸‹ä¸å°‘æ—¶é—´ã€‚</p><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo blkid</span><br></pre></td></tr></table></figure><p>å¾—åˆ°ç±»ä¼¼å¦‚ä¸‹ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;dev&#x2F;nvme0n1p2: UUID&#x3D;&quot;86a4a9ac-3ef7-4285-bb5a-25d18748a2d7&quot; TYPE&#x3D;&quot;swap&quot; PARTUUID&#x3D;&quot;97fcac94-ac56-4868-83a7-5fd86627b6ca&quot;</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p1: UUID&#x3D;&quot;8705b28b-d4ed-44b4-ba22-d580adc5f660&quot; TYPE&#x3D;&quot;ext4&quot; PARTUUID&#x3D;&quot;ad567570-370b-456f-8a7d-2cbb95f3e2c5&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop0: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop1: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop2: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop3: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop4: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop5: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop6: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop7: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p3: UUID&#x3D;&quot;99d887ca-093c-42e4-b559-8ce487582dba&quot; TYPE&#x3D;&quot;ext4&quot; PARTUUID&#x3D;&quot;0189dfdd-12ce-4b0d-afb5-560b10dcb73f&quot;</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p4: UUID&#x3D;&quot;a2263ce8-2541-40e5-beaa-8f0a5fedf8d2&quot; TYPE&#x3D;&quot;ext4&quot; PARTUUID&#x3D;&quot;ff1784cf-26a9-4dae-90a2-a3e0a7c90acc&quot;</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p5: UUID&#x3D;&quot;0CBD-9D7D&quot; TYPE&#x3D;&quot;vfat&quot; PARTUUID&#x3D;&quot;8b352fc8-fd4b-43ea-b97c-fbfd6f401f28&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda1: LABEL&#x3D;&quot;Data&quot; UUID&#x3D;&quot;A03C00983C006C1A&quot; TYPE&#x3D;&quot;ntfs&quot; PARTLABEL&#x3D;&quot;Basic data partition&quot; PARTUUID&#x3D;&quot;276a3145-f2a5-4566-83be-7e22bf203706&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda2: LABEL&#x3D;&quot;M-fM-^AM-\&quot;M-eM-$M-^M&quot; UUID&#x3D;&quot;BE2C196B2C192047&quot; TYPE&#x3D;&quot;ntfs&quot; PARTLABEL&#x3D;&quot;Basic data partition&quot; PARTUUID&#x3D;&quot;8a98b31f-d6c9-447f-b586-a027f2c1d23c&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda3: UUID&#x3D;&quot;B61B-0118&quot; TYPE&#x3D;&quot;vfat&quot; PARTLABEL&#x3D;&quot;EFI system partition&quot; PARTUUID&#x3D;&quot;b75d4ff7-ebfd-46d9-8d5e-fd591fe9514a&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda5: UUID&#x3D;&quot;62E21DDDE21DB66F&quot; TYPE&#x3D;&quot;ntfs&quot; PARTLABEL&#x3D;&quot;Basic data partition&quot; PARTUUID&#x3D;&quot;8c6df33c-cfa3-438b-8a65-0cde412ff5df&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop8: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop9: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop10: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda4: PARTLABEL&#x3D;&quot;Microsoft reserved partition&quot; PARTUUID&#x3D;&quot;dea4dd3d-81fa-415e-843a-e9062c4f50e3&quot;</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°å¹¶è®°ä½è‡ªå·±è¦æŒ‚è½½çš„ç£ç›˜çš„UUIDå’ŒTypeï¼Œç¼–è¾‘fstabæ–‡ä»¶ï¼Œå‡è®¾ä¸º UUID=abcdefgï¼ŒType=â€ntfsâ€,åˆ›å»ºè¦æŒ‚è½½çš„ç›®å½•ï¼Œæ¯”å¦‚ /mnt/Data</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /mnt/Data</span><br><span class="line">sudo vim /etc/fstab</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># UUID æŒ‚è½½ç›®å½• åˆ†åŒºç£ç›˜æ ¼å¼ é€‰é¡¹ æ˜¯å¦å¼€æœºæ£€æŸ¥ åˆ†åŒºç±»å‹</span><br><span class="line">UUID&#x3D;abcdefg   &#x2F;mnt&#x2F;Data   ntfs    defaults    0   2</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ˜¯å¦å¼€æœºæ£€æŸ¥ï¼Œç¬¬äºŒä¸ªæ•°å­—è¡¨ç¤ºåˆ†åŒºç±»å‹ï¼Œ0ä¸ºäº¤æ¢åˆ†åŒºï¼Œ1ä¸ºå¯åŠ¨åˆ†åŒºï¼Œ2ä¸ºæ™®é€šåˆ†åŒº</p><p><strong>ä¸çŸ¥é“è‡ªå·±è¦æŒ‚è½½çš„æ˜¯å“ªå—åˆ†åŒºæ€ä¹ˆåŠï¼Ÿ</strong></p><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ ¹æ®å„åˆ†åŒºçš„ä¿¡æ¯ç¡®å®š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l</span><br></pre></td></tr></table></figure><p>å¯ä»¥å¾—åˆ°ç±»ä¼¼è¿™ç§ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">Disk &#x2F;dev&#x2F;loop0ï¼š97.9 MiBï¼Œ102637568 å­—èŠ‚ï¼Œ200464 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop1ï¼š54.98 MiBï¼Œ57626624 å­—èŠ‚ï¼Œ112552 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop2ï¼š9.7 MiBï¼Œ9510912 å­—èŠ‚ï¼Œ18576 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop3ï¼š62.9 MiBï¼Œ65105920 å­—èŠ‚ï¼Œ127160 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop4ï¼š29.9 MiBï¼Œ31334400 å­—èŠ‚ï¼Œ61200 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop5ï¼š255.58 MiBï¼Œ267980800 å­—èŠ‚ï¼Œ523400 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop6ï¼š49.8 MiBï¼Œ52203520 å­—èŠ‚ï¼Œ101960 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop7ï¼š31.9 MiBï¼Œ32600064 å­—èŠ‚ï¼Œ63672 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;nvme0n1ï¼š119.25 GiBï¼Œ128035676160 å­—èŠ‚ï¼Œ250069680 ä¸ªæ‰‡åŒº</span><br><span class="line">Disk model: KBG30ZMT128G TOSHIBA                    </span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">ç£ç›˜æ ‡ç­¾ç±»å‹ï¼šgpt</span><br><span class="line">ç£ç›˜æ ‡è¯†ç¬¦ï¼š7A17571D-39A0-4B0F-B57E-CB2437365401</span><br><span class="line"></span><br><span class="line">è®¾å¤‡                èµ·ç‚¹      æœ«å°¾      æ‰‡åŒº  å¤§å° ç±»å‹</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p1      2048 139999231 139997184 66.8G Linux æ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p2 139999232 147998719   7999488  3.8G Linux swap</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p3 147998720 151998463   3999744  1.9G Linux æ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p4 154068992 250068991  96000000 45.8G Linux æ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p5 151998464 154068991   2070528 1011M EFI ç³»ç»Ÿ</span><br><span class="line"></span><br><span class="line">åˆ†åŒºè¡¨è®°å½•æ²¡æœ‰æŒ‰ç£ç›˜é¡ºåºã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;sdaï¼š1.84 TiBï¼Œ2000398934016 å­—èŠ‚ï¼Œ3907029168 ä¸ªæ‰‡åŒº</span><br><span class="line">Disk model: WDC WD20SPZX-08U</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 4096 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š4096 å­—èŠ‚ &#x2F; 4096 å­—èŠ‚</span><br><span class="line">ç£ç›˜æ ‡ç­¾ç±»å‹ï¼šgpt</span><br><span class="line">ç£ç›˜æ ‡è¯†ç¬¦ï¼šBA79D8A9-DDCC-4B25-8DE2-20FADCB70928</span><br><span class="line"></span><br><span class="line">è®¾å¤‡             èµ·ç‚¹       æœ«å°¾       æ‰‡åŒº   å¤§å° ç±»å‹</span><br><span class="line">&#x2F;dev&#x2F;sda1       32768 3638593535 3638560768   1.7T Microsoft åŸºæœ¬æ•°æ®</span><br><span class="line">&#x2F;dev&#x2F;sda2  3638593536 3639676927    1083392   529M Microsoft åŸºæœ¬æ•°æ®</span><br><span class="line">&#x2F;dev&#x2F;sda3  3639676928 3639881727     204800   100M EFI ç³»ç»Ÿ</span><br><span class="line">&#x2F;dev&#x2F;sda4  3639881728 3639914495      32768    16M Microsoft ä¿ç•™</span><br><span class="line">&#x2F;dev&#x2F;sda5  3639914496 3898640383  258725888 123.4G Microsoft åŸºæœ¬æ•°æ®</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop8ï¼š55.39 MiBï¼Œ58073088 å­—èŠ‚ï¼Œ113424 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop9ï¼š51.4 MiBï¼Œ53522432 å­—èŠ‚ï¼Œ104536 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop10ï¼š64.79 MiBï¼Œ67915776 å­—èŠ‚ï¼Œ132648 ä¸ªæ‰‡åŒº</span><br><span class="line">å•å…ƒï¼šæ‰‡åŒº &#x2F; 1 * 512 &#x3D; 512 å­—èŠ‚</span><br><span class="line">æ‰‡åŒºå¤§å°(é€»è¾‘&#x2F;ç‰©ç†)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br><span class="line">I&#x2F;O å¤§å°(æœ€å°&#x2F;æœ€ä½³)ï¼š512 å­—èŠ‚ &#x2F; 512 å­—èŠ‚</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æˆ‘è¦æŒ‚è½½çš„æ˜¯1.7Tçš„/dev/sda1åˆ†åŒºï¼Œå¤åˆ¶UUIDï¼Œå†ç¼–è¾‘fstabæ–‡ä»¶å³å¯ã€‚</p><p>ä¸‹æ¬¡å¼€æœºå°±ä¼šè‡ªåŠ¨æŒ‚è½½ï¼Œæ­¤æ—¶è¦æŒ‚è½½å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/sda1 /mnt/Data</span><br></pre></td></tr></table></figure><h4 id="3-ä¿®æ”¹æ–‡ä»¶ç®¡ç†å™¨ä¾§è¾¹æ é»˜è®¤çš„å›¾ç‰‡ã€æ–‡æ¡£ã€ä¸‹è½½ç­‰æ–‡ä»¶å¤¹çš„ä½ç½®"><a href="#3-ä¿®æ”¹æ–‡ä»¶ç®¡ç†å™¨ä¾§è¾¹æ é»˜è®¤çš„å›¾ç‰‡ã€æ–‡æ¡£ã€ä¸‹è½½ç­‰æ–‡ä»¶å¤¹çš„ä½ç½®" class="headerlink" title="3. ä¿®æ”¹æ–‡ä»¶ç®¡ç†å™¨ä¾§è¾¹æ é»˜è®¤çš„å›¾ç‰‡ã€æ–‡æ¡£ã€ä¸‹è½½ç­‰æ–‡ä»¶å¤¹çš„ä½ç½®"></a>3. ä¿®æ”¹æ–‡ä»¶ç®¡ç†å™¨ä¾§è¾¹æ é»˜è®¤çš„å›¾ç‰‡ã€æ–‡æ¡£ã€ä¸‹è½½ç­‰æ–‡ä»¶å¤¹çš„ä½ç½®</h4><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.config/user-dirs.dirs</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹é…ç½®è§†ä¸ªäººæƒ…å†µè‡ªè¡Œå†³å®šï¼Œè¿™é‡Œä»…å±•ç¤ºæˆ‘çš„é…ç½®ï¼ˆç”±äºæˆ‘æœ‰ä¸€å—é¢å¤–çš„æ•°æ®ç›˜ï¼Œæ‰€ä»¥å°†è¿™äº›å†…å®¹éƒ½æ”¾åœ¨å¦ä¸€å—ç£ç›˜ä¸­ï¼Œå¯ä»¥åœ¨é‡è£…ç³»ç»Ÿçš„æ—¶å€™ä¸å¿…åˆ é™¤æ‰€æœ‰çš„æ•°æ®ï¼‰</p><p>å°† </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">XDG_DOWNLOAD_DIR&#x3D;&quot;$HOME&#x2F;ä¸‹è½½&quot;</span><br><span class="line">XDG_DOCUMENTS_DIR&#x3D;&quot;$HOME&#x2F;æ–‡æ¡£&quot;</span><br><span class="line">XDG_MUSIC_DIR&#x3D;&quot;$HOME&#x2F;éŸ³ä¹&quot;</span><br><span class="line">XDG_PICTURES_DIR&#x3D;&quot;$HOME&#x2F;å›¾ç‰‡&quot;</span><br><span class="line">XDG_VIDEOS_DIR&#x3D;&quot;$HOME&#x2F;è§†é¢‘&quot;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">XDG_DOWNLOAD_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;Downloads&quot;</span><br><span class="line">XDG_DOCUMENTS_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;WorkSpace&#x2F;Word&quot;</span><br><span class="line">XDG_MUSIC_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;WorkSpace&#x2F;Music&quot;</span><br><span class="line">XDG_PICTURES_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;WorkSpace&#x2F;Photo&quot;</span><br><span class="line">XDG_VIDEOS_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;WorkSpace&#x2F;Video&quot;</span><br></pre></td></tr></table></figure><p>è¿™äº›é…ç½®å°†åœ¨ä¸‹ä¸€æ¬¡æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨çš„æ—¶å€™æ”¹å˜ï¼Œæ—§çš„ç›®å½•ä¼šè‡ªåŠ¨æ·»åŠ åˆ°æ”¶è—æ ï¼Œå¯ä»¥è§†æƒ…å†µè‡ªè¡Œåˆ é™¤ã€‚</p><h4 id="4-é…ç½®ssh"><a href="#4-é…ç½®ssh" class="headerlink" title="4. é…ç½®ssh"></a>4. é…ç½®ssh</h4><p><strong>åœ¨æœ¬åœ°ä¿å­˜æœåŠ¡å™¨ä¿¡æ¯</strong>ï¼Œä¸éœ€è¦æ¯æ¬¡è¿æ¥æ—¶è¾“å…¥ipå’Œå¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹ä¿¡æ¯ï¼Œå…¶ä¸­nameæ˜¯æ–¹ä¾¿è‡ªå·±è®°å¿†çš„æœåŠ¡å™¨åå­—ï¼Œå¯ä»¥éšæ„ï¼Œä¸‹ä¸€æ¬¡è¿æ¥åªéœ€è¦ <code>ssh name</code> å³å¯ï¼Œipæ˜¯è‡ªå·±çš„æœåŠ¡å™¨ipï¼Œ22æ˜¯é»˜è®¤ç«¯å£ï¼Œå¯ä»¥ä¸å†™ï¼Œå¦‚æœä¸æ˜¯22ç«¯å£å°±è¦å†™åœ¨è¿™é‡Œï¼Œusernameæ˜¯åœ¨æœåŠ¡å™¨ä¸Šçš„è´¦æˆ·åå­—ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Host name</span><br><span class="line">HostName ip</span><br><span class="line">Port 22</span><br><span class="line">User username</span><br></pre></td></tr></table></figure><p><strong>åœ¨æœåŠ¡å™¨ä¸Šä¿å­˜è‡ªå·±çš„ipå’Œå¯†ç </strong></p><p>å…ˆåœ¨æœ¬åœ°ç”Ÿæˆä¸€å¯¹å…¬é’¥å¯†é’¥ï¼Œè¿‡ç¨‹éœ€è¦è¾“å…¥ç”Ÿæˆçš„ç›®å½•ï¼Œé»˜è®¤æ˜¯~/.sshç›®å½•ã€‚è¯¥å‘½ä»¤ä¼šç”Ÿæˆï¼šid_rsaï¼ˆå¯†é’¥ï¼‰å’Œ id_rsa.pubï¼ˆå…¬é’¥ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>å°†å…¬é’¥æ‹·è´åˆ°æœåŠ¡å™¨ä¸Šï¼Œå…¶ä¸­çš„nameæ˜¯å‰é¢ä¿å­˜ä¿¡æ¯æ—¶å€™å†™çš„åå­—ï¼Œè¯¥è¿‡ç¨‹ä¼šè¯¢é—®æ˜¯å¦ä¿¡ä»»è¯¥æœåŠ¡å™¨å¹¶è¦æ±‚è¾“å…¥ä¸€æ¬¡æœåŠ¡å™¨å¯†ç ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id name</span><br></pre></td></tr></table></figure><p>ä¹‹åç›´æ¥ä½¿ç”¨ <code>ssh name</code> å³å¯è¿æ¥æœåŠ¡å™¨ã€‚</p><h3 id="ä¸‰ã€å®‰è£…åŠé…ç½®å¸¸ç”¨è½¯ä»¶"><a href="#ä¸‰ã€å®‰è£…åŠé…ç½®å¸¸ç”¨è½¯ä»¶" class="headerlink" title="ä¸‰ã€å®‰è£…åŠé…ç½®å¸¸ç”¨è½¯ä»¶"></a>ä¸‰ã€å®‰è£…åŠé…ç½®å¸¸ç”¨è½¯ä»¶</h3><h4 id="0-æ¢æº"><a href="#0-æ¢æº" class="headerlink" title="0. æ¢æº"></a>0. æ¢æº</h4><p>æ¡Œé¢ç‰ˆçš„Ubuntuæ¢æºè¦æ¯”å‘½ä»¤è¡Œæ–¹ä¾¿å¤šäº†ï¼Œç‚¹å‡»å³ä¸Šè§’å›¾æ ‡-è®¾ç½®-å…³äº-software updates-ä¸‹è½½è‡ª</p><p>å¦‚æœå®‰è£…å¸ˆåœ°åŒºé€‰æ‹©äº†å›½å†…ï¼ˆshanghaiï¼‰è¿™é‡Œä¼šæ˜¯â€œä¸­å›½çš„æœåŠ¡å™¨â€ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šä¸€äº›ä¸æ–¹ä¾¿ï¼Œæˆ‘ä¼šæ‰‹åŠ¨æ”¹æˆé˜¿é‡Œäº‘çš„æºæˆ–æ¸…åçš„æºã€‚å•å‡»ä¸‹æ‹‰é€‰é¡¹ï¼Œé€‰æ‹©å…¶ä»–ç«™ç‚¹ï¼Œé€‰æ‹©é˜¿é‡Œäº‘çš„æº(mirrors.aliyun.com)æˆ–æ¸…åçš„æº(mirrors.tuna.tsinghua.edu.cn)ã€‚ç‚¹å‡»é€‰æ‹©æœåŠ¡å™¨ï¼Œå…³é—­æ—¶ä¼šæ›´æ–°è½¯ä»¶ç¼“å­˜ã€‚</p><h4 id="1-v2ray"><a href="#1-v2ray" class="headerlink" title="1. v2ray"></a>1. v2ray</h4><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œç½‘ç»œå’Œgitæ˜¯ç¨‹åºå‘˜å¿…ä¸å¯å°‘çš„ä¸¤ä»¶åˆ©å™¨ï¼Œæ–°è£…ç³»ç»Ÿå…ˆæŠŠç½‘ç»œé…ç½®å¥½æ‰èƒ½æ›´å¥½åœ°ä½¿ç”¨ã€‚</p><p>å®‰è£…æ–¹å¼ï¼Œå‚è€ƒ <a href="https://github.com/v2fly/" target="_blank" rel="noopener">https://github.com/v2fly/</a></p><p>å¯èƒ½é‡åˆ°çš„é—®é¢˜ <a href="https://github.com/v2fly/fhs-install-v2ray/issues/122" target="_blank" rel="noopener">https://github.com/v2fly/fhs-install-v2ray/issues/122</a></p><p>ä½¿ç”¨ <code>sudo systemctl enable v2ray</code> è®¾ç½®v2rayå¼€æœºè‡ªå¯</p><h4 id="2-git"><a href="#2-git" class="headerlink" title="2.  git"></a>2.  git</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install git</span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹gitçš„æ‰€æœ‰é…ç½®</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ä»£ç†</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†å…¶ä¸­çš„portæ›¿æ¢ä¸ºè‡ªå·±çš„httpä»£ç†ç«¯å£</span></span><br><span class="line">git config --global http.proxy http://localhost:port</span><br><span class="line">git config --global https.proxy http://localhost:port</span><br></pre></td></tr></table></figure><p><strong>ä¸ºgitè®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"yourname"</span></span><br><span class="line">git config --global user.email youremail@youremail</span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹ç”¨æˆ·åå’Œé‚®ç®±</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure><h4 id="3-vim"><a href="#3-vim" class="headerlink" title="3. vim"></a>3. vim</h4><p>ç¼–è¾‘å™¨ä¼—å¤šï¼Œæœ€å°å·§ï¼Œä¸ªæ€§åŒ–é…ç½®æœ€çµæ´»çš„æˆ‘è®¤ä¸ºè¦æ•°vimäº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install vim</span><br><span class="line">vim ~/.vimrc</span><br></pre></td></tr></table></figure><p><strong>ä¿®æ”¹é…ç½®æ–‡ä»¶</strong></p><p>ä»¥ä¸‹æ˜¯ä¸€äº›ç®€å•çš„é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&quot;æ˜¾ç¤ºè¡Œå·ï¼Œå…³é—­è¡Œå·çš„å‘½ä»¤ä¸ºset nonumber</span><br><span class="line">set number</span><br><span class="line">&quot;ä¸ä¸ Vi å…¼å®¹</span><br><span class="line">set nocompatible</span><br><span class="line">&quot;è¯­æ³•é«˜äº®</span><br><span class="line">syntax on</span><br><span class="line">&quot;å¯ç”¨256è‰²</span><br><span class="line">set t_Co&#x3D;256</span><br><span class="line">&quot;å¼€å¯æ–‡ä»¶ç±»å‹æ£€æŸ¥ï¼Œå¹¶ä¸”è½½å…¥ä¸è¯¥ç±»å‹å¯¹åº”çš„ç¼©è¿›è§„åˆ™ã€‚</span><br><span class="line">filetype indent on</span><br><span class="line">&quot;ä¸‹ä¸€è¡Œçš„ç¼©è¿›ä¼šè‡ªåŠ¨è·Ÿä¸Šä¸€è¡Œçš„ç¼©è¿›ä¿æŒä¸€è‡´</span><br><span class="line">set autoindent</span><br><span class="line">&quot;å…‰æ ‡æ‰€åœ¨çš„å½“å‰è¡Œé«˜äº®ã€‚</span><br><span class="line">set cursorline</span><br><span class="line">&quot;è¾“å…¥æœç´¢æ¨¡å¼æ—¶ï¼Œæ¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œå°±è‡ªåŠ¨è·³åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„ç»“æœ</span><br><span class="line">set incsearch</span><br><span class="line">&quot;å…‰æ ‡é‡åˆ°æ‹¬å·æ—¶è‡ªåŠ¨é«˜äº®å¯¹åº”çš„å¦ä¸€ä¸ªæ‹¬å·</span><br><span class="line">set showmatch</span><br><span class="line">&quot;ä¿å­˜æ“ä½œå†å²åœ¨æ–‡ä»¶ä¸­</span><br><span class="line">set undofile</span><br><span class="line">&quot;è®¾ç½®æœ€å¤šä¿å­˜å¤šå°‘æ¬¡æ“ä½œå†å²</span><br><span class="line">set history&#x3D;1000</span><br><span class="line">&quot;è®¾ç½®ä¿å­˜æ“ä½œå†å²çš„æ–‡ä»¶è·¯å¾„</span><br><span class="line">set undodir&#x3D;~&#x2F;.vim&#x2F;.undo&#x2F;&#x2F;</span><br><span class="line">&quot;è®¾ç½®å¤‡ä»½æ–‡ä»¶è·¯å¾„</span><br><span class="line">set backupdir&#x3D;~&#x2F;.vim&#x2F;.backup&#x2F;&#x2F;</span><br><span class="line">&quot;è®¾ç½®äº¤æ¢æ–‡ä»¶è·¯å¾„</span><br><span class="line">set directory&#x3D;~&#x2F;.vim&#x2F;.swp&#x2F;&#x2F;</span><br><span class="line">&quot;æ‰“å¼€æ–‡ä»¶ç›‘è§†ã€‚å¦‚æœåœ¨ç¼–è¾‘è¿‡ç¨‹ä¸­æ–‡ä»¶å‘ç”Ÿå¤–éƒ¨æ”¹å˜ï¼ˆæ¯”å¦‚è¢«åˆ«çš„ç¼–è¾‘å™¨ç¼–è¾‘äº†ï¼‰ï¼Œå°±ä¼šå‘å‡ºæç¤º</span><br><span class="line">set autoread</span><br><span class="line">&quot;å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œåº•éƒ¨æ“ä½œæŒ‡ä»¤æŒ‰ä¸‹ Tab é”®è‡ªåŠ¨è¡¥å…¨ã€‚ç¬¬ä¸€æ¬¡æŒ‰ä¸‹ Tabï¼Œä¼šæ˜¾ç¤ºæ‰€æœ‰åŒ¹é…çš„æ“ä½œæŒ‡ä»¤çš„æ¸…å•ï¼›ç¬¬äºŒæ¬¡æŒ‰ä¸‹ Tabï¼Œä¼šä¾æ¬¡é€‰æ‹©å„ä¸ªæŒ‡ä»¤ã€‚</span><br><span class="line">set wildmenu</span><br><span class="line">set wildmode&#x3D;longest:list,full</span><br></pre></td></tr></table></figure><p>æ›´å¤šé…ç½®å¯ä»¥å‚è€ƒï¼š<a href="http://www.ruanyifeng.com/blog/2018/09/vimrc.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2018/09/vimrc.html</a> è¯„è®ºåŒºä¹Ÿæ˜¯æœ‰ä¸€äº›å¥½å†…å®¹çš„ã€‚</p><p>ä¸€äº›å¸¸ç”¨æŠ€å·§ï¼š<a href="https://blog.csdn.net/weixin_47550354/article/details/106794738" target="_blank" rel="noopener">https://blog.csdn.net/weixin_47550354/article/details/106794738</a></p><h4 id="4-vscode"><a href="#4-vscode" class="headerlink" title="4. vscode"></a>4. vscode</h4><p>å¯è§†åŒ–çš„ç¼–è¾‘å™¨æˆ‘ç”¨vscode</p><p>åœ¨å®˜ç½‘ä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ… <a href="https://code.visualstudio.com/download" target="_blank" rel="noopener">https://code.visualstudio.com/download</a></p><p>é€‰æ‹©debåŒ…ç›´æ¥ä¸‹è½½ï¼Œä¸‹è½½å¥½ååŒå‡»å°±å¯ä»¥å®‰è£…ã€‚</p><p><strong>æ·»åŠ æ’ä»¶</strong></p><p>æ¨èçš„å‡ ä¸ªæ’ä»¶ï¼š</p><ul><li>chinese - ç®€ä½“ä¸­æ–‡ï¼Œè‹±æ–‡å¥½çš„å¯ä»¥å¿½ç•¥</li><li>remote-ssh - sshè¿æ¥å·¥å…·ï¼Œå¯ä»¥ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šç¼–è¾‘ä»£ç ï¼Œä¼šè‡ªåŠ¨è¯»å–æœ¬åœ°~/.ssh/configæ–‡ä»¶ä¸­ä¿å­˜çš„æœåŠ¡å™¨</li><li>Indent-Rainbow - è®©å¯¹é½æ›´å…·æœ‰å¯è¯»æ€§</li><li>Bracket Pair Colorizer - è®©æ‹¬å·æ›´å…·æœ‰å¯è¯»æ€§</li><li>Material Icon Theme - å¥½çœ‹çš„å›¾æ ‡</li></ul><p>æ›´å¤šæ’ä»¶å‚è€ƒ <a href="https://zhuanlan.zhihu.com/p/40417719" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/40417719</a></p><p><strong>åœ¨å³é”®æ·»åŠ  â€œåœ¨VSCodeä¸­æ‰“å¼€â€</strong></p><p>åˆ›å»ºè„šæœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶åå³ä¸ºå³é”®æ—¶æ˜¾ç¤ºçš„å‘½ä»¤åï¼Œå¯ä»¥è‡ªå®šä¹‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.<span class="built_in">local</span>/share/nautilus/scripts/codeit</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">code $NAUTILUS_SCRIPT_SELECTED_FILE_PATHS</span><br></pre></td></tr></table></figure><p>æ·»åŠ æ‰§è¡Œæƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod u+x code_it</span><br></pre></td></tr></table></figure><h4 id="5-chrome"><a href="#5-chrome" class="headerlink" title="5. chrome"></a>5. chrome</h4><p>æµè§ˆå™¨æˆ‘ç”¨chrome</p><p><strong>é…ç½®æ’ä»¶</strong></p><p>å‰é¢å®‰è£…å¥½v2rayè¿˜æ²¡æœ‰çœŸæ­£ä½¿ç”¨ï¼Œè¿™é‡Œé…åˆæµè§ˆå™¨æ’ä»¶ ProxySwitchyOmega å¯ä»¥æ–¹ä¾¿åœ°åˆ‡æ¢ä¸åŒç½‘ç»œç¯å¢ƒã€‚æ’ä»¶è‡ªå¸¦æ•™ç¨‹ï¼Œè¿™é‡Œä¸åšèµ˜è¿°ã€‚</p><p><strong>æ·»åŠ ä»£ç†è§„åˆ™</strong></p><p>å‚è€ƒï¼š<a href="https://github.com/gfwlist/gfwlist" target="_blank" rel="noopener">https://github.com/gfwlist/gfwlist</a></p><h4 id="6-Typora"><a href="#6-Typora" class="headerlink" title="6. Typora"></a>6. Typora</h4><p>åœ¨ markdown ç¦»çº¿ç¼–è¾‘å™¨é‡Œï¼ŒTyporaç®—æ˜¯æ•°ä¸€æ•°äºŒçš„äº†ï¼Œå°å·§åˆç¾è§‚ã€‚</p><p>å‚è€ƒ <a href="https://support.typora.io/Typora-on-Linux/" target="_blank" rel="noopener">https://support.typora.io/Typora-on-Linux/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># or use</span></span><br><span class="line"><span class="comment"># sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE</span></span><br><span class="line">wget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -</span><br><span class="line"></span><br><span class="line"><span class="comment"># add Typora's repository</span></span><br><span class="line">sudo add-apt-repository <span class="string">'deb https://typora.io/linux ./'</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line"><span class="comment"># install typora</span></span><br><span class="line">sudo apt-get install typora</span><br></pre></td></tr></table></figure><p><strong>è®¾ç½®.mdæ–‡ä»¶é»˜è®¤ä½¿ç”¨Typoraæ‰“å¼€</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/gnome/defaults.list</span><br></pre></td></tr></table></figure><p>åœ¨æœ«å°¾æ·»åŠ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text&#x2F;markdown&#x3D;typora.desktop</span><br></pre></td></tr></table></figure><h4 id="7-wine-QQï¼Œwine-WeChat"><a href="#7-wine-QQï¼Œwine-WeChat" class="headerlink" title="7. wine-QQï¼Œwine-WeChat"></a>7. wine-QQï¼Œwine-WeChat</h4><p>æ²¡åŠæ³•ï¼Œè¿™ä¸¤ä¸ªå·¥ä½œå­¦ä¹ éƒ½éœ€è¦</p><h5 id="å®‰è£…wineæ¶æ„"><a href="#å®‰è£…wineæ¶æ„" class="headerlink" title="å®‰è£…wineæ¶æ„"></a>å®‰è£…wineæ¶æ„</h5><p>å‚è€ƒ <a href="https://github.com/wszqkzqk/deepin-wine-ubuntu" target="_blank" rel="noopener">https://github.com/wszqkzqk/deepin-wine-ubuntu</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu.git</span><br><span class="line"><span class="built_in">cd</span> deepin-wine-for-ubuntu/</span><br><span class="line">sudo bash install.sh</span><br></pre></td></tr></table></figure><p>ä¸‹è½½å¯¹åº”çš„QQ,å¾®ä¿¡å®¹å™¨å®‰è£…åŒ…ï¼ŒåŒå‡»å³å¯å®‰è£…ã€‚</p><h5 id="è§£å†³QQæ— æ³•åŠ è½½å›¾ç‰‡çš„é—®é¢˜"><a href="#è§£å†³QQæ— æ³•åŠ è½½å›¾ç‰‡çš„é—®é¢˜" class="headerlink" title="è§£å†³QQæ— æ³•åŠ è½½å›¾ç‰‡çš„é—®é¢˜"></a>è§£å†³QQæ— æ³•åŠ è½½å›¾ç‰‡çš„é—®é¢˜</h5><p>åŸå› æ˜¯wineå¯¹ipv6çš„æ”¯æŒå‡ºç°é—®é¢˜ï¼Œè¿™é‡Œä½¿ç”¨ä»£ç†æ³•æ–¹å¼ç»•å¼€wineä½¿ç”¨ipv6è¿æ¥ç½‘ç»œã€‚</p><p>ä¿®æ”¹v2rayçš„é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /usr/<span class="built_in">local</span>/etc/v2ray/config.json</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œxxxxæ›¿æ¢ä¸ºè‡ªå·±è¦è®¾ç½®çš„ç«¯å£ï¼Œä¸è¦å’Œå·²å ç”¨çš„ç«¯å£é‡å¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># åœ¨ inbounds é¡¹æ·»åŠ </span><br><span class="line">&#123;</span><br><span class="line">    &quot;tag&quot;: &quot;qq&quot;,</span><br><span class="line">    &quot;protocol&quot;: &quot;http&quot;,</span><br><span class="line">    &quot;listen&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">    &quot;port&quot;: xxxx,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;timeout&quot;: 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"># åœ¨åŸæœ‰çš„ routing åé¢æ·»åŠ </span><br><span class="line">&quot;routing&quot;: &#123;</span><br><span class="line">        &quot;domainStrategy&quot;: &quot;Asls&quot;,</span><br><span class="line">        &quot;rules&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">                &quot;inboundTag&quot;: &quot;qq&quot;,</span><br><span class="line">                &quot;outboundTag&quot;: &quot;direct&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>QQç™»é™†ç•Œé¢ç‚¹å‡»å³ä¸Šè§’è®¾ç½®ï¼Œä½¿ç”¨httpä»£ç†ï¼Œipå¡«127.0.0.1ï¼Œportå¡«ä¸Šé¢è®¾å®šçš„ç«¯å£ï¼Œç™»é™†åå¯ä»¥è§£å†³å›¾ç‰‡æ— æ³•åŠ è½½çš„é—®é¢˜ã€‚</p><p>ä¸‹æ‹‰èœå•æ— æ³•æ˜¾ç¤ºï¼Œå¯ä»¥ä½¿ç”¨ä¸Šä¸‹é”®åˆ‡æ¢ï¼Œæˆ–è€…ç‚¹å‡»å·¦ä¸Šè§’wineå³è¾¹çš„å°ç®­å¤´ï¼Œé€‰æ‹©TXMenuWindowå°±å¯ä»¥ã€‚</p><h5 id="è§£å†³å¾®ä¿¡èŠå¤©è¾“å…¥æ¡†ä¸­æ–‡æ˜¾ç¤ºä¸ºé»‘æ¡æˆ–é»‘æ¡†ï¼Œé»‘å—çš„é—®é¢˜"><a href="#è§£å†³å¾®ä¿¡èŠå¤©è¾“å…¥æ¡†ä¸­æ–‡æ˜¾ç¤ºä¸ºé»‘æ¡æˆ–é»‘æ¡†ï¼Œé»‘å—çš„é—®é¢˜" class="headerlink" title="è§£å†³å¾®ä¿¡èŠå¤©è¾“å…¥æ¡†ä¸­æ–‡æ˜¾ç¤ºä¸ºé»‘æ¡æˆ–é»‘æ¡†ï¼Œé»‘å—çš„é—®é¢˜"></a>è§£å†³å¾®ä¿¡èŠå¤©è¾“å…¥æ¡†ä¸­æ–‡æ˜¾ç¤ºä¸ºé»‘æ¡æˆ–é»‘æ¡†ï¼Œé»‘å—çš„é—®é¢˜</h5><p>å‚è€ƒ <a href="https://github.com/wszqkzqk/deepin-wine-ubuntu/issues/136#issuecomment-514585722" target="_blank" rel="noopener">https://github.com/wszqkzqk/deepin-wine-ubuntu/issues/136#issuecomment-514585722</a></p><p>ç½‘ä¸Šçš„ä¸€ç§ç®€å•æ–¹æ³•æ˜¯ä¿®æ”¹wineå¯åŠ¨æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /opt/deepinwine/tools/run.sh</span><br></pre></td></tr></table></figure><p>å°† WINE_CMD ä¸€è¡Œä¿®æ”¹ä¸º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WINE_CMD&#x3D;&quot;LC_ALL&#x3D;zh_CN.UTF-8 deepin-wine&quot;</span><br></pre></td></tr></table></figure><p>æœ¬äººå°è¯•åå‘ç°ï¼Œæ¯æ¬¡ç™»é™†å¾®ä¿¡åéœ€è¦åœ¨è¾“å…¥æ¡†è¾“å…¥ä¸€æ¬¡å°è¡¨æƒ…åæ‰æœ‰æ•ˆï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯å¦ä¸€ç§æ–¹æ³•ï¼Œä¿®æ”¹å­—ä½“æ–‡ä»¶ã€‚</p><p>ä¸‹è½½å¾®è½¯é›…é»‘å­—ä½“ï¼ˆæˆ–å…¶ä»–ä»»æ„å­—ä½“ï¼‰ï¼Œå‡è®¾ä¸‹è½½çš„å­—ä½“æ–‡ä»¶åä¸º msyh.ttc</p><h6 id="1-æ·»åŠ å­—ä½“"><a href="#1-æ·»åŠ å­—ä½“" class="headerlink" title="1)æ·»åŠ å­—ä½“"></a>1)æ·»åŠ å­—ä½“</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp msyh.ttc ~/.deepinwine/Deepin-WeChat/drive_c/windows/Fonts</span><br></pre></td></tr></table></figure><h6 id="2-ä¿®æ”¹ç³»ç»Ÿæ³¨å†Œè¡¨"><a href="#2-ä¿®æ”¹ç³»ç»Ÿæ³¨å†Œè¡¨" class="headerlink" title="2)ä¿®æ”¹ç³»ç»Ÿæ³¨å†Œè¡¨"></a>2)ä¿®æ”¹ç³»ç»Ÿæ³¨å†Œè¡¨</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit ~/.deepinwine/Deepin-WeChat/system.reg</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä»¥ä¸‹ä¸¤è¡Œ</p><p>â€œMS Shell Dlgâ€=â€msyhâ€</p><p>â€œMS Shell Dlg 2â€=â€msyhâ€</p><h6 id="3-å­—ä½“æ³¨å†Œ"><a href="#3-å­—ä½“æ³¨å†Œ" class="headerlink" title="3)å­—ä½“æ³¨å†Œ"></a>3)å­—ä½“æ³¨å†Œ</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit msyh_config.reg</span><br></pre></td></tr></table></figure><p>å†…å®¹æ·»åŠ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">REGEDIT4</span><br><span class="line">[HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontLink\SystemLink]</span><br><span class="line">&quot;Lucida Sans Unicode&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Microsoft Sans Serif&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;MS Sans Serif&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Tahoma&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Tahoma Bold&quot;&#x3D;&quot;msyhbd.ttc&quot;</span><br><span class="line">&quot;msyh&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Arial&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Arial Black&quot;&#x3D;&quot;msyh.ttc&quot;</span><br></pre></td></tr></table></figure><p>æ³¨å†Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WINEPREFIX=~/.deepinwine/Deepin-WeChat deepin-wine regedit msyh_config.reg</span><br></pre></td></tr></table></figure><h6 id="4-é‡å¯"><a href="#4-é‡å¯" class="headerlink" title="4)é‡å¯"></a>4)é‡å¯</h6><h5 id="è§£å†³å¾®ä¿¡ä¸èƒ½å‘é€å›¾ç‰‡çš„é—®é¢˜"><a href="#è§£å†³å¾®ä¿¡ä¸èƒ½å‘é€å›¾ç‰‡çš„é—®é¢˜" class="headerlink" title="è§£å†³å¾®ä¿¡ä¸èƒ½å‘é€å›¾ç‰‡çš„é—®é¢˜"></a>è§£å†³å¾®ä¿¡ä¸èƒ½å‘é€å›¾ç‰‡çš„é—®é¢˜</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libjpeg62:i386</span><br></pre></td></tr></table></figure><h4 id="8-gnomeæ’ä»¶"><a href="#8-gnomeæ’ä»¶" class="headerlink" title="8. gnomeæ’ä»¶"></a>8. gnomeæ’ä»¶</h4><p>ä¸€äº›å¥½çš„æ’ä»¶å¯ä»¥è®©ä½ çš„ Ubuntu æ›´æ˜“äºä½¿ç”¨ã€‚</p><p>é¦–å…ˆå®‰è£…è¿æ¥å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install chrome-gnome-shell</span><br></pre></td></tr></table></figure><p>å®‰è£…æµè§ˆå™¨æ’ä»¶ <a href="https://chrome.google.com/webstore/detail/gnome-shell-integration/gphhapmejobijbbhgpjhcjognlahblep" target="_blank" rel="noopener">GNOME Shell integration</a></p><p><a href="https://extensions.gnome.org/extension/19/user-themes/" target="_blank" rel="noopener"><strong>User Themes</strong></a> è‡ªå®šä¹‰ä¸»é¢˜</p><p><a href="https://extensions.gnome.org/extension/307/dash-to-dock/" target="_blank" rel="noopener"><strong>Dash to Dock</strong></a> æ›¿æ¢ç³»ç»Ÿçš„dock</p><p>å¯èƒ½ä¼šå‡ºç°ä¸¤ä¸ªdockçš„æƒ…å†µï¼Œåˆ é™¤ç³»ç»Ÿè‡ªå¸¦çš„ <code>usr/share/gnome-shell/extensions</code> ä¸‹çš„ <code>ubuntu-dock</code> </p><p><a href="https://extensions.gnome.org/extension/675/lunar-calendar/" target="_blank" rel="noopener"><strong>Lunar Calendar å†œå†</strong></a> åœ¨æ—¥å†ä¸­æ·»åŠ å†œå†</p><p>æ—§ç‰ˆæœ¬æ»šåŠ¨ä¼šå¯¼è‡´æ’ä»¶å¤±æ•ˆï¼Œæœ€æ–°ç‰ˆæœ¬ç›®å‰ï¼ˆ2021-1-28ï¼‰å‘å¸ƒè¿˜æœªé€šè¿‡ï¼Œä½œè€…åœ¨è¯„è®ºåŒºå‘å¸ƒäº†ä¸‹è½½é“¾æ¥ï¼Œå¯ä»¥ç›´æ¥å°†å‹ç¼©åŒ…è§£å‹åˆ° ~/.local/share/gnome-shell/extensions è·¯å¾„ä¸‹ï¼Œæ³¨æ„å°†æ–‡ä»¶å¤¹åæ”¹ä¸º metadata.json ä¸­æä¾›çš„ uuidï¼Œå³ <a href="mailto:lunarcal@ailin.nemui">lunarcal@ailin.nemui</a></p><p><a href="https://extensions.gnome.org/extension/3896/network-speed/" target="_blank" rel="noopener"><strong>Network Speed</strong></a> æ˜¾ç¤ºå®æ—¶ç½‘é€Ÿ</p><p><a href="https://extensions.gnome.org/extension/120/system-monitor/" target="_blank" rel="noopener"><strong>system-monitor</strong></a> æ˜¾ç¤ºç³»ç»Ÿç›‘è§†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…å­˜ä½¿ç”¨é‡ï¼ŒCPUå ç”¨ç‡ï¼Œç¡¬ç›˜ç”¨é‡ç­‰</p><p><a href="https://extensions.gnome.org/extension/1031/topicons/" target="_blank" rel="noopener"><strong>TopIcons Plus</strong></a> å°†æ—§ç‰ˆä»»åŠ¡æ å›¾æ ‡ï¼ˆGnome Shellçš„å·¦ä¸‹æ–¹ï¼‰ç§»è‡³é¡¶éƒ¨é¢æ¿ï¼ŒåŒ…æ‹¬wine-QQå’Œwine-Wechatçš„å›¾è¡¨</p><h4 id="9-VMware"><a href="#9-VMware" class="headerlink" title="9. VMware"></a>9. VMware</h4><p>å‚è€ƒ <a href="https://zj-linux-guide.readthedocs.io/zh_CN/latest/tool-install-configure/[Ubuntu%2016.04]VMware%E5%AE%89%E8%A3%85/" target="_blank" rel="noopener">https://zj-linux-guide.readthedocs.io/zh_CN/latest/tool-install-configure/[Ubuntu%2016.04]VMware%E5%AE%89%E8%A3%85/</a></p><p>ä»å®˜ç½‘ä¸‹è½½æœ€æ–°å®‰è£…åŒ… <a href="https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html" target="_blank" rel="noopener">https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html</a></p><p>èµ‹äºˆç”¨æˆ·æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod a+x VMware*.bundle</span><br></pre></td></tr></table></figure><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./VMware*.bundle</span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜ï¼šç¬¬ä¸€æ¬¡æ‰“å¼€éœ€è¦å®‰è£…â€œseveral modulesâ€ï¼Œå´â€œA required application is missingâ€</strong></p><p>è§£å†³åŠæ³•ä¸€ï¼š</p><p>é‡å¯è¿›å…¥BIOSå…³é—­å®‰å…¨å¯åŠ¨ï¼ˆsecure bootï¼‰ï¼Œæ‰§è¡Œä¸‹é¢çš„æ­¥éª¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim vm-patch.sh</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">VMWARE_VERSION=workstation-16.1.0</span><br><span class="line">TMP_FOLDER=/tmp/patch-vmware</span><br><span class="line">rm -fdr <span class="variable">$TMP_FOLDER</span></span><br><span class="line">mkdir -p <span class="variable">$TMP_FOLDER</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$TMP_FOLDER</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/mkubecek/vmware-host-modules.git</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$TMP_FOLDER</span>/vmware-host-modules</span><br><span class="line">git checkout <span class="variable">$VMWARE_VERSION</span></span><br><span class="line">git fetch</span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br><span class="line">sudo rm /usr/lib/vmware/lib/libz.so.1/libz.so.1</span><br><span class="line">sudo ln -s /lib/x86_64-linux-gnu/libz.so.1 /usr/lib/vmware/lib/libz.so.1/libz.so.1</span><br><span class="line">sudo /etc/init.d/vmware restart</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install make</span><br><span class="line">sudo bash vm-patch.sh</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•äºŒï¼š</p><p>ä¸å…³é—­å®‰å…¨æ¨¡å¼æ‰§è¡Œä¸Šé¢çš„æ­¥éª¤ä¹‹åï¼Œå®‰è£…åä»å­˜åœ¨é—®é¢˜ï¼ŒVirtual machine monitorå¯åŠ¨failedï¼ŒVirtual ethernetå¯åŠ¨failedï¼Œå¯åŠ¨è™šæ‹Ÿæœºæ—¶æç¤ºCould not open /dev/-vmmon/â€¦ </p><p>å…¶åŸç†æ˜¯å®‰å…¨å¯åŠ¨æ¨¡å¼ä¸‹vmwareçš„ä¸€äº›æ ¸å¿ƒæ¨¡å—æ²¡æœ‰è¢«å†™å…¥ï¼Œéœ€è¦è®¾ç½®ä¿¡ä»»åˆ—è¡¨</p><p>ç¬¬ä¸€æ­¥ï¼šç”Ÿäº§.privå’Œ.deræ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -x509 -newkey rsa:2048 -keyout vmware.priv -outform DER -out vmware.der -nodes -days 36500 -subj <span class="string">"/CN=VMWARE/"</span></span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 ./vmware.priv ./vmware.der $(modinfo -n vmmon)</span><br><span class="line">sudo /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 ./vmware.priv ./vmware.der $(modinfo -n vmnet)</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰æ­¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mokutil --import vmware.der</span><br><span class="line"><span class="comment"># ç„¶åè¾“å…¥ä¸¤æ¬¡å¯†ç ï¼ˆè‡ªå®šä¹‰ï¼‰</span></span><br></pre></td></tr></table></figure><p>é‡å¯ä¹‹åä¼šè¿›å…¥è“è‰²ç•Œé¢ï¼Œéœ€è¦ä½ æ‰‹åŠ¨å†™å…¥ç­¾å</p><p>é€‰æ‹© <code>enroll mok</code><br>é€‰æ‹© <code>continue</code><br>é€‰æ‹© <code>yes</code><br>è¾“å…¥ä¹‹å‰è®¾ç½®çš„å¯†ç <br>é€‰æ‹© <code>reboot</code><br>æµ‹è¯•ä½ æ˜¯å¦å†™å…¥ç­¾å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mokutil --<span class="built_in">test</span>-key zj-vmware.der</span><br><span class="line"><span class="comment"># vmware.der is already enrolled</span></span><br></pre></td></tr></table></figure><h4 id="11-Anaconda"><a href="#11-Anaconda" class="headerlink" title="11. Anaconda"></a>11. Anaconda</h4><h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„pythonï¼Œåœ¨ç³»ç»Ÿä¸­åŒæ—¶å®‰è£…å¤šä¸ªpythonç‰ˆæœ¬ä¼šéå¸¸çš„éº»çƒ¦ï¼ŒAnacondaæ˜¯ä¸€æ¬¾pythonè™šæ‹Ÿç¯å¢ƒç®¡ç†è½¯ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå’Œç®¡ç†ä¸åŒç‰ˆæœ¬çš„pythonç¯å¢ƒï¼Œä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨ä¸åŒç¯å¢ƒä¹‹é—´åˆ‡æ¢ã€‚</p><p>ä»å®˜ç½‘ä¸‹è½½æœ€æ–°çš„å®‰è£…è„šæœ¬ï¼š <a href="https://www.anaconda.com/products/individual#Downloads" target="_blank" rel="noopener">https://www.anaconda.com/products/individual#Downloads</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash Anaconda3*.sh</span><br></pre></td></tr></table></figure><p>è¿‡ç¨‹ä¼šè¦æ±‚é˜…è¯»å¹¶åŒæ„â€œlicense agreementâ€ï¼Œä¸€ç›´æŒ‰å›è½¦ç›´åˆ°ç»“æŸè¾“å…¥â€œyesâ€ã€‚ä¹‹åä¼šè¦æ±‚è¾“å…¥å®‰è£…è·¯å¾„ï¼Œå»ºè®®å®‰è£…åˆ° <code>/opt/anaconda3</code> è·¯å¾„ä¸‹ï¼Œä¸è¦å®‰è£…åˆ° <code>/root</code> æˆ– <code>/home</code> ä¸‹ï¼Œå¦åˆ™ä¸èƒ½å¤šç”¨æˆ·å…±äº«è™šæ‹Ÿç¯å¢ƒï¼ˆåŒ…æ‹¬å½“å‰ç”¨æˆ·å’Œrootè´¦æˆ·ä¹Ÿéœ€è¦åˆ†åˆ«åˆ›å»ºä¸åŒçš„è™šæ‹Ÿç¯å¢ƒï¼Œå¯¹å­˜å‚¨çš„å¼€é”€éå¸¸å¤§ï¼‰ã€‚</p><p>ä¹‹åä¾¿æ˜¯æ¼«é•¿çš„ç­‰å¾…ï¼Œæœ€åä¼šè¯¢é—®æ˜¯å¦åˆå§‹åŒ–condaï¼Œè¾“å…¥yeså³å¯ã€‚</p><p>ç”±äºåˆšåˆšæ˜¯ç”¨sudoå‘½ä»¤æ‰§è¡Œçš„ï¼Œåˆå§‹åŒ–ä¼šåœ¨ <code>/root</code> ä¸‹è¿›è¡Œåˆå§‹åŒ–ï¼Œå½“å‰è´¦æˆ·å¹¶ä¸èƒ½ä½¿ç”¨conda</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /root/.bashrc</span><br></pre></td></tr></table></figure><p>å°†å…¶ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;</span><br><span class="line">...</span><br><span class="line"># &lt;&lt;&lt; conda initialize &lt;&lt;&lt;</span><br></pre></td></tr></table></figure><p>çš„éƒ¨åˆ†å¤åˆ¶ï¼Œå†æ‰“å¼€è‡ªå·±çš„ .bashrc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>å°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°æ–‡ä»¶æœ«å°¾ï¼Œé‡æ–°æ‰“å¼€ç»ˆç«¯ï¼Œå³å¯çœ‹åˆ°å‰é¢å¤šäº†ï¼ˆbaseï¼‰å­—æ ·ï¼Œæ˜¯é»˜è®¤æ¿€æ´»çš„baseç¯å¢ƒã€‚</p><h5 id="è®¾ç½®å¤šç”¨æˆ·å…±äº«è™šæ‹Ÿç¯å¢ƒ"><a href="#è®¾ç½®å¤šç”¨æˆ·å…±äº«è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="è®¾ç½®å¤šç”¨æˆ·å…±äº«è™šæ‹Ÿç¯å¢ƒ"></a>è®¾ç½®å¤šç”¨æˆ·å…±äº«è™šæ‹Ÿç¯å¢ƒ</h5><p>å‚è€ƒï¼š<a href="https://www.zhihu.com/question/277053071/answer/946713532" target="_blank" rel="noopener">https://www.zhihu.com/question/277053071/answer/946713532</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">su - <span class="comment"># ç™»é™†åˆ°rootè´¦æˆ·</span></span><br><span class="line">groupadd anaconda <span class="comment"># åˆ›å»ºanacondaç»„</span></span><br><span class="line">adduser &lt;username&gt; anaconda <span class="comment"># å°†éœ€è¦çš„ç”¨æˆ·æ·»åŠ è‡³anacondaç»„</span></span><br><span class="line">chgrp -R anaconda /opt/anaconda3 <span class="comment"># ç§»äº¤ç›®å½•ç®¡ç†æƒ</span></span><br><span class="line">chmod 770 -R /opt/anaconda3 <span class="comment"># è®¾ç½®è¯»å†™æƒé™</span></span><br><span class="line">chmod g+s /opt/anaconda3 <span class="comment"># è®¾ç½®ç»„ç»§æ‰¿</span></span><br><span class="line">chmod g+s `find /opt/anaconda3/ -<span class="built_in">type</span> d` <span class="comment"># è®¾ç½®å­ç›®å½•ç»„ç»§æ‰¿</span></span><br><span class="line">chmod g-w /opt/anaconda3/envs <span class="comment"># å…³é—­å…±äº«ç¯å¢ƒçš„å†™å…¥æƒé™</span></span><br><span class="line"><span class="built_in">source</span> /opt/anaconda3/bin/activate <span class="comment"># rootç”¨æˆ·ä¸‹å¯åŠ¨anacondaç¯å¢ƒ</span></span><br><span class="line">conda create -n py37 python=3.7</span><br></pre></td></tr></table></figure><p>åˆ›å»ºå…±äº«ç¯å¢ƒè¿™æ ·è®¾ç½®ä¹‹åçš„æ•ˆæœæ˜¯ï¼šç”±rootç”¨æˆ·åˆ›å»ºçš„ç¯å¢ƒä¼šä¿å­˜åœ¨/opt/anaconda/envsä¸­ï¼Œæ‰€æœ‰anacondaç»„æˆå‘˜éƒ½å¯ä»¥è®¿é—®ã€‚ç”¨æˆ·è‡ªå·±åˆ›å»ºçš„ç¯å¢ƒåˆ™ä¼šä¿å­˜è‡³~/.conda/envsä¸­ï¼Œä½†æ˜¯æ‰€æœ‰ä¸‹è½½çš„pkgä¼šå…±äº«åœ¨/opt/anaconda/pkgsä¸­ï¼Œå³å¦‚æœæ˜¯åˆ«äººè£…è¿‡çš„åŒ…ï¼ˆæ¯”å¦‚ä¸‹è½½ç¼“æ…¢çš„PyTorchï¼‰åˆ™ä¸ç”¨é‡æ–°ä¸‹è½½ã€‚</p><h5 id="ä¸€äº›å¸¸ç”¨å‘½ä»¤"><a href="#ä¸€äº›å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ä¸€äº›å¸¸ç”¨å‘½ä»¤"></a>ä¸€äº›å¸¸ç”¨å‘½ä»¤</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">conda config --<span class="built_in">set</span> auto_activate_base <span class="literal">false</span> <span class="comment"># è®¾ç½®é»˜è®¤ä¸æ¿€æ´»baseç¯å¢ƒ</span></span><br><span class="line">conda create -n name python=x.x <span class="comment"># åˆ›å»ºpythonç‰ˆæœ¬ä¸ºx.xçš„åå­—ä¸ºnameçš„è™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line">conda remove -n name --all <span class="comment"># åˆ é™¤åå­—ä¸ºnameçš„ç¯å¢ƒ</span></span><br><span class="line">conda activate name <span class="comment"># æ¿€æ´»åå­—ä¸ºnameçš„è™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line">conda deactivate <span class="comment"># æ¨å‡ºå½“å‰è™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line">conda list <span class="comment"># åˆ—å‡ºå½“å‰ç¯å¢ƒå®‰è£…çš„åŒ…</span></span><br><span class="line">conda env list <span class="comment"># åˆ—å‡ºå½“å‰å·²åˆ›å»ºçš„ç¯å¢ƒ</span></span><br></pre></td></tr></table></figure><h4 id="11-mysql"><a href="#11-mysql" class="headerlink" title="11. mysql"></a>11. mysql</h4><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/liang19890820/article/details/105071479" target="_blank" rel="noopener">https://blog.csdn.net/liang19890820/article/details/105071479</a></p><h5 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…mysql-server</span></span><br><span class="line">sudo apt install mysql-server</span><br><span class="line"><span class="comment"># è¿è¡Œå®‰å…¨è„šæœ¬ï¼Œè¿‡ç¨‹ä¼šè¯¢é—®æ˜¯å¦å®‰è£…éªŒè¯å¯†ç æ’ä»¶ï¼Œç”¨äºæµ‹è¯•å¯†ç å¼ºåº¦ï¼Œå¯ä»¥é€‰æ‹©ä¸å®‰è£…ï¼Œä¹‹åéœ€è¦è¾“å…¥ä¸¤æ¬¡å¯†ç ä¸ºrootè´¦æˆ·è®¾ç½®å¯†ç ï¼Œä¹‹åä¾æ¬¡è¯¢é—®æ˜¯å¦åˆ é™¤åŒ¿åè´¦æˆ·ï¼Œæ˜¯å¦ç¦æ­¢rootä»è¿œç¨‹è´¦æˆ·ç™»é™†ï¼Œæ˜¯å¦åˆ é™¤testæ•°æ®åº“å¹¶å–æ¶ˆå¯¹å…¶è®¿é—®æƒé™ï¼Œæ˜¯å¦åˆ·æ–°æˆæƒè¡¨ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹©</span></span><br><span class="line">sudo mysql_secure_installation</span><br></pre></td></tr></table></figure><h5 id="ä¿®æ”¹rootè´¦æˆ·è®¤è¯æ–¹å¼"><a href="#ä¿®æ”¹rootè´¦æˆ·è®¤è¯æ–¹å¼" class="headerlink" title="ä¿®æ”¹rootè´¦æˆ·è®¤è¯æ–¹å¼"></a>ä¿®æ”¹rootè´¦æˆ·è®¤è¯æ–¹å¼</h5><p>è™½ç„¶ä¸Šé¢è®¾ç½®äº† root ç”¨æˆ·çš„å¯†ç ï¼Œä½†å½“é€šè¿‡ MySQL ç»ˆç«¯ç™»å½•æ—¶ï¼Œå¹¶ä¸èƒ½é€šè¿‡å¯†ç è¿›è¡Œè®¤è¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">Enter password:</span><br><span class="line">ERROR 1698 (28000): Access denied <span class="keyword">for</span> user <span class="string">'root'</span>@<span class="string">'localhost'</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºåœ¨ MySQL 5.7 åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œroot ç”¨æˆ·è¢«é»˜è®¤è®¾ç½®ä¸ºé€šè¿‡ auth_socket æ’ä»¶ï¼ˆè€Œéå¯†ç ï¼‰è®¤è¯ï¼Œå…¶ä¸»è¦åŸå› æ˜¯å‡ºäºå¯¹æ•°æ®åº“çš„å®‰å…¨æ€§è€ƒè™‘ã€‚</p><p>è¯è™½å¦‚æ­¤ï¼Œä½†å¶å°”ä¹Ÿéœ€è¦å¤–éƒ¨ç¨‹åºæ¥è®¿é—®ï¼Œè¿™æ—¶å°±ä¼šå¾ˆéº»çƒ¦äº†ã€‚ä¸ºäº†ä½¿ root ç”¨æˆ·èƒ½é€šè¿‡å¯†ç æ–¹å¼è¿æ¥ MySQLï¼Œå…ˆé€šè¿‡ç»ˆç«¯æ‰“å¼€ MySQL çš„æç¤ºç¬¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql</span><br></pre></td></tr></table></figure><p>ç„¶åé€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼Œæ£€æŸ¥ MySQL ä¸­æ¯ä¸ªç”¨æˆ·çš„è®¤è¯æ–¹å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT user, authentication_string, plugin, host FROM mysql.user;</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">| user             | authentication_string                     | plugin                | host      |</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">| root             |                                           | auth_socket           | localhost |</span><br><span class="line">| mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span><br><span class="line">| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span><br><span class="line">| debian-sys-maint | *ABA968D18E3A0B6DEB02F9D5FBDA21415A86977B | mysql_native_password | localhost |</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>æ˜¾è€Œæ˜“è§ï¼Œroot ç”¨æˆ·çš„è®¤è¯æ–¹å¼æ˜¯ auth_socketã€‚</p><p>ç°åœ¨è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°†è®¤è¯æ–¹å¼æ›´æ”¹ä¸ºå¯†ç è®¤è¯ï¼ˆå³ï¼šmsql_native_passwordï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåŠ¡å¿…è®¾ç½®ä¸€ä¸ªé«˜å¼ºåº¦çš„å¯†ç ï¼ˆè¿™é‡Œçš„â€œ123456â€ä»…ä»…æ˜¯ä¸ºäº†æµ‹è¯•ï¼‰ï¼Œè¯¥æ“ä½œå°†ä¼šæ”¹å˜æ­¥éª¤ 2 ä¸­è®¾ç½®çš„å¯†ç ã€‚</p><p>å®Œæˆä¹‹åï¼Œå†æ¥æŸ¥çœ‹ä¸€ä¸‹ root ç”¨æˆ·çš„è®¤è¯æ–¹å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT user, authentication_string, plugin, host FROM mysql.user;</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">| user             | authentication_string                     | plugin                | host      |</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">| root             | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | mysql_native_password | localhost |</span><br><span class="line">| mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span><br><span class="line">| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span><br><span class="line">| debian-sys-maint | *ABA968D18E3A0B6DEB02F9D5FBDA21415A86977B | mysql_native_password | localhost |</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»ä¿®æ”¹æˆåŠŸäº†ï¼Œç°åœ¨é€€å‡ºæ•°æ®åº“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; exit</span><br></pre></td></tr></table></figure><p>å†æ¥å°è¯•ä¸€ä¸‹ï¼Œè®© root ç”¨æˆ·ä»¥å¯†ç å½¢å¼ç™»å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 7</span><br><span class="line">Server version: 5.7.29-0ubuntu0.18.04.1 (Ubuntu)</span><br><span class="line"> </span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"> </span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"> </span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"> </span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ­£å¸¸è¿æ¥äº†ã€‚</p><h5 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h5><p>mysqlå®‰è£…å¥½äº†ï¼Œä½†å¹³æ—¶ä½¿ç”¨æ€»ä¸èƒ½ä¸€ç›´ç”¨rootè´¦æˆ·ï¼Œè¿™æ—¶å€™å°±éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„è´¦æˆ·ã€‚</p><p>åˆ›å»ºä¸€ä¸ªé€šè¿‡æœ¬åœ°localhostè¿æ¥çš„ç”¨æˆ·åä¸ºrocï¼Œå¯†ç ä¸ºpasswordçš„è´¦æˆ·ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; CREATE USER &#39;roc&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;</span><br></pre></td></tr></table></figure><p>ç»™ç”¨æˆ·æˆæƒï¼Œprivilegeså¯ä»¥æ˜¯ SELECTï¼ŒUPDATEï¼ŒDELETEï¼ŒALL ç­‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; GRANT privileges ON databasename.tablename TO &#39;username&#39;@&#39;host&#39;;</span><br></pre></td></tr></table></figure><h4 id="12-æœç‹—è¾“å…¥æ³•"><a href="#12-æœç‹—è¾“å…¥æ³•" class="headerlink" title="12. æœç‹—è¾“å…¥æ³•"></a>12. æœç‹—è¾“å…¥æ³•</h4><p>ç”¨äº†å¤šå¹´çš„æœç‹—è¾“å…¥æ³•ï¼Œä¹Ÿå°è¯•è¿‡å…¶ä»–è¾“å…¥æ³•ï¼Œå§‹ç»ˆè§‰å¾—è¿˜æ˜¯æœç‹—å¥½ç”¨ã€‚</p><p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/cocode/p/12875555.html" target="_blank" rel="noopener">https://www.cnblogs.com/cocode/p/12875555.html</a></p><p><strong>æ·»åŠ ukuiçš„å®˜æ–¹æº</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -sL <span class="string">'https://keyserver.ubuntu.com/pks/lookup?&amp;op=get&amp;search=0x73BC8FBCF5DE40C6ADFCFFFA9C949F2093F565FF'</span> | sudo apt-key add</span><br><span class="line">sudo apt-add-repository <span class="string">'deb http://archive.ubuntukylin.com/ukui focal main'</span></span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install sogouimebs</span><br></pre></td></tr></table></figure><p><strong>è®¾ç½®é»˜è®¤è¾“å…¥æ³•</strong></p><p>æŠŠé»˜è®¤è¾“å…¥æ³•è®¾ç½®ä¸ºfcitxï¼Œé‡å¯ç”µè„‘</p><h4 id="13-Nodejså’Œnpm"><a href="#13-Nodejså’Œnpm" class="headerlink" title="13. Nodejså’Œnpm"></a>13. Nodejså’Œnpm</h4><p>æƒ³åœ¨Ubuntuä¸Šå†™åšå®¢ä¸å¾—ä¸å®‰è£…Nodejså’Œnpmç­‰ç¯å¢ƒï¼Œå®‰è£…è¿‡ç¨‹æ²¡ä»€ä¹ˆå¯è¯´çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure><h4 id="14-Seafile"><a href="#14-Seafile" class="headerlink" title="14. Seafile"></a>14. Seafile</h4><p>è‡ªå»ºäº‘ç›˜çš„å®¢æˆ·ç«¯</p><p>å‚è€ƒï¼š<a href="https://help.seafile.com/syncing_client/install_linux_client/" target="_blank" rel="noopener">https://help.seafile.com/syncing_client/install_linux_client/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo wget https://linux-clients.seafile.com/seafile.asc -O /usr/share/keyrings/seafile-keyring.asc</span><br><span class="line">sudo bash -c <span class="string">"echo 'deb [arch=amd64 signed-by=/usr/share/keyrings/seafile-keyring.asc] https://linux-clients.seafile.com/seafile-deb/focal/ stable main' &gt; /etc/apt/sources.list.d/seafile.list"</span></span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install -y seafile-gui</span><br><span class="line"><span class="comment"># å¦‚æœä»…å®‰è£…å‘½ä»¤è¡Œç‰ˆæœ¬</span></span><br><span class="line">sudo apt-get install seafile-cli</span><br></pre></td></tr></table></figure><h4 id="15-Gpaste"><a href="#15-Gpaste" class="headerlink" title="15. Gpaste"></a>15. Gpaste</h4><p>ç”¨æ¥ä¿å­˜å‰ªè¾‘ç‰ˆå†å²</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gnome-shell-extensions-gpaste gpaste</span><br></pre></td></tr></table></figure><p><del>å®‰è£…éœ€è¦çš„è½¯ä»¶</del>(ä¸ç”¨è¿™ç§æ–¹æ³•å®‰è£…)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install autoconf automake libtool autopoint gettext libglib2.0-dev build-essential libgtk-3-dev</span><br></pre></td></tr></table></figure><p><del>å…‹éš†ä»“åº“å¹¶å®‰è£…</del></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Keruspe/GPaste.git</span><br><span class="line"><span class="built_in">cd</span> Gpaste</span><br><span class="line">./autogen.sh</span><br><span class="line">./configure --sysconfdir=/etc</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line">sudo glib-compile-schemas /usr/share/glib-2.0/schemas/</span><br></pre></td></tr></table></figure><h3 id="å››ã€ç¾åŒ–"><a href="#å››ã€ç¾åŒ–" class="headerlink" title="å››ã€ç¾åŒ–"></a>å››ã€ç¾åŒ–</h3><h4 id="1-å£çº¸è½¯ä»¶"><a href="#1-å£çº¸è½¯ä»¶" class="headerlink" title="1. å£çº¸è½¯ä»¶"></a>1. å£çº¸è½¯ä»¶</h4><p>æ—¢ç„¶ç¾åŒ–ï¼Œæ²¡æœ‰ä¸€æ¬¾æ›´æ¢å£çº¸çš„è½¯ä»¶æ€ä¹ˆèƒ½è¡Œã€‚</p><p>æœ¬äººä½¿ç”¨ <a href="https://github.com/cheesecakeufo/komorebi" target="_blank" rel="noopener">komorebi</a></p><p>æ”¯æŒè§†é¢‘å’Œå›¾ç‰‡ï¼Œå¯ä»¥æ˜¾ç¤ºæ—¶é—´ï¼ŒåŠŸèƒ½ä¸å¤šï¼Œä½†å¯¹äºæˆ‘æ¥è¯´å·²ç»å¤Ÿäº†ã€‚</p><h4 id="2-æ›´æ¢ä¸»é¢˜ã€å›¾æ ‡ã€é¼ æ ‡æŒ‡é’ˆ"><a href="#2-æ›´æ¢ä¸»é¢˜ã€å›¾æ ‡ã€é¼ æ ‡æŒ‡é’ˆ" class="headerlink" title="2. æ›´æ¢ä¸»é¢˜ã€å›¾æ ‡ã€é¼ æ ‡æŒ‡é’ˆ"></a>2. æ›´æ¢ä¸»é¢˜ã€å›¾æ ‡ã€é¼ æ ‡æŒ‡é’ˆ</h4><p>å®‰è£…tweaksï¼Œç”¨äºç®¡ç†ä¸»é¢˜åŒ…ç­‰ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–åŠŸèƒ½è¿™é‡Œæš‚æ—¶ä¸éœ€è¦</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gnome-tweaks</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä»ä»¥ä¸‹ç½‘å€ä¸‹è½½è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ã€å›¾æ ‡ã€é¼ æ ‡æŒ‡é’ˆæ–‡ä»¶ï¼š <a href="https://www.gnome-look.org/browse/ord/rating/" target="_blank" rel="noopener">https://www.gnome-look.org/browse/ord/rating/</a></p><p>å…¶ä¸­ä¸»é¢˜æ–‡ä»¶è§£å‹åˆ° <code>/usr/share/themes/</code> ï¼Œå›¾æ ‡å’Œé¼ æ ‡æŒ‡é’ˆæ–‡ä»¶è§£å‹åˆ° <code>/usr/share/icons/</code>ã€‚</p><p>è§£å‹å¥½ååœ¨è½¯ä»¶ä¸­æœç´¢ tweaks(ä¼˜åŒ–)ï¼Œåœ¨â€œå¤–è§‚â€é€‰é¡¹å¡å¯ä»¥ä¿®æ”¹ä¸»é¢˜å’Œå›¾æ ‡ç­‰ã€‚</p><h4 id="3-ä¿®æ”¹ç™»é™†ç•Œé¢çš„èƒŒæ™¯"><a href="#3-ä¿®æ”¹ç™»é™†ç•Œé¢çš„èƒŒæ™¯" class="headerlink" title="3. ä¿®æ”¹ç™»é™†ç•Œé¢çš„èƒŒæ™¯"></a>3. ä¿®æ”¹ç™»é™†ç•Œé¢çš„èƒŒæ™¯</h4><p>å‚è€ƒ <a href="https://github.com/thiggy01/change-gdm-background" target="_blank" rel="noopener">https://github.com/thiggy01/change-gdm-background</a></p><p>å®‰è£…ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libglib2.0-dev-bin</span><br></pre></td></tr></table></figure><p>èµ‹äºˆæ‰§è¡Œæƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x change-gdm-background</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹èƒŒæ™¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹èƒŒæ™¯ä¸ºæŸä¸€å›¾ç‰‡</span></span><br><span class="line">sudo ./change-gdm-background /path/to/image</span><br><span class="line"><span class="comment"># ä¿®æ”¹èƒŒæ™¯ä¸ºæŸç§é¢œè‰²ï¼Œä½¿ç”¨16è¿›åˆ¶é¢œè‰²</span></span><br><span class="line">sudo ./change-gdm-background \<span class="comment">#yourhexcode</span></span><br><span class="line"><span class="comment"># æ¢å¤é»˜è®¤</span></span><br><span class="line">sudo ./change-gdm-background --restore</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> 20.04 </tag>
            
            <tag> å®‰è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NLPæ‰“é€ é«˜è´¨é‡æ•°æ®é›†</title>
      <link href="/posts/nlp1/"/>
      <url>/posts/nlp1/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯é«˜è´¨é‡"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯é«˜è´¨é‡" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯é«˜è´¨é‡"></a>ä¸€ã€ä»€ä¹ˆæ˜¯é«˜è´¨é‡</h3><p>åˆšå…¥å‘çš„ä¸€äº›å°ä¼™ä¼´å¯èƒ½ä¼šä»¥ä¸ºâ€œé«˜è´¨é‡â€=â€œè¶…çº§å¹²å‡€â€ï¼Œäºæ˜¯ä¸ºäº†è¿½æ±‚â€œé«˜è´¨é‡â€è€Œç–¯ç‹‚çš„é¢„å¤„ç†ï¼Œæœ€åå“­äº†â•®(â•¯â–½â•°)â•­ã€‚</p><p>åšæ•°æ®é›†ä¸€èˆ¬æœ‰ä¸¤ç§åŠ¨æœºã€‚ä¸€ç§æ˜¯ä¸ºäº†researchï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†é€ ç¦å¹¿å¤§ç ”ç©¶äººå‘˜ä»¥åŠæ¨åŠ¨é¢†åŸŸçš„è¿›æ­¥ï¼›</p><blockquote><p>ä¸å¾—ä¸è¯´SQuADçš„å‘å¸ƒå¯¹NLPè¿™ä¸€æ³¢ç ”ç©¶çƒ­æ½®çš„æ¨åŠ¨ä½œç”¨è¿˜æ˜¯è›®å¤§çš„</p></blockquote><p>å¦ä¸€ç§ï¼Œå°±æ˜¯ä¸ºäº†ä½¿ç”¨æ•°æ®é©±åŠ¨çš„æ–¹æ³•æ¥ä¼˜åŒ–ä¸šåŠ¡æŒ‡æ ‡ï¼Œæˆ–è§£å†³é¡¹ç›®ä¸­å®å®åœ¨åœ¨å­˜åœ¨çš„é—®é¢˜ã€‚</p><p>è¿™ä¸¤ä¸ªçœ‹ä¼¼ä¸å¤ªç›¸å…³çš„ç›®çš„èƒŒåå¯¹â€œé«˜è´¨é‡â€çš„å®šä¹‰ç¡®æ˜¯éå¸¸ç›¸è¿‘çš„ï¼Œé‚£å°±æ˜¯ï¼šè§£å†³é—®é¢˜ï¼</p><p>åªä¸è¿‡ï¼Œå¯¹åä¸€ç§ç›®çš„æ¥è¯´ï¼Œé—®é¢˜ä¸€èˆ¬æ¥æºäºçº¿ä¸Šç³»ç»Ÿ</p><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨åšæ•°æ®é›†ä¹‹å‰ä¸€èˆ¬å·²ç»å­˜åœ¨ä¸€å¥—ç³»ç»Ÿäº†ï¼ˆä¸ºäº†è®©ç³»ç»Ÿå†·å¯åŠ¨ï¼Œä¸€èˆ¬å…ˆå¼€å‘ä¸€å¥—è§„åˆ™é©±åŠ¨çš„ç³»ç»Ÿï¼‰ï¼Œç³»ç»Ÿä¸Šçº¿åè‡ªç„¶ä¼šäº§ç”Ÿæ—¥å¿—ï¼Œåˆ†æå…¶ä¸­çš„badcaseä¾¿å¯ä»¥çŸ¥é“å“ªäº›é—®é¢˜æ˜¯ç°æœ‰ç³»ç»Ÿæä¸å®šçš„ï¼Œè¿™äº›é—®é¢˜å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨æ•°æ®é©±åŠ¨çš„æ–¹æ³•æ¥è§£å†³ï¼Œäºæ˜¯éœ€è¦åšæ•°æ®é›†äº†ã€‚è€Œè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯ä½ åšæ•°æ®é›†çš„ç¬¬ä¸€ç›®æ ‡å•¦ã€‚</p></blockquote><p>è€Œå¯¹äºå‰ä¸€ç§ç›®çš„æ¥è¯´ï¼Œé—®é¢˜ä¸€èˆ¬æ¥æºäºå­¦æœ¯ç•Œçš„ç ”ç©¶ç°çŠ¶</p><blockquote><p>ç°é˜¶æ®µçš„NLPç ”ç©¶å¤šä¸ºæ•°æ®é©±åŠ¨çš„ï¼Œç”šè‡³è¯´æ•°æ®é›†é©±åŠ¨çš„ã€‚è™½ç„¶è¿™ä¸æ˜¯ä¸€ä¸ªå¥½ç°è±¡ï¼Œä¸è¿‡ä¹Ÿä¸å¾—ä¸æ‰¿è®¤å¾ˆå¤§ç¨‹åº¦ä¸Šæ¨åŠ¨äº†NLPçš„å‘å±•å’Œç ”ç©¶çƒ­æ½®ã€‚å½“ç°æœ‰çš„æ•°æ®é›†æ— æ³•coveré¢†åŸŸç—›ç‚¹ï¼Œæˆ–æ— æ³•å‘æŒ¥æ•°å­¦å·¥å…·æ½œåŠ›ï¼Œæˆ–å·²ç»è¢«è§£å†³æ‰çš„æ—¶å€™ï¼Œå°±éœ€è¦ä¸€ä¸ªæ–°çš„æ•°æ®é›†ï¼Œæ›´ç¡®åˆ‡çš„è¯´æ˜¯æ–°çš„benchmarkäº†ã€‚</p></blockquote><p>æ¢å¥è¯è¯´ï¼Œè¿˜æœ‰å“ªäº›é—®é¢˜æ˜¯è¡Œä¸šç—›ç‚¹é—®é¢˜ï¼Ÿæˆ–å¯ä»¥è¿›ä¸€æ­¥æŒ–æ˜ç°é˜¶æ®µæ•°å­¦å·¥å…·çš„æ½œåŠ›ï¼Ÿæˆ–ç°æœ‰æ•°å­¦å·¥å…·çš„ç°å‘å±•é˜¶æ®µè¿˜æ²¡æ³•å¾ˆå¥½çš„è§£å†³è¯¥é—®é¢˜ï¼Ÿè¿™åº”è¯¥æ˜¯åšä¸€ä¸ªé«˜è´¨é‡æ•°æ®é›†å‰é¦–å…ˆè¦è€ƒè™‘çš„é—®é¢˜ã€‚</p><p>æƒ³æƒ³2015å¹´çš„SNLI[1]ã€2016å¹´çš„SQuAD[2]ã€2018å¹´çš„GLUE[3], CoQA[4]ï¼Œå†åˆ°å¦‚ä»Šçš„SuperGLUE[5], MRQA(<a href="https://mrqa.github.io)ï¼Œéƒ½æ˜¯é—®é¢˜é©±åŠ¨çš„ï¼Œå½“ç°æœ‰æ•°æ®é›†ä¸è¶³ä»¥coveré—®é¢˜ç—›ç‚¹æˆ–æ— æ³•æ»¡è¶³æ•°å­¦å·¥å…·æ½œåŠ›ï¼Œæˆ–ä¸Šä¸€ä¸ªé—®é¢˜å·²ç»è¢«è§£å†³çš„å·®ä¸å¤šçš„æ—¶å€™ï¼Œå°±ä¼šæœ‰æ–°çš„æ•°æ®é›†å†’å‡ºæ¥è§£å†³ä¸‹ä¸€ä¸ªç—›ç‚¹é—®é¢˜ã€‚" target="_blank" rel="noopener">https://mrqa.github.io)ï¼Œéƒ½æ˜¯é—®é¢˜é©±åŠ¨çš„ï¼Œå½“ç°æœ‰æ•°æ®é›†ä¸è¶³ä»¥coveré—®é¢˜ç—›ç‚¹æˆ–æ— æ³•æ»¡è¶³æ•°å­¦å·¥å…·æ½œåŠ›ï¼Œæˆ–ä¸Šä¸€ä¸ªé—®é¢˜å·²ç»è¢«è§£å†³çš„å·®ä¸å¤šçš„æ—¶å€™ï¼Œå°±ä¼šæœ‰æ–°çš„æ•°æ®é›†å†’å‡ºæ¥è§£å†³ä¸‹ä¸€ä¸ªç—›ç‚¹é—®é¢˜ã€‚</a></p><p>åœ¨æ˜ç¡®è¦è§£å†³çš„é—®é¢˜åï¼Œæ•°æ®é›†çš„è´¨é‡ä¹Ÿå°±ä¿éšœäº†ä¸€åŠï¼Œå‰©ä¸‹çš„ä¸€åŠå°±è¦çœ‹è¿™ä¸ªæ•°æ®é›†æ€ä¹ˆåšå•¦ã€‚è¿™é‡Œé¢æœ€å…³é”®çš„é—®é¢˜æ˜¯æ•°æ®ä¸æ ‡ç­¾æ¥æºçš„é€‰æ‹©ï¼Œä»¥åŠé¢„å¤„ç†ç¨‹åº¦çš„æŠŠæ¡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿­ä»£é—­ç¯çš„æ„å»ºä»¥åŠå¯¹å¤æ‚NLPä»»åŠ¡çš„å¤„ç†ä¹Ÿä¼šå¯¹é—®é¢˜è§£å†³çš„æ•ˆç‡å’Œè´¨é‡äº§ç”Ÿéå¸¸é‡è¦çš„å½±å“ã€‚ä¸‹é¢å¼€å§‹ä¾æ¬¡ä»‹ç»(~ï¿£âˆ‡ï¿£)-â˜†</p><h3 id="äºŒã€åŸºæœ¬å·¥å…·"><a href="#äºŒã€åŸºæœ¬å·¥å…·" class="headerlink" title="äºŒã€åŸºæœ¬å·¥å…·"></a>äºŒã€åŸºæœ¬å·¥å…·</h3><p>æ‰€è°“å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œåªè¦ä¸æ˜¯å¤ªç€æ€¥ï¼Œåœ¨åšæ•°æ®é›†ä¹‹å‰å…ˆæŒæ¡ä¸€äº›å¥½ç”¨çš„å·¥å…·å’Œtricksï¼Œå¯ä»¥å¤§å¤§å‡å°‘æ— è°“çš„é‡å¤å’Œä½æ•ˆåŠ³åŠ¨ï¼Œæé«˜è¿­ä»£æ•ˆç‡ã€‚</p><ul><li><p><strong>github</strong></p><p>å†™çˆ¬è™«å’Œæ¸…æ´—<strong>æœ€åŸå§‹</strong>æ•°æ®ä¹‹å‰å…ˆåœ¨githubæ‰¾ä¸€ä¸‹</p></li><li><p><strong>æ­£åˆ™è¡¨è¾¾å¼</strong></p><p>æ–‡æœ¬æ¸…æ´—åˆ©å™¨ï¼Œä¸è§£é‡Š</p></li><li><p><strong>Hadoop/Spark</strong></p><p>åƒä¸‡çº§ä»¥ä¸Šçš„è¯­æ–™å°±åˆ«å»ä¸ºéš¾ä½ çš„å°æœåŠ¡å™¨äº†</p></li><li><p><strong>vim</strong></p><p>åˆ†ææ ·æœ¬ä¸“ç”¨ã€‚æ•°æ®é›†åªæœ‰å‡ ä¸‡æˆ–ä¸€äºŒåä¸‡çš„è¯ï¼Œvimæ€§èƒ½ä¸€èˆ¬è¿˜æ˜¯å¤Ÿç”¨çš„ï¼Œä¸è¿‡é»˜è®¤çš„vimé…ç½®æ˜¯æ¯”è¾ƒé¸¡è‚‹å’Œåäººç±»çš„ï¼Œéœ€è¦äº‹å…ˆç†Ÿæ‚‰å’Œé…ç½®å¥½ã€‚è¦æ˜¯è·Ÿvimè¿‡ä¸å»ï¼Œå…¶ä»–å¸¦æ­£åˆ™æœç´¢å’Œé«˜äº®æ˜¾ç¤ºçš„æ€§èƒ½åˆ«å¤ªå·®çš„ç¼–è¾‘å™¨ä¹Ÿok</p></li><li><p><strong>awk,grep,cut,wcç­‰å‘½ä»¤è¡Œå·¥å…·</strong></p><p>åˆ†ææ ·æœ¬ä¸“ç”¨ã€‚æ•°æ®é›†å¤§äº†ï¼Œä½ çš„vimå°±ç½¢å·¥äº†ï¼Œå½“ç„¶ä½ è¦æ˜¯è·Ÿè¿™äº›å‘½ä»¤è¿‡ä¸å»ä¹Ÿå¯ä»¥åœ¨ipythoné‡Œç©ï¼Œåªä¸è¿‡å†™ä»£ç æ•ˆç‡æ›´ä½ï¼Œè€Œä¸”åˆ†æç»“æœä¿å­˜èµ·æ¥æ›´éº»çƒ¦ä¸€äº›ï¼Œå†å°±æ˜¯åˆ«æ¥open(file).readlines()è¿™ç§ç¥æ“ä½œå°±å¥½</p></li><li><p><strong>ipython + screen/tmux</strong></p><p>åœ¨åˆ†æä¸€äº›é‡è¦çš„æ•°æ®é›†ç»Ÿè®¡ç‰¹æ€§å¦‚æ ·æœ¬é•¿åº¦åˆ†å¸ƒæ—¶ï¼Œå¼€ä¸ªvimå†™pythonè„šæœ¬ä¼šå¾ˆä½æ•ˆï¼Œæ•°æ®é›†ä¸€å¤§çš„è¯åå¤IOæ›´æ˜¯è®©äººæ— æ³•å¿å—çš„ã€‚å› æ­¤å¼€ä¸ªipythonæŠŠæ•°æ®é›†æˆ–é‡‡æ ·çš„ä¸€éƒ¨åˆ†æ•°æ®é›†loadè¿›å†…å­˜é‡Œï¼Œå†è¿›è¡Œå„ç§åˆ†æä¼šé«˜æ•ˆçš„å¤šã€‚<br>å¦å¤–ä¸ºäº†é¿å…sshæ–­å¼€åä»å¤´é‡æ¥ï¼Œå¯ä»¥æŠŠipythonæŒ‚åœ¨screenæˆ–è€…tmuxçª—å£é‡Œã€‚å½“ç„¶å•¦ï¼Œloadè¿›æ¥çš„æ•°æ®æ¯”è¾ƒå¤šæ—¶ï¼Œè®°å¾—æ—¶ä¸æ—¶çš„delä¸€ä¸‹æ— ç”¨çš„ä¸­é—´ç»“æœï¼Œä»¥å…æŠŠæœåŠ¡å™¨å†…å­˜æ’‘çˆ†ã€‚å“¦å¯¹ï¼Œè®°å¾—äº†è§£ä¸€äº›å¸¸ç”¨çš„magicå‘½ä»¤å¦‚%saveï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹å¤æ‚æ“ä½œè¿›è¡Œå¤‡ä»½ã€‚</p></li></ul><h3 id="ä¸‰ã€æ•°æ®ä¸æ ‡ç­¾æ¥æº"><a href="#ä¸‰ã€æ•°æ®ä¸æ ‡ç­¾æ¥æº" class="headerlink" title="ä¸‰ã€æ•°æ®ä¸æ ‡ç­¾æ¥æº"></a>ä¸‰ã€æ•°æ®ä¸æ ‡ç­¾æ¥æº</h3><p>å¯¹æ•°æ®é›†è´¨é‡äº§ç”Ÿç¬¬äºŒå…³é”®å½±å“çš„å°±æ˜¯æ•°æ®å’Œæ ‡ç­¾æ¥æºçš„é€‰æ‹©äº†ã€‚å…¶ä¸­æ•°æ®å¯ä»¥é€šè¿‡äººå·¥æ„é€ ã€æ’°å†™çš„æ–¹å¼æ¥äº§ç”Ÿï¼Œä¹Ÿå¯ä»¥ä»äº’è”ç½‘ä¸Šçˆ¬å–æˆ–å¯¹å…¬å¼€æ•°æ®é›†è¿›è¡ŒäºŒæ¬¡åŠ å·¥å¾—åˆ°ï¼›æ ‡ç­¾åŒæ ·å¯ä»¥äººå·¥æ ‡æ³¨ï¼Œä¹Ÿå¯ä»¥è¿œç¨‹ç›‘ç£çš„æ–¹å¼æ¥è·å–ã€‚</p><p><strong>äººå·¥æ„é€ å’Œæ ‡æ³¨</strong></p><p>æœ€å®¹æ˜“æƒ³åˆ°çš„æ–¹å¼å°±æ˜¯æ•°æ®å’Œæ ‡ç­¾éƒ½æ¥æºäºäººå·¥å•¦(ï¿£âˆ‡ï¿£)å¯æƒœå°å¤•å¹¶æ²¡æœ‰èµ„é‡‘å»ä¼—åŒ…å¹³å°ä¸Šå¸®ä½ ä»¬ç§¯ç´¯ç»éªŒ(ï½¡ Ìï¸¿ Ì€ï½¡)å¯¹äºå¾ˆå¤šç›¸å¯¹ç®€å•çš„NLPä»»åŠ¡ï¼Œæ•°æ®ä¸€èˆ¬åœ¨äº’è”ç½‘ä¸Šæ€»èƒ½æ‰¾åˆ°åˆé€‚çš„ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›ä»»åŠ¡çš„æ•°æ®å¾ˆéš¾åœ¨äº’è”ç½‘ä¸Šæ¥è§¦åˆ°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªèƒ½äººå·¥ç²¾å¿ƒæ„é€ ï¼ˆæ¯”å¦‚è‡ªç„¶è¯­è¨€æ¨ç†ï¼Œä»»åŠ¡å‹å¯¹è¯ä¸­çš„å¤§éƒ¨åˆ†å­ä»»åŠ¡ï¼Œåˆ†è¯ã€NERã€æŠ½å–ç­‰ä¸€äº›åºåˆ—æ ‡æ³¨ä»»åŠ¡ï¼‰ã€‚å¦‚æœæœ‰å°ä¼™ä¼´æƒ³ç³»ç»Ÿçš„å­¦ä¹ æ ‡æ³¨ï¼Œå°å¤•æ¨èä¸€æœ¬ä¹‹å‰åœ¨å›¾ä¹¦é¦†åˆ·è¿‡ä¸€åŠçš„ä¸€æœ¬ä¹¦ï¼Œå«<strong>ã€ŠNatural Language Annotationã€‹</strong>ï¼Œä¸­æ–‡åè²Œä¼¼å«ã€Šè‡ªç„¶è¯­è¨€æ ‡æ³¨ï¼šç”¨äºæœºå™¨å­¦ä¹ ã€‹ã€‚è¿™æœ¬ä¹¦å†™çš„æŒºèµçš„ï¼Œè¿˜å› æ­¤æ€¼è¿‡ä¸€æ¬¡ä¸å¤ªä¼šæ ‡æ³¨çš„PMå°å§å§(//âˆ‡//)\ï¼ˆå¸Œæœ›å¥¹ä¸ä¼šçœ‹æˆ‘çŸ¥ä¹hhhh</p><p>è¿˜å¥½å¯¹äºå¤§éƒ¨åˆ†nlpä»»åŠ¡è€Œè¨€ï¼ŒåŸºæœ¬éƒ½èƒ½ä»äº’è”ç½‘ä¸Šæ‰¾åˆ°åˆé€‚çš„æ•°æ®æºï¼Œæˆ–åœ¨å·²æœ‰çš„å…¬å¼€æ•°æ®é›†çš„åŸºç¡€ä¸ŠåŠ ä»¥æ”¹é€ å°±å¯ä»¥äº§ç”Ÿã€‚</p><p><strong>çˆ¬</strong></p><p>å¦‚æœè¦è‡ªå·±çˆ¬ï¼Œè‹±æ–‡è¯­æ–™çš„è¯å¯ä»¥é€šè¿‡å›½å¤–çš„twitterã€quoraã€wikiã€redditç­‰ç½‘ç«™æŒ‰éœ€çˆ¬å–ç”šè‡³ç›´æ¥ä¸‹è½½ï¼Œå®˜æ–¹æä¾›çš„æ•°æ®è·å–è„šæœ¬æ»¡è¶³ä¸äº†éœ€æ±‚çš„è¯å¯ä»¥åœ¨githubä¸Šè‡ªå·±æœä¸‹ï¼ŒåŸºæœ¬æ€»èƒ½æ‰¾åˆ°ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ç¬¬ä¸‰æ–¹çˆ¬è™«ç»•è¿‡é™åˆ¶ï¼ˆemmmæ€ä¹ˆæœ‰ç§æ•™åˆ«äººçŠ¯ç½ªçš„æ„Ÿè§‰ï¼‰ã€‚å¦‚æœç›®æ ‡æ•°æ®æ˜¯ä¸­æ–‡ï¼Œå½“ç„¶å›½å†…ä¹Ÿä¼šæœ‰å¾®åšã€è´´å§ã€è±†ç“£ã€ç™¾åº¦ç™¾ç§‘ã€çŸ¥ä¹ç­‰ç½‘ç«™åç­‰è¢«çˆ¬å•¦ã€‚</p><p>å½“ç„¶å•¦ï¼ŒTwitterã€å¾®åšã€è´´å§è¿™ç±»ç½‘ç«™çš„ç¼ºç‚¹å°±æ˜¯çŒæ°´å†…å®¹å¤ªå¤šï¼Œçˆ¬å®Œè®°å¾—å»githubæ‰¾ç›¸åº”çš„é¢„å¤„ç†è„šæœ¬ç˜¦ç˜¦èº«ã€‚æ³¨æ„åˆ«ç”¨é‚£äº›å¤ªè¿‡æµ®å¤¸çš„è„šæœ¬ï¼Œå¤„ç†çš„å¤ªå¹²å‡€å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œåé¢ä¼šè®²åŸå› å™¢ï½</p><p><strong>æ”¹</strong></p><p>è®²çœŸï¼Œè‡ªå·±çˆ¬æ•°æ®çœŸæ˜¯dirty workè¶…çº§è¶…çº§å¤šï¼Œå°¤å…¶æ˜¯ä½ è¦çˆ¬çš„æ•°æ®é‡ç°å¸¸å¤§æˆ–è€…å»çˆ¬ä¸€äº›ä¸é‚£ä¹ˆä¸»æµçš„ç½‘ç«™çš„æ—¶å€™ï¼æ‰€ä»¥å°å¤•æ›´åŠ æ¨èçš„è¿˜æ˜¯å…ˆä»ç°æœ‰çš„æ•°æ®é›†æƒ³åŠæ³•å•¦ï¼Œæ‹¿æ¥ç°æˆçš„ç„¶åä¸€é¡¿æ”¹æ”¹æ”¹ç»å¯¹å¯ä»¥çœä¸å°‘åŠ›ï¼</p><p>å…¶å®å¾ˆå¤šæ•°æ®é›†éƒ½æ˜¯è¿™æ ·â€œå·æ‡’â€åšæˆçš„ï¼Œæ¯”å¦‚æ—©æœŸSocheræŠŠåªæœ‰1ä¸‡æ ·æœ¬çš„æƒ…æ„Ÿåˆ†ç±»æ•°æ®é›†MR[16]ç”¨parserå°†MRé‡Œçš„å¥å­ç»™åˆ†è§£ä¸ºçŸ­è¯­ã€å­å¥ç­‰ï¼Œå†åˆ†åˆ«æ ‡æ³¨ï¼Œäºæ˜¯å°±å˜æˆäº†20å¤šä¸‡æ ·æœ¬é‡ã€å¤šç²’åº¦çš„SST[17]â•®(ï¿£â–½ï¿£â€â€)â•­æœ€è¿‘ä¹Ÿæ°å¥½åˆ·åˆ°ä¸€ç¯‡åšæ–‡æœ¬é£æ ¼æ§åˆ¶çš„paper[18]ï¼ŒåŒæ ·ä¹Ÿæ˜¯ç”¨äº†parserï¼Œå°†Yelpæƒ…æ„Ÿåˆ†ç±»æ•°æ®é›†[19]æ‹†è§£åç–¯ç‹‚åŠ å·¥ï¼Œå˜æˆäº†ç»“æ„-&gt;æ–‡æœ¬çš„é£æ ¼åŒ–æ–‡æœ¬ç”Ÿæˆæ•°æ®é›†ï¼ˆparserçœŸæ˜¯ä¸ªé€ æ•°æ®é›†çš„å¥½ä¸œè¥¿ï¼‰ã€‚æ€»ä¹‹ï¼Œç©è¿‡ä¸€æ¬¡å°±çŸ¥é“ï¼Œæ”¹æ¯”çˆ¬æ–¹ä¾¿å¤šå•¦â•®(â•¯â–½â•°)â•­</p><p><strong>è¿œç¨‹ç›‘ç£</strong></p><p>åœ¨æ‰“æ ‡ç­¾æ–¹é¢ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„å½“ç„¶è¿˜æ˜¯èŠ±é’±ä¼—åŒ…ï¼Œä¸ç”¨è¯´äº†ï¼Œä¸‹ä¸€ä¸ªæ–¹æ³•ã€‚</p><p>æ›´åŠ ç»æµå¯ç”¨çš„æ–¹æ³•å°±æ˜¯è¿œç¨‹ç›‘ç£äº†ï¼Œè¿™æ–¹é¢çš„å¯ç©æ€§å°±éå¸¸å¤§å•¦ï¼Œè„‘æ´æœ‰å¤šå¤§ï¼Œæ ‡æ³¨è´¨é‡å°±ä¼šæœ‰å¤šé«˜ï¼</p><p>åšå¥½è¿œç¨‹ç›‘ç£çš„å‰æå°±æ˜¯æä¸€ä¸ªé è°±çš„å‡è®¾ï¼Œæ¯”å¦‚â€œç»™å®šä¸€ä¸ªquery-answer pairï¼Œå¦‚æœanswer stringåœ¨æœç´¢å¼•æ“å¬å›çš„æŸdocumentå‡ºç°ï¼Œé‚£ä¹ˆè¯¥documentå¯ä»¥å›ç­”è¯¥queryâ€ï¼Œäºæ˜¯æœ‰äº†æœºå™¨é˜…è¯»ç†è§£æ•°æ®é›†TriviaQA[6]ã€searchQA[7]ï¼›å†æ¯”å¦‚â€œä¸€æ¡Twitterä¸­åŒ…å«çš„emojiå¯ä»¥åæ˜ è¿™æ¡Twitterçš„ï¼ˆç»†ç²’åº¦ï¼‰æƒ…æ„Ÿâ€ï¼Œäºæ˜¯æœ‰äº†æƒ…æ„Ÿåˆ†ç±»æ•°æ®é›†TwitterSentiment[8]å’Œæƒ…æ„Ÿå¯æ§å¯¹è¯ç”Ÿæˆæ•°æ®é›†Mojitalk[9]ã€‚</p><p>å¦‚æœä¸æ”¾å¿ƒçš„è¯ï¼Œè‡ªå·±é‡‡æ ·ä¸€äº›æ ·æœ¬ï¼Œç²—ç•¥ç»Ÿè®¡ä¸€ä¸‹ä½ æå‡ºçš„å‡è®¾æˆç«‹çš„æ ·æœ¬å æ¯”ï¼Œåªè¦å¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆç«‹å°±æ˜¯æœ‰å¸Œæœ›çš„ï¼Œè€Œåå†å¯¹å‡è®¾å¢åŠ ä¸€äº›ç»†èŠ‚æ€§çš„çº¦æŸï¼ˆæ¯”å¦‚TriviaQAé‡Œçš„answerå¿…é¡»åœ¨docä¸­é«˜é¢‘å‡ºç°ï¼›mojitalké‡Œçš„å¸¦å¤šåª’ä½“ä¿¡æ¯çš„Twitterç›´æ¥ä¸¢æ‰ï¼Œå¤šemojiæ—¶åªçœ‹æœ€é«˜é¢‘çš„emojiç­‰ï¼‰ï¼Œåœ¨ä¸€ä¸ªé è°±çš„å‡è®¾ä¸‹ï¼Œç»è¿‡å‡ ç•ªå°è¿­ä»£å¾€å¾€å°±å¯ä»¥ä¸€ä¸ªèƒ½ç”¨çš„æ•°æ®é›†å•¦ã€‚</p><p>æ€»ä¹‹ï¼Œç©å¥½è¿œç¨‹ç›‘ç£ä¹Ÿå°±æ˜¯è¦æŒæ¡é€†å‘æ€ç»´ï¼Œå¿˜æ‰â€œæ ‡æ³¨â€è¿™ä¸ªè¯ï¼ŒæŠŠæ€ç»´æ”¹æˆâ€œ<strong>æ¡ç€æ ‡ç­¾æ‰¾æ•°æ®â€œ</strong>ã€‚</p><p>å¥½å•¦ï¼Œå…ˆä¼‘æ¯äº”ç§’ï¼Œä½ æ‡‚æ»´(â†“ï¿£âˆ‡ï¿£)â†“</p><h3 id="å››ã€é€‚å¯è€Œæ­¢çš„é¢„å¤„ç†"><a href="#å››ã€é€‚å¯è€Œæ­¢çš„é¢„å¤„ç†" class="headerlink" title="å››ã€é€‚å¯è€Œæ­¢çš„é¢„å¤„ç†"></a>å››ã€é€‚å¯è€Œæ­¢çš„é¢„å¤„ç†</h3><p>å…¶å®åœ¨åšæ•°æ®é›†è¿™ä¸ªäº‹æƒ…ä¸Šï¼Œæœ‰â€œæ´ç™–â€å¹¶ä¸æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œå°¤å…¶æ˜¯å½“è¯­æ–™çš„lexical diversity &amp; semantic richnessæ¯”è¾ƒå¼ºçš„æ—¶å€™ï¼Œä¸€æ¡çœ‹ä¼¼è®©æ•°æ®é›†æ›´å¹²å‡€çš„æ­£åˆ™è¡¨è¾¾å¼å¾ˆå¯èƒ½</p><ol><li>æ²™é›•äº†ä¸€äº›è·Ÿç±»åˆ«æ ‡ç­¾ç›¸å…³çš„æœ‰æ•ˆæ¨¡å¼ï¼Œå¯¼è‡´ä¸€äº›æœ¬æ¥æˆç«‹çš„X-&gt;Yçš„æ˜ å°„å…³ç³»å› æ­¤æ¶ˆå¤±äº†</li><li>å‡å°‘äº†æ¨¡å‹å¯¹æŠ—å™ªå£°çš„å­¦ä¹ æœºä¼šï¼Œ<strong>ä½ æ— æ³•æ¶ˆé™¤æ‰€æœ‰å™ªå£°ï¼Œä½†æ˜¯å´æ¶ˆé™¤äº†å¾ˆå¤šæ¨¡å‹è¯†åˆ«å™ªå£°é€‚åº”å™ªå£°çš„å­¦ä¹ æœºä¼š</strong></li></ol><p>è¿™æ–¹é¢å°å¤•ä¸€æŠŠè¾›é…¸æ³ªå‘€ï¼Œæ›¾ç»èŠ±äº†åŠä¸‹åˆæ—¶é—´å†™äº†å‡ åæ¡æ¸…æ´—è§„åˆ™ï¼Œç»“æœmodelæ›´éš¾æ”¶æ•›ä»¥åŠå¼€å‘é›†è¡¨ç°æ›´å·®äº†ã€‚æœ€ç»ˆå‘ç°æ•°æ®é‡å’Œæ¨¡å‹éƒ½ä¸æ˜¯å¤ªå°çš„æƒ…å†µä¸‹ï¼Œéµä»æœ€å°‘é¢„å¤„ç†åŸåˆ™ä¸€èˆ¬å°±å¤Ÿäº†ï¼Œé™¤äº†ä¸€äº›å¸¸è§„æ“ä½œï¼ˆæ¯”å¦‚æ»¤æ‰HTMLæ ‡ç­¾ã€URLã€è„±æ•ã€å»é‡ã€æˆªæ–­ç­‰ï¼‰ï¼Œå°å¤•ä¸€èˆ¬åªå¯¹å¦‚ä¸‹æƒ…å†µè¿›è¡Œå¤„ç†ï¼š</p><ol><li>å¯¼è‡´äº†â€œæ ‡ç­¾æ³„æ¼â€ï¼Œè¿™ç§æƒ…å†µå®¹æ˜“å‘ç”Ÿåœ¨ä»»åŠ¡ç®€å•ã€æ ‡ç­¾å…¸å‹çš„åœºåˆï¼Œæ•°æ®æºæ¯”è¾ƒå¤šæ—¶å°¤å…¶å®¹æ˜“è¸©å‘ã€‚æ¯”å¦‚ä½ ä»»åŠ¡çš„ç›®æ ‡æ˜¯è®©æ¨¡å‹é€šè¿‡æ–‡æœ¬è¯­ä¹‰åˆ¤æ–­æƒ…æ„Ÿï¼Œé‚£å°±ä¸è¦å¯¹emojiã€é¢œæ–‡å­—æ‰‹ä¸‹ç•™æƒ…äº†ï¼Œä¸¥æ ¼æ§åˆ¶å®ƒä»¬åœ¨æ•°æ®é›†ä¸­çš„æ¯”ä¾‹ã€‚</li><li>å¯¼è‡´äº†æ ·æœ¬è¿‡é•¿ï¼Œæ¯”å¦‚è¿ç»­100ä¸ªç›¸åŒçš„emojiã€å“ˆã€å•Šç­‰</li><li>æ ·æœ¬ä¸­å‡ºç°äº†é¢„ç•™çš„åŠŸèƒ½è¯ï¼ˆæ¯”å¦‚BERTä¸­çš„[UNK],[PAD],[CLS],[SEP]ä¹‹ç±»çš„ï¼‰</li></ol><p>å½“ç„¶ï¼Œå¦‚æœä½ çš„æ•°æ®é›†æ˜¯ç”Ÿæˆä»»åŠ¡ç›¸å…³ï¼Œè®°å¾—æ»¤æ‰é»„åå†…å®¹=,=ã€‚å¯¹äºä¸€äº›é«˜é¢‘é”™åˆ«å­—ï¼Œä¸€å †ç‚¹ç‚¹ç‚¹ä¹‹ç±»çš„è®©ä½ è§‰å¾—dirtyçš„ä¸œè¥¿ï¼Œæ²¡ç‰¹æ®Šéœ€æ±‚çš„è¯å°±æ”¾è¿‡å®ƒä»¬å§ã€‚ã€‚ã€‚ï¼ˆçœŸæƒ³å½»åº•æ¶ˆé™¤å®ƒä»¬çš„è¯å°±æ¢æ•°æ®æºå•Šå–‚ï¼Œä¸è¦å¦„æƒ³ä»¥ä¸€äººä¹‹åŠ›å¯¹æŠ—å¹¿å¤§äººæ°‘ç¾¤ä¼—äº§ç”Ÿçš„è¾£é¸¡ï¼ï¼ï¼‰</p><h3 id="äº”ã€éªŒè¯å¯ç”¨æ€§ï¼Œå°½æ—©æ„é€ æ•°æ®é›†è¿­ä»£é—­ç¯"><a href="#äº”ã€éªŒè¯å¯ç”¨æ€§ï¼Œå°½æ—©æ„é€ æ•°æ®é›†è¿­ä»£é—­ç¯" class="headerlink" title="äº”ã€éªŒè¯å¯ç”¨æ€§ï¼Œå°½æ—©æ„é€ æ•°æ®é›†è¿­ä»£é—­ç¯"></a>äº”ã€éªŒè¯å¯ç”¨æ€§ï¼Œå°½æ—©æ„é€ æ•°æ®é›†è¿­ä»£é—­ç¯</h3><p>æ— è®ºæ˜¯äººå·¥æ ‡æ³¨çš„è¿˜æ˜¯è¿œç¨‹ç›‘ç£æ ‡æ³¨çš„ï¼Œæ•°æ®é›†çœ‹èµ·æ¥åšå¥½äº†ä¸ä»£è¡¨å°±æ˜¯å¯ç”¨çš„ï¼Œå¦‚æœæ ‡æ³¨çš„å™ªå£°å¤ªå¤§æˆ–è€…æ ‡ç­¾è¾¹ç•Œå¤ªè¿‡æ¨¡ç³Šï¼ˆå¤§é‡æ ‡æ³¨é”™è¯¯ï¼Œæˆ–æ ‡æ³¨è§„åˆ™å†™çš„å¤ªæ¾ã€å¤ªæ¨¡ç³Šï¼Œå¯¼è‡´äººéƒ½åˆ†ä¸æ¸…æŸå‡ ä¸ªç±»åˆ«ä¹‹é—´çš„åŒºåˆ«ï¼‰ï¼Œå¾ˆå¯èƒ½å†å¤æ‚çš„æ¨¡å‹éƒ½åœ¨è¿™ä»½æ•°æ®é›†ä¸Šæ— æ³•æ”¶æ•›ï¼›åä¹‹ï¼Œå¦‚æœæ•°æ®é›†ä¸­æœ‰â€œæ ‡ç­¾æ³„æ¼â€ï¼ˆæ¯”å¦‚ä½ ç”¨emojiè¿œç¨‹ç›‘ç£æ„é€ äº†æƒ…æ„Ÿåˆ†ç±»æ•°æ®é›†ï¼Œæœ€åå´å¿˜äº†æ»¤æ‰emojiï¼‰æˆ–æ ‡ç­¾ä¸å†…å®¹æœ‰éå¸¸ç›´æ¥çš„æ˜ å°„å…³ç³»ï¼ˆç±»åˆ«å¤ªè¿‡å…·ä½“æˆ–æ ‡æ³¨è§„åˆ™å†™çš„å¤ªæ­»ï¼‰ï¼Œé‚£å°±ä¼šå¯¼è‡´ä¸€ä¸ªéå¸¸ç®€å•çš„æ¨¡å‹éƒ½ä¼šè½»æ˜“çš„æŠŠè¿™ä¸ªæ•°æ®é›†åˆ·åˆ°è¿‘ä¹æ»¡åˆ†ï¼Œé‚£è¿™ä¸ªæ¨¡å‹å­¦åˆ°çš„çŸ¥è¯†åŸºæœ¬æ˜¯æ²¡æœ‰ä»€ä¹ˆå®é™…æ„ä¹‰çš„ï¼Œæ¢è¨€ä¹‹ï¼Œè¿™ä¹ˆç®€å•ç›´æ¥çš„ä»»åŠ¡å…¶å®å‡ æ¡è§„åˆ™å‡ è¡Œä»£ç å°±æå®šäº†ï¼Œå®Œå…¨æ²¡å¿…è¦åšæ•°æ®é©±åŠ¨çš„æ¨¡å‹è®­ç»ƒã€‚</p><p>å› æ­¤ç»å¯¹ä¸è¦æŠ±ç€å°†æ•°æ®é›†ä¸€æ¬¡åšæˆçš„å¿ƒæ€ï¼Œè€Œæ˜¯è¦å°½æ—©æ„é€ ä¸€ä¸ª<strong>â€œç”Ÿæˆæ•°æ®é›†-&gt;è·‘baseline-&gt;badcase study-&gt;æ›´æ–°ç­–ç•¥-&gt;é‡æ–°ç”Ÿæˆæ•°æ®é›†â€</strong>çš„é—­ç¯ã€‚æ³¨æ„ï¼Œbaselineåˆ«é€‰çš„å¤ªéº»çƒ¦ï¼ˆé‚£ç§å¯¹å„ç§è¶…å‚æ•æ„Ÿçš„æ¨¡å‹è¿˜æ˜¯ç®—äº†å§ï¼‰ï¼Œæœ€å¥½æ˜¯å·²è¢«æ™®ééªŒè¯æœ‰æ•ˆçš„ã€æœ‰å¼€æºä»£ç çš„ã€ä¸Šæ‰‹è½»æ¾çš„ã€åŸºæœ¬ä¸ç”¨è°ƒå‚å°±æ•ˆæœè¿˜å¯ä»¥çš„æ¨¡å‹ï¼ˆæ¯”å¦‚BERTç³»åˆ—ï¼‰ã€‚</p><p>è¿™é‡Œè¦æ³¨æ„ä¾§é‡ç‚¹ï¼Œåœ¨è¿­ä»£çš„æ—©æœŸï¼Œè®©baselineèƒ½åœ¨ä½ çš„æ•°æ®é›†ä¸Šæ­£å¸¸æ”¶æ•›æ˜¯ç¬¬ä¸€ç›®æ ‡ï¼Œä¸­æœŸåˆ™æ˜¯å…³æ³¨baselineåœ¨å¼€å‘é›†ä¸Šçš„è¡¨ç°ï¼Œè¡¨ç°å¤ªå¥½è¦ç•™æ„æ ‡ç­¾æ³„æ¼æˆ–æ•°æ®æ³„æ¼ï¼ˆXä¸­å‡ºç°äº†Yï¼Œæˆ–å¿˜è®°å»é‡ï¼‰ï¼Œè¡¨ç°å¤ªå·®è°ƒè°ƒå‚ï¼ŒåæœŸåˆ™æ˜¯æ›´å¤šå…³æ³¨badcaseäº†ï¼Œçœ‹çœ‹badcaseä¸­æ›´å¤šçš„æ˜¯æ ·æœ¬é—®é¢˜ï¼ˆæ ‡æ³¨å™ªå£°ï¼‰è¿˜æ˜¯çœŸçš„æ¨¡å‹èƒ½åŠ›ä¸å¤Ÿã€‚</p><h3 id="å…­ã€å…³äºå¤æ‚NLPä»»åŠ¡"><a href="#å…­ã€å…³äºå¤æ‚NLPä»»åŠ¡" class="headerlink" title="å…­ã€å…³äºå¤æ‚NLPä»»åŠ¡"></a>å…­ã€å…³äºå¤æ‚NLPä»»åŠ¡</h3><p>å½“ç„¶å•¦ï¼Œä¸Šé¢å…¶å®éƒ½è¯´çš„æ¯”è¾ƒå®½æ³›ï¼Œå…¶å®åœ¨ä¸åŒçš„NLPé—®é¢˜ä¸Šåšæ•°æ®é›†å¯èƒ½ä¼šå¾ˆä¸ä¸€æ ·ã€‚åƒä¸€äº›ç®€å•NLPä»»åŠ¡å¦‚æ–‡æœ¬åˆ†ç±»ç­‰åŸºäºä¸Šé¢çš„åŸºæœ¬åŸåˆ™å°±å·®ä¸å¤šäº†ï¼Œä½†æ˜¯ä¸€äº›å¤æ‚NLPä»»åŠ¡å¦‚ä»»åŠ¡å‹å¯¹è¯ã€çŸ¥è¯†å›¾è°±ç›¸å…³ï¼Œå“ªæ€•å®Œå…¨äººå·¥äº§ç”Ÿå’Œæ ‡æ³¨éƒ½ä¸å¥½åšçš„ã€‚</p><p>æ¯”å¦‚ä»»åŠ¡å‹å¯¹è¯ç›¸å…³çš„æ•°æ®é›†ï¼Œå¾ˆéš¾ä½¿ç”¨è¿œç¨‹ç›‘ç£è¿™ç§å·æ‡’çš„æ–¹å¼æ¥æ„é€ ï¼Œæ ·æœ¬å’Œæ ‡ç­¾çš„äº§ç”Ÿå¯èƒ½éƒ½å¾ˆéš¾è„±ç¦»äººåŠ›æ ‡æ³¨ã€‚æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å‚è€ƒMultiWOZ[10]è¿™ä¸ªæ•°æ®é›†ï¼ˆcoveräº†DSTã€act-to-text generationå’Œcontext-to-text generationè¿™ä¸‰ä¸ªä»»åŠ¡å‹å¯¹è¯ä¸­çš„å­ä»»åŠ¡ï¼‰çš„paperï¼Œé‡Œé¢å¯¹machine-machineï¼ˆå¦‚M2M[11]ï¼‰ã€machine-humanï¼ˆå¦‚DSTCç³»åˆ—[12][13][14]ï¼‰ã€human-humanï¼ˆå¦‚ATIS[15]ï¼ŒWOZç³»åˆ—[10]ï¼‰è¿™ä¸‰ç§ååŒæ„é€ ä»»åŠ¡å‹å¯¹è¯æ•°æ®é›†çš„æ–¹å¼æ€»ç»“çš„å¾ˆåˆ°ä½ï¼Œä¼šè®©ä½ æ„Ÿå—åˆ°äº§å‡ºä¸€ä¸ªé«˜è´¨é‡çš„ä»»åŠ¡å®Œæˆå‹å¯¹è¯æ•°æ®é›†æ˜¯ä¸€ä¸ªå¾ˆæœ‰æŒ‘æˆ˜çš„å·¥ä½œï¼Œè‡ªå·±ä»å¤´æ‘¸ç´¢çš„è¯å¯èƒ½åˆ°å¤´æ¥åªä¼šæ”¶è·ä¸€è„¸æ‡µé€¼â•®(ï¿£â–½ï¿£â€â€)â•­</p><p>æ‰€ä»¥é¢å¯¹ä¸€äº›æ¯”è¾ƒå¤æ‚çš„NLPä»»åŠ¡çš„æ—¶å€™ï¼Œä¸€å®šä¸€å®šè¦è®°å¾—å…ˆç²¾è¯»ä¸€ä¸‹æœ€æ–°æœ€æƒå¨çš„æ•°æ®é›†çš„paperï¼Œè¿™ç±»æ•°æ®é›†çš„æ„å»ºç»éªŒå¯èƒ½æ•´ä¸ªå¾®ä¿¡å’ŒçŸ¥ä¹ä¹Ÿæ‰¾ä¸åˆ°å‡ ç¯‡çš„å™¢â•®(â•¯â–½â•°)â•­</p><hr><h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><p>[1] Bowman S R, Angeli G, Potts C, et al. A large annotated corpus for learning natural language inference[J]. arXiv preprint arXiv:1508.05326, 2015.</p><p>[2] Rajpurkar P, Zhang J, Lopyrev K, et al. Squad: 100,000+ questions for machine comprehension of text[J]. arXiv preprint arXiv:1606.05250, 2016.<br>[3] Wang A, Singh A, Michael J, et al. Glue: A multi-task benchmark and analysis platform for natural language understanding[J]. arXiv preprint arXiv:1804.07461, 2018.<br>[4] Reddy S, Chen D, Manning C D. Coqa: A conversational question answering challenge[J]. Transactions of the Association for Computational Linguistics, 2019, 7: 249-266.<br>[5] Wang A, Pruksachatkun Y, Nangia N, et al. Superglue: A stickier benchmark for general-purpose language understanding systems[J]. arXiv preprint arXiv:1905.00537, 2019.<br>[6] Joshi M, Choi E, Weld D S, et al. Triviaqa: A large scale distantly supervised challenge dataset for reading comprehension[J]. arXiv preprint arXiv:1705.03551, 2017.<br>[7] Dunn M, Sagun L, Higgins M, et al. Searchqa: A new q&amp;a dataset augmented with context from a search engine[J]. arXiv preprint arXiv:1704.05179, 2017.<br>[8] Go A, Bhayani R, Huang L. Twitter sentiment classification using distant supervision[J]. CS224N Project Report, Stanford, 2009, 1(12): 2009.<br>[9] Zhou X, Wang W Y. Mojitalk: Generating emotional responses at scale[J]. arXiv preprint arXiv:1711.04090, 2017.<br>[10] Budzianowski P, Wen T H, Tseng B H, et al. Multiwoz-a large-scale multi-domain wizard-of-oz dataset for task-oriented dialogue modelling[J]. arXiv preprint arXiv:1810.00278, 2018.<br>[11] P Shah, D Hakkani-Tur, G Tur, A Rastogi, A Bapna, N Nayak, and L Heck. 2018. Building a conversational agent overnight with dialogue self-play. arXiv preprint arXiv:1801.04871.<br>[12] Jason Williams, Antoine Raux, Deepak Ramachan- dran, and Alan Black. 2013. The dialog state track- ing challenge. In Proceedings of the SIGDIAL 2013 Conference, pages 404â€“413.<br>[13] M. Henderson, B. Thomson, and S. J. Young. 2014b. Word-based Dialog State Tracking with Recurrent Neural Networks. In Proceedings of SIGdial.<br>[14] Matthew Henderson, Blaise Thomson, and Jason D Williams. 2014c. The third dialog state tracking challenge. In Spoken Language Technology Work- shop (SLT), 2014 IEEE, pages 324â€“329. IEEE.<br>[15] Charles T Hemphill, John J Godfrey, and George R Doddington. 1990. The atis spoken language sys- tems pilot corpus. In Speech and Natural Language: Proceedings of a Workshop Held at Hidden Valley, Pennsylvania<br>[16] B. Pang, L. Lee. 2005. Seeing stars: Exploiting class relationships for sentiment categorization with re- spect to rating scales. In Proceedings of ACL 2005.<br>[17] R. Socher, A. Perelygin, J. Wu, J. Chuang, C. Manning, A. Ng, C. Potts. 2013. Recursive Deep Models for Semantic Compositionality Over a Sentiment Tree- bank. In Proceedings of EMNLP 2013.<br>[18] Oraby S, Harrison V, Ebrahimi A, et al. Curate and Generate: A Corpus and Method for Joint Control of Semantics and Style in Neural NLG[J]. arXiv preprint arXiv:1906.01334, 2019.<br>[19] Zhang X, Zhao J, LeCun Y. Character-level convolutional networks for text classification[C]//Advances in neural information processing systems. 2015: 649-657.</p><hr><h3 id="è½¬è½½è‡ª"><a href="#è½¬è½½è‡ª" class="headerlink" title="è½¬è½½è‡ª"></a>è½¬è½½è‡ª</h3><p><a href="https://www.jiqizhixin.com/articles/2019-09-03-4" target="_blank" rel="noopener">æœºå™¨ä¹‹å¿ƒï¼šå¦‚ä½•æ‰“é€ é«˜è´¨é‡çš„NLPæ•°æ®é›†</a></p>]]></content>
      
      
      <categories>
          
          <category> NLP </category>
          
          <category> æ•°æ®å¤„ç†ç­–ç•¥ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NLP </tag>
            
            <tag> æ•°æ®å¤„ç†ç­–ç•¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ´ç´ è´å¶æ–¯ä¸æ–‡æœ¬åˆ†ç±»</title>
      <link href="/posts/bayes/"/>
      <url>/posts/bayes/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€äº†è§£æ–‡æœ¬åˆ†ç±»"><a href="#ä¸€ã€äº†è§£æ–‡æœ¬åˆ†ç±»" class="headerlink" title="ä¸€ã€äº†è§£æ–‡æœ¬åˆ†ç±»"></a>ä¸€ã€äº†è§£æ–‡æœ¬åˆ†ç±»</h3><p>æ–‡æœ¬åˆ†ç±»ç”¨ç”µè„‘å¯¹æ–‡æœ¬é›†(æˆ–å…¶ä»–å®ä½“æˆ–ç‰©ä»¶)æŒ‰ç…§ä¸€å®šçš„åˆ†ç±»ä½“ç³»æˆ–æ ‡å‡†è¿›è¡Œè‡ªåŠ¨åˆ†ç±»æ ‡è®°ã€‚ å®ƒæ ¹æ®ä¸€ä¸ªå·²ç»è¢«æ ‡æ³¨çš„è®­ç»ƒæ–‡æ¡£é›†åˆ, æ‰¾åˆ°æ–‡æ¡£ç‰¹å¾å’Œæ–‡æ¡£ç±»åˆ«ä¹‹é—´çš„å…³ç³»æ¨¡å‹, ç„¶ååˆ©ç”¨è¿™ç§å­¦ä¹ å¾—åˆ°çš„å…³ç³»æ¨¡å‹å¯¹æ–°çš„æ–‡æ¡£è¿›è¡Œç±»åˆ«åˆ¤æ–­ ã€‚æ–‡æœ¬åˆ†ç±»ä»åŸºäºçŸ¥è¯†çš„æ–¹æ³•é€æ¸è½¬å˜ä¸ºåŸºäºç»Ÿè®¡ å’Œæœºå™¨å­¦ä¹ çš„æ–¹æ³•ã€‚</p><p>ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰ é¢„å¤„ç†ï¼šå°†åŸå§‹è¯­æ–™æ ¼å¼åŒ–ä¸ºåŒä¸€æ ¼å¼ï¼Œä¾¿äºåç»­çš„ç»Ÿä¸€å¤„ç†ï¼›</p><p>ï¼ˆ2ï¼‰ ç´¢å¼•ï¼šå°†æ–‡æ¡£åˆ†è§£ä¸ºåŸºæœ¬å¤„ç†å•å…ƒï¼ŒåŒæ—¶é™ä½åç»­å¤„ç†çš„å¼€é”€ï¼›</p><p>ï¼ˆ3ï¼‰ ç»Ÿè®¡ï¼šè¯é¢‘ç»Ÿè®¡ï¼Œé¡¹ï¼ˆå•è¯ã€æ¦‚å¿µï¼‰ä¸åˆ†ç±»çš„ç›¸å…³æ¦‚ç‡ï¼›</p><p>ï¼ˆ4ï¼‰ ç‰¹å¾æŠ½å–ï¼šä»æ–‡æ¡£ä¸­æŠ½å–å‡ºåæ˜ æ–‡æ¡£ä¸»é¢˜çš„ç‰¹å¾ï¼›</p><p>ï¼ˆ5ï¼‰åˆ†ç±»å™¨ï¼šåˆ†ç±»å™¨çš„è®­ç»ƒï¼›</p><p>ï¼ˆ6ï¼‰ è¯„ä»·ï¼šåˆ†ç±»å™¨çš„æµ‹è¯•ç»“æœåˆ†æã€‚</p><h3 id="äºŒã€æœ´ç´ è´å¶æ–¯åˆ†ç±»ç®—æ³•"><a href="#äºŒã€æœ´ç´ è´å¶æ–¯åˆ†ç±»ç®—æ³•" class="headerlink" title="äºŒã€æœ´ç´ è´å¶æ–¯åˆ†ç±»ç®—æ³•"></a>äºŒã€æœ´ç´ è´å¶æ–¯åˆ†ç±»ç®—æ³•</h3><h4 id="1-è´å¶æ–¯å…¬å¼ï¼š"><a href="#1-è´å¶æ–¯å…¬å¼ï¼š" class="headerlink" title="1. è´å¶æ–¯å…¬å¼ï¼š"></a>1. è´å¶æ–¯å…¬å¼ï¼š</h4><p>æ ¹æ®å…ˆéªŒæ¦‚ç‡å’Œä¼¼ç„¶æ¥è®¡ç®—åéªŒæ¦‚ç‡</p><p>$$P ( c âˆ£ X ) = \frac{P(X|c)P(c)}{P(X)}$$</p><p>åˆ©ç”¨äº†å¤å…¸çš„æ•°å­¦ç†è®ºï¼Œé€šè¿‡è´å¶æ–¯å…¬å¼ï¼Œç”±å…ˆéªŒæ¦‚ç‡è®¡ç®—å‡ºåéªŒæ¦‚ç‡ï¼Œå³æ˜¯è¯¥å‡è®¾å±äºæŸä¸€ç±»åˆ«çš„æ¦‚ç‡ï¼Œç„¶åé€‰æ‹©åéªŒæ¦‚ç‡æœ€å¤§çš„ç±»ä½œä¸ºè¯¥å‡è®¾çš„ç›®æ ‡å€¼ã€‚</p><h4 id="2-è´å¶æ–¯åˆ†ç±»å™¨"><a href="#2-è´å¶æ–¯åˆ†ç±»å™¨" class="headerlink" title="2. è´å¶æ–¯åˆ†ç±»å™¨"></a>2. è´å¶æ–¯åˆ†ç±»å™¨</h4><p>åˆ†ç±»æ˜¯æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜ä¸­æœ€åŸºç¡€çš„ä¸€ç§å·¥ä½œã€‚å‡è®¾ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ç»„è®­ç»ƒæ ·æœ¬ï¼Œä»¥åŠä¸å…¶ç›¸å¯¹åº”çš„åˆ†ç±»æ ‡ç­¾ã€‚æ¯ä¸ªå…ƒç»„éƒ½è¢«è¡¨ç¤ºä¸ºnç»´å±æ€§å‘é‡ $x=(x_1,x_1,â€¦,x_n)$ çš„å½¢å¼ï¼Œä¸€å…±æœ‰kä¸ªç±»åˆ« $c_1,c_2,â€¦,c_k$ã€‚åˆ†ç±»è¦åšçš„å°±æ˜¯æ¨¡å‹å¯ä»¥é¢„æµ‹æ•°æ®å±äºå“ªä¸ªç±»åˆ«ã€‚<br>å¯¹äºæ¯ä¸ªç±»åˆ« $c_i$ ,åˆ©ç”¨è´å¶æ–¯å…¬å¼æ¥ä¼°è®¡åœ¨ç»™å®šè®­ç»ƒå…ƒç»„Xæ—¶çš„æ¡ä»¶æ¦‚ç‡ $P(c_i|x)$</p><p>$$P(c_i|x)=\frac{P(c_i)P(x|c_i)}{P(x)}$$</p><p>å½“ä¸”ä»…å½“æ¦‚ç‡ $P(c_i|x)$ åœ¨æ‰€æœ‰ç±»åˆ«ä¸­å–å€¼æœ€å¤§æ—¶ï¼Œæ•°æ® $x$ å±äº $c_i$ ã€‚ $P(c_i)$ æ˜¯ç±»å…ˆéªŒæ¦‚ç‡ï¼Œ$P(x|c_i)$ æ˜¯æ ·æœ¬ $x$ ç›¸å¯¹äºç±» $c_i$ çš„ç±»æ¡ä»¶æ¦‚ç‡ï¼Œç§°ä¸ºä¼¼ç„¶ã€‚å› ä¸º $P(x)$ æ˜¯ç”¨äºå½’ä¸€åŒ–çš„è¯æ®å› å­ï¼Œå…¶å¯¹äºæ‰€æœ‰çš„ç±»åˆ«éƒ½æ˜¯æ’å®šçš„ã€‚æ‰€ä»¥åªéœ€è¦åŸºäºè®­ç»ƒæ•°æ®æ¥ä¼°è®¡ $P(c_i)$ å’Œ $P(x|c_i)$ </p><h4 id="3-æœ´ç´ è´å¶æ–¯ç®—æ³•çš„ä¼˜ç¼ºç‚¹"><a href="#3-æœ´ç´ è´å¶æ–¯ç®—æ³•çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="3. æœ´ç´ è´å¶æ–¯ç®—æ³•çš„ä¼˜ç¼ºç‚¹"></a>3. æœ´ç´ è´å¶æ–¯ç®—æ³•çš„ä¼˜ç¼ºç‚¹</h4><ul><li><p>ä¼˜ç‚¹</p><blockquote><ol><li>å¯¹å¾…é¢„æµ‹æ ·æœ¬è¿›è¡Œé¢„æµ‹ï¼Œ<strong>è¿‡ç¨‹ç®€å•é€Ÿåº¦å¿«</strong>(æƒ³æƒ³é‚®ä»¶åˆ†ç±»çš„é—®é¢˜ï¼Œé¢„æµ‹å°±æ˜¯åˆ†è¯åè¿›è¡Œæ¦‚ç‡ä¹˜ç§¯ï¼Œåœ¨logåŸŸç›´æ¥åšåŠ æ³•æ›´å¿«)ã€‚</li><li><strong>å¯¹äºå¤šåˆ†ç±»é—®é¢˜ä¹ŸåŒæ ·å¾ˆæœ‰æ•ˆ</strong>ï¼Œå¤æ‚åº¦ä¹Ÿä¸ä¼šæœ‰å¤§ç¨‹åº¦ä¸Šå‡ã€‚</li><li><strong>åœ¨åˆ†å¸ƒç‹¬ç«‹è¿™ä¸ªå‡è®¾æˆç«‹çš„æƒ…å†µä¸‹</strong>ï¼Œè´å¶æ–¯åˆ†ç±»å™¨<strong>æ•ˆæœå¥‡å¥½</strong>ï¼Œä¼šç•¥èƒœäºé€»è¾‘å›å½’ï¼ŒåŒæ—¶æˆ‘ä»¬<strong>éœ€è¦çš„æ ·æœ¬é‡ä¹Ÿæ›´å°‘ä¸€ç‚¹</strong>ã€‚</li><li>å¯¹äºç±»åˆ«ç±»çš„è¾“å…¥ç‰¹å¾å˜é‡ï¼Œæ•ˆæœéå¸¸å¥½ã€‚å¯¹äºæ•°å€¼å‹å˜é‡ç‰¹å¾ï¼Œæˆ‘ä»¬æ˜¯é»˜è®¤å®ƒç¬¦åˆæ­£æ€åˆ†å¸ƒçš„ã€‚</li></ol></blockquote></li><li><p>ç¼ºç‚¹</p><blockquote><ol><li>å¯¹äºæµ‹è¯•é›†ä¸­çš„ä¸€ä¸ªç±»åˆ«å˜é‡ç‰¹å¾ï¼Œå¦‚æœåœ¨è®­ç»ƒé›†é‡Œæ²¡è§è¿‡ï¼Œç›´æ¥ç®—çš„è¯æ¦‚ç‡å°±æ˜¯0äº†ï¼Œé¢„æµ‹åŠŸèƒ½å°±å¤±æ•ˆäº†ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å‰é¢çš„æ–‡ç« æè¿‡æˆ‘ä»¬æœ‰ä¸€ç§æŠ€æœ¯å«åš<strong>ã€å¹³æ»‘ã€æ“ä½œ</strong>ï¼Œå¯ä»¥ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œæœ€å¸¸è§çš„å¹³æ»‘æŠ€æœ¯æ˜¯æ‹‰æ™®æ‹‰æ–¯ä¼°æµ‹ã€‚</li><li>æœ´ç´ è´å¶æ–¯ç®—å‡ºçš„æ¦‚ç‡ç»“æœï¼Œæ¯”è¾ƒå¤§å°è¿˜å‡‘åˆï¼Œä½†å®é™…ç‰©ç†å«ä¹‰å°±åˆ«å¤ªå½“çœŸäº†ã€‚</li></ol></blockquote></li></ul><p>æ­¤å¤–ï¼Œ $P(d| Ci)$ ä¹‹æ‰€ä»¥èƒ½å±•å¼€æˆçš„è¿ä¹˜ç§¯å½¢å¼</p><p>$P(d| Ci)=P(w1|Ci) P(w2|Ci) â€¦P(wi|Ci) P(w1|Ci) â€¦P(wm|Ci) $</p><p>å°±æ˜¯å‡è®¾ä¸€ç¯‡æ–‡ç« ä¸­çš„å„ä¸ªè¯ä¹‹é—´æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ï¼Œå…¶ä¸­ä¸€ä¸ªè¯çš„å‡ºç°ä¸æ¯«ä¸å—å¦ä¸€ä¸ªè¯çš„å½±å“ï¼ˆå›å¿†ä¸€ä¸‹æ¦‚ç‡è®ºä¸­å˜ é‡å½¼æ­¤ç‹¬ç«‹çš„æ¦‚å¿µå°±å¯ä»¥çŸ¥é“ï¼‰ï¼Œä½†è¿™æ˜¾ç„¶ä¸å¯¹ï¼Œå³ä½¿ä¸æ˜¯è¯­è¨€å­¦ä¸“å®¶çš„æˆ‘ä»¬ä¹ŸçŸ¥é“ï¼Œè¯è¯­ä¹‹é—´æœ‰æ˜æ˜¾çš„æ‰€è°“â€œå…±ç°â€å…³ç³»ï¼Œåœ¨ä¸åŒä¸»é¢˜çš„æ–‡ç« ä¸­ï¼Œå¯èƒ½å…±ç°çš„æ¬¡æ•° æˆ–é¢‘ç‡æœ‰å˜åŒ–ï¼Œä½†å½¼æ­¤é—´ç»å¯¹è°ˆä¸ä¸Šç‹¬ç«‹ã€‚</p><p>å…¶äºŒï¼Œä½¿ç”¨æŸä¸ªè¯åœ¨æŸä¸ªç±»åˆ«è®­ç»ƒæ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°æ¥ä¼°è®¡ $P(wi|Ci)$ æ—¶ï¼Œåªåœ¨è®­ç»ƒæ ·æœ¬æ•°é‡éå¸¸å¤šçš„æƒ…å†µä¸‹æ‰æ¯”è¾ƒå‡†ç¡®ï¼ˆè€ƒè™‘æ‰”ç¡¬å¸çš„é—®é¢˜ï¼Œå¾—é€šè¿‡å¤§é‡è§‚ å¯Ÿæ‰èƒ½åŸºæœ¬å¾—å‡ºæ­£åé¢å‡ºç°çš„æ¦‚ç‡éƒ½æ˜¯äºŒåˆ†ä¹‹ä¸€çš„ç»“è®ºï¼Œè§‚å¯Ÿæ¬¡æ•°å¤ªå°‘æ—¶å¾ˆå¯èƒ½å¾—åˆ°é”™è¯¯çš„ç­”æ¡ˆï¼‰ï¼Œè€Œéœ€è¦å¤§é‡æ ·æœ¬çš„è¦æ±‚ä¸ä»…ç»™å‰æœŸäººå·¥åˆ†ç±»çš„å·¥ä½œå¸¦æ¥æ›´é«˜è¦æ±‚ ï¼ˆä»è€Œæˆæœ¬ä¸Šå‡ï¼‰ï¼Œåœ¨åæœŸç”±è®¡ç®—æœºå¤„ç†çš„æ—¶å€™ä¹Ÿå¯¹å­˜å‚¨å’Œè®¡ç®—èµ„æºæå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚</p><h3 id="ä¸‰ã€ç”¨pythonå®ç°ä¸€ç§ç®€å•çš„æœ´ç´ è´å¶æ–¯ç®—æ³•ï¼ˆä»¥åƒåœ¾é‚®ä»¶è¯†åˆ«ä¸ºä¾‹ï¼‰"><a href="#ä¸‰ã€ç”¨pythonå®ç°ä¸€ç§ç®€å•çš„æœ´ç´ è´å¶æ–¯ç®—æ³•ï¼ˆä»¥åƒåœ¾é‚®ä»¶è¯†åˆ«ä¸ºä¾‹ï¼‰" class="headerlink" title="ä¸‰ã€ç”¨pythonå®ç°ä¸€ç§ç®€å•çš„æœ´ç´ è´å¶æ–¯ç®—æ³•ï¼ˆä»¥åƒåœ¾é‚®ä»¶è¯†åˆ«ä¸ºä¾‹ï¼‰"></a>ä¸‰ã€ç”¨pythonå®ç°ä¸€ç§ç®€å•çš„æœ´ç´ è´å¶æ–¯ç®—æ³•ï¼ˆä»¥åƒåœ¾é‚®ä»¶è¯†åˆ«ä¸ºä¾‹ï¼‰</h3><p><code>SpamEmail.py</code> :</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Created on 2020-11-1</span></span><br><span class="line"><span class="string">@author: Roc</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SpamEmail</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.stopWords = []</span><br><span class="line">        self.getStopWords(<span class="string">"./data/ä¸­æ–‡åœç”¨è¯è¡¨.txt"</span>)  <span class="comment"># åœç”¨è¯</span></span><br><span class="line">        self.normDict, self.normFileNum = self.getWords(<span class="string">"./data/normal/"</span>)  <span class="comment"># è®°å½•æ­£å¸¸é‚®ä»¶è¯é¢‘</span></span><br><span class="line">        self.spamDict, self.spamFileNum = self.getWords(<span class="string">"./data/spam/"</span>)  <span class="comment"># è®°å½•åƒåœ¾é‚®ä»¶è¯é¢‘</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getStopWords</span><span class="params">(self, path)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> open(path):</span><br><span class="line">            self.stopWords.append(line[:len(line)<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getWordsList</span><span class="params">(self, content, wordsList)</span>:</span></span><br><span class="line">        cutRes = list(jieba.cut(content))</span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> cutRes:</span><br><span class="line">            <span class="keyword">if</span> w <span class="keyword">not</span> <span class="keyword">in</span> self.stopWords <span class="keyword">and</span> w.strip() != <span class="string">''</span> <span class="keyword">and</span> w != <span class="literal">None</span> <span class="keyword">and</span> w <span class="keyword">not</span> <span class="keyword">in</span> wordsList:</span><br><span class="line">                wordsList.append(w)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getWords</span><span class="params">(self, path)</span>:</span></span><br><span class="line">        wordsDic = &#123;&#125;</span><br><span class="line">        fileList = os.listdir(path)</span><br><span class="line">        num = len(fileList)</span><br><span class="line">        <span class="keyword">for</span> fileName <span class="keyword">in</span> fileList:</span><br><span class="line">            wordsList = []</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> open(path + fileName):</span><br><span class="line">                rule = re.compile(<span class="string">r"[^\u4e00-\u9fa5]"</span>)</span><br><span class="line">                line = rule.sub(<span class="string">""</span>, line)</span><br><span class="line">                self.getWordsList(line, wordsList)</span><br><span class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> wordsList:</span><br><span class="line">                <span class="keyword">if</span> item <span class="keyword">in</span> wordsDic.keys():</span><br><span class="line">                    wordsDic[item] += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    wordsDic.setdefault(item, <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> wordsDic, num</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getTestWords</span><span class="params">(self, wordsDic)</span>:</span></span><br><span class="line">        wordsProbDic = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> word, num <span class="keyword">in</span> wordsDic.items():</span><br><span class="line">            <span class="keyword">if</span> word <span class="keyword">in</span> self.spamDict.keys() <span class="keyword">and</span> word <span class="keyword">in</span> self.normDict.keys():</span><br><span class="line">                pw_s = self.spamDict[word]/self.spamFileNum</span><br><span class="line">                pw_n = self.normDict[word]/self.normFileNum</span><br><span class="line">            <span class="keyword">elif</span> word <span class="keyword">in</span> self.spamDict.keys() <span class="keyword">and</span> word <span class="keyword">not</span> <span class="keyword">in</span> self.normDict.keys():</span><br><span class="line">                pw_s = self.spamDict[word]/self.spamFileNum</span><br><span class="line">                pw_n = <span class="number">0.0001</span>  <span class="comment"># ä¸åœ¨æ­£å¸¸é‚®ä»¶è¯ä¸­</span></span><br><span class="line">            <span class="keyword">elif</span> word <span class="keyword">not</span> <span class="keyword">in</span> self.spamDict.keys() <span class="keyword">and</span> word <span class="keyword">in</span> self.normDict.keys():</span><br><span class="line">                pw_s = <span class="number">0.0001</span>  <span class="comment"># ä¸åœ¨åƒåœ¾é‚®ä»¶è¯ä¸­</span></span><br><span class="line">                pw_n = self.normDict[word]/self.normFileNum</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># äºŒè€…éƒ½ä¸åœ¨ï¼Œè®¾ç½®é»˜è®¤å¯èƒ½æ€§ï¼Œæ ¹æ®æœ€æ–°ï¼ˆ2020-06ï¼‰å…¨çƒåƒåœ¾é‚®ä»¶æ¯”ä¾‹è®¾ç½®</span></span><br><span class="line">                pw_s = <span class="number">0.4816</span></span><br><span class="line">                pw_n = <span class="number">0.5184</span></span><br><span class="line">            ps_w = pw_s / (pw_s + pw_n)  <span class="comment"># è®¡ç®— P(s|w)</span></span><br><span class="line">            wordsProbDic.setdefault(word, ps_w)</span><br><span class="line">        <span class="comment"># res = &#123;&#125;</span></span><br><span class="line">        <span class="comment"># for w in sorted(wordsProbDic.items(), key=lambda d: d[1], reverse=True)[0:15]:</span></span><br><span class="line">        <span class="comment">#     res.setdefault(w[0], w[1])</span></span><br><span class="line">        <span class="keyword">return</span> wordsProbDic</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calBayes</span><span class="params">(self, wordsProbDic)</span>:</span></span><br><span class="line">        ps_w = <span class="number">1</span></span><br><span class="line">        pn_w = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> word, prob <span class="keyword">in</span> wordsProbDic.items():</span><br><span class="line">            ps_w *= prob</span><br><span class="line">            pn_w *= (<span class="number">1</span> - prob)</span><br><span class="line">        p = ps_w / (ps_w + pn_w)</span><br><span class="line">        <span class="keyword">return</span> p</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">judgeSpam</span><span class="params">(self, filename)</span>:</span></span><br><span class="line">        wordsDic = &#123;&#125;</span><br><span class="line">        wordsList = []</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> open(filename):</span><br><span class="line">            rule = re.compile(<span class="string">r"[^\u4e00-\u9fa5]"</span>)</span><br><span class="line">            line = rule.sub(<span class="string">""</span>, line)</span><br><span class="line">            self.getWordsList(line, wordsList)</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> wordsList:</span><br><span class="line">            <span class="keyword">if</span> item <span class="keyword">in</span> wordsDic.keys():</span><br><span class="line">                wordsDic[item] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                wordsDic.setdefault(item, <span class="number">1</span>)</span><br><span class="line">        wordsProbDic = self.getTestWords(wordsDic)</span><br><span class="line">        p = self.calBayes(wordsProbDic)</span><br><span class="line">        <span class="keyword">return</span> p &gt; <span class="number">0.9</span></span><br></pre></td></tr></table></figure><p><code>main.py</code> :</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Created on 2020-11-1</span></span><br><span class="line"><span class="string">@author: Roc</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">import</span> SpamEmail</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">spam = SpamEmail.SpamEmail()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calAccuracy</span><span class="params">(testDic)</span>:</span></span><br><span class="line">    normCount = <span class="number">0</span></span><br><span class="line">    spamCount = <span class="number">0</span></span><br><span class="line">    rightCount = <span class="number">0</span></span><br><span class="line">    FNCount = <span class="number">0</span>  <span class="comment"># å‡é˜´æ€§,åƒåœ¾é‚®ä»¶æ¼æŠ¥</span></span><br><span class="line">    FPCount = <span class="number">0</span>  <span class="comment"># å‡é˜³æ€§ï¼Œæ­£å¸¸é‚®ä»¶è¯¯æŠ¥ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¦æ±‚å‡é˜³æ€§ç‡åº”è¯¥ä½ä¸€ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> file, isSpam <span class="keyword">in</span> testDic.items():</span><br><span class="line">        <span class="keyword">if</span> int(file) &gt; <span class="number">1000</span>:</span><br><span class="line">            spamCount += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> isSpam:</span><br><span class="line">                rightCount += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                FNCount += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            normCount += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> isSpam:</span><br><span class="line">                FPCount += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                rightCount += <span class="number">1</span></span><br><span class="line">    acc = rightCount / (rightCount + FNCount + FPCount)</span><br><span class="line">    PFN = FNCount / spamCount</span><br><span class="line">    PFP = FPCount / normCount</span><br><span class="line">    <span class="keyword">return</span> acc, PFN, PFP</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    testFileList = os.listdir(<span class="string">"./data/test"</span>)</span><br><span class="line">    testDic = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> testFileList:</span><br><span class="line">        isSpam = spam.judgeSpam(<span class="string">"./data/test/"</span> + file)</span><br><span class="line">        testDic.setdefault(file, isSpam)</span><br><span class="line">        print(file, isSpam)</span><br><span class="line">    acc, PFN, PFP = calAccuracy(testDic)</span><br><span class="line">    print(<span class="string">"The correct rate:"</span>, acc)</span><br><span class="line">    print(<span class="string">"The False Negative rate:"</span>, PFN)</span><br><span class="line">    print(<span class="string">"The False Positive rete:"</span>, PFP)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°æ­£ç¡®ç‡å¯ä»¥è¾¾åˆ°98.97%ï¼ˆç”±äºæµ‹è¯•æ•°æ®è¾ƒå°‘ï¼Œè¿™ä¸ªæ­£ç¡®ç‡ç½®ä¿¡åº¦ä¸é«˜ï¼Œä»…ä¾›å‚è€ƒï¼‰ï¼Œä½†å‡é˜³æ€§çš„æ¦‚ç‡è¾¾åˆ°1.04%ï¼Œæ•ˆæœä¸æ˜¯å¾ˆå¥½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The correct rate: 0.9897959183673469</span><br><span class="line">The False Negative rate: 0.010050251256281407</span><br><span class="line">The False Positive rete: 0.010362694300518135</span><br></pre></td></tr></table></figure><p>æ•°æ®é›†ä¸‹è½½ï¼š<a href="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/bayes/data.zip" target="_blank" rel="noopener">https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/bayes/data.zip</a></p><p>æµ‹è¯•æ•°æ®ä¸­ï¼Œæ–‡ä»¶åå°äº1000çš„æ˜¯æ­£å¸¸é‚®ä»¶ï¼Œå¤§äº1000çš„æ˜¯åƒåœ¾é‚®ä»¶ã€‚</p><h3 id="å››ã€æ³¨æ„äº‹é¡¹å’Œä¸€äº›å°æŠ€å·§"><a href="#å››ã€æ³¨æ„äº‹é¡¹å’Œä¸€äº›å°æŠ€å·§" class="headerlink" title="å››ã€æ³¨æ„äº‹é¡¹å’Œä¸€äº›å°æŠ€å·§"></a>å››ã€æ³¨æ„äº‹é¡¹å’Œä¸€äº›å°æŠ€å·§</h3><h4 id="æ³¨æ„äº‹é¡¹ï¼š"><a href="#æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼š"></a>æ³¨æ„äº‹é¡¹ï¼š</h4><ul><li>è™½ç„¶å¾ˆå¤šç‰¹å¾æ˜¯è¿ç»­æ•°å€¼å‹çš„ï¼Œä½†æ˜¯å®ƒä»¬ä¸ä¸€å®šæœä»æ­£æ€åˆ†å¸ƒï¼Œè¦æƒ³åŠæ³•æŠŠå®ƒä»¬å˜æ¢è°ƒæ•´æˆæ»¡è¶³æ­£æ€åˆ†å¸ƒï¼ï¼</li><li>å¯¹æµ‹è¯•æ•°æ®ä¸­çš„0é¢‘æ¬¡é¡¹ï¼Œ<strong>ä¸€å®šè¦è®°å¾—å¹³æ»‘</strong>ï¼Œç®€å•ä¸€ç‚¹å¯ä»¥ç”¨ã€æ‹‰æ™®æ‹‰æ–¯å¹³æ»‘ã€ã€‚</li><li>å…ˆå¤„ç†å¤„ç†ç‰¹å¾ï¼Œ<strong>æŠŠç›¸å…³ç‰¹å¾å»æ‰</strong>ï¼Œå› ä¸ºé«˜ç›¸å…³åº¦çš„2ä¸ªç‰¹å¾åœ¨æ¨¡å‹ä¸­ç›¸å½“äºå‘æŒ¥äº†2æ¬¡ä½œç”¨ã€‚</li><li>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ä¸€èˆ¬å¯è°ƒå‚æ•°æ¯”è¾ƒå°‘ï¼Œæ¯”å¦‚<a href="http://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.MultinomialNB.html#sklearn.naive_bayes.MultinomialNB" target="_blank" rel="noopener">scikit-learnä¸­çš„æœ´ç´ è´å¶æ–¯</a>åªæœ‰æ‹‰æ™®æ‹‰æ–¯å¹³æ»‘å› å­alphaï¼Œç±»åˆ«å…ˆéªŒæ¦‚ç‡class_priorå’Œé¢„ç®—æ•°æ®ç±»åˆ«å…ˆéªŒfit_priorã€‚æ¨¡å‹ç«¯å¯åšçš„äº‹æƒ…ä¸å¦‚å…¶ä»–æ¨¡å‹å¤šï¼Œå› æ­¤æˆ‘ä»¬è¿˜æ˜¯é›†ä¸­ç²¾åŠ›è¿›è¡Œæ•°æ®çš„é¢„å¤„ç†ï¼Œä»¥åŠç‰¹å¾çš„é€‰æ‹©å§ã€‚</li><li>é‚£ä¸ªï¼Œä¸€èˆ¬å…¶ä»–çš„æ¨¡å‹(åƒlogistic regressionï¼ŒSVMç­‰)åšå®Œä¹‹åï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å°è¯•ä¸€ä¸‹baggingå’Œboostingç­‰èåˆå¢å¼ºæ–¹æ³•ã€‚å’³å’³ï¼Œå¾ˆå¯æƒœï¼Œå¯¹æœ´ç´ è´å¶æ–¯é‡Œè¿™äº›æ–¹æ³•éƒ½æ²¡å•¥ç”¨ã€‚åŸå› ï¼ŸåŸå› æ˜¯è¿™äº›èåˆæ–¹æ³•æœ¬è´¨ä¸Šæ˜¯å‡å°‘è¿‡æ‹Ÿåˆï¼Œå‡å°‘varianceçš„ã€‚æœ´ç´ è´å¶æ–¯æ˜¯æ²¡æœ‰varianceå¯ä»¥å‡å°ã€‚</li></ul><h4 id="ä¸€äº›å°æŠ€å·§ï¼š"><a href="#ä¸€äº›å°æŠ€å·§ï¼š" class="headerlink" title="ä¸€äº›å°æŠ€å·§ï¼š"></a>ä¸€äº›å°æŠ€å·§ï¼š</h4><h5 id="1-å¯¹äºæ¦‚ç‡ä¸º0çš„æ•°æ®çš„å¤„ç†"><a href="#1-å¯¹äºæ¦‚ç‡ä¸º0çš„æ•°æ®çš„å¤„ç†" class="headerlink" title="1. å¯¹äºæ¦‚ç‡ä¸º0çš„æ•°æ®çš„å¤„ç†"></a>1. å¯¹äºæ¦‚ç‡ä¸º0çš„æ•°æ®çš„å¤„ç†</h5><p>å½“ç‰¹å¾å±æ€§ä¸ºç¦»æ•£å€¼æ—¶ï¼Œåªè¦ç»Ÿè®¡è®­ç»ƒæ ·æœ¬ä¸­å„ä¸ªåˆ’åˆ†åœ¨æ¯ä¸ªç±»åˆ«ä¸­å‡ºç°çš„é¢‘ç‡å³å¯ç”¨æ¥ä¼°è®¡ $P(w|s)$ ï¼Œè‹¥æŸä¸€ç‰¹å¾å€¼çš„æ¦‚ç‡ä¸º0åˆ™ä¼šä½¿æ•´ä¸ªæ¦‚ç‡ä¹˜ç§¯å˜ä¸º0ï¼Œè¿™ä¼šè®©åˆ†ç±»å™¨çš„å‡†ç¡®æ€§å¤§å¹…ä¸‹é™ã€‚</p><p>è¿™æ—¶å€™ä½¿ç”¨Laplaceæ ¡å‡†ï¼šå³å‡å®šè®­ç»ƒæ•°æ®åº“å¾ˆå¤§ï¼Œä»¥è‡³äºå¯¹æ¯ä¸ªè®¡æ•°åŠ 1é€ æˆçš„ä¼°è®¡æ¦‚ç‡çš„å˜åŒ–å¿½ç•¥ä¸è®¡ã€‚</p><h5 id="2-å°æ•°è¿ç»­ç›¸ä¹˜"><a href="#2-å°æ•°è¿ç»­ç›¸ä¹˜" class="headerlink" title="2. å°æ•°è¿ç»­ç›¸ä¹˜"></a>2. å°æ•°è¿ç»­ç›¸ä¹˜</h5><p>å®é™…é¡¹ç›®ä¸­ï¼Œæ¦‚ç‡På¾€å¾€æ˜¯å€¼å¾ˆå°çš„å°æ•°ï¼Œè¿ç»­çš„å¾®å°å°æ•°ç›¸ä¹˜å®¹æ˜“é€ æˆä¸‹æº¢å‡ºä½¿ä¹˜ç§¯ä¸º0æˆ–è€…å¾—ä¸åˆ°æ­£ç¡®ç­”æ¡ˆã€‚ä¸€ç§è§£å†³åŠæ³•å°±æ˜¯å¯¹ä¹˜ç§¯å–è‡ªç„¶å¯¹æ•°ï¼Œå°†è¿ä¹˜å˜ä¸ºè¿åŠ ï¼Œ $lnâ¡(AB)=lnâ¡A+lnâ¡B$ ã€‚é‡‡ç”¨è‡ªç„¶å¯¹æ•°å¤„ç†å‡ ä¹ä¸ä¼šå¸¦æ¥ä»»ä½•æŸå¤±ï¼Œå¯ä»¥é¿å…ä¸‹æº¢å‡ºæˆ–è€…æµ®ç‚¹æ•°èˆå…¥å¯¼è‡´çš„é”™è¯¯ã€‚</p><hr><p>å‚è€ƒèµ„æ–™ï¼š</p><p>[1]ç™¾åº¦ç™¾ç§‘-æ–‡æœ¬åˆ†ç±»ï¼š<a href="https://baike.baidu.com/item/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB" target="_blank" rel="noopener">https://baike.baidu.com/item/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB</a></p><p>[2]çŸ¥ä¹-å¸¦ä½ ç†è§£æœ´ç´ è´å¶æ–¯åˆ†ç±»ç®—æ³•ï¼š<a href="https://zhuanlan.zhihu.com/p/26262151" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/26262151</a></p><p>[3]CSDN-æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨åŠpythonå®ç°ï¼š<a href="https://blog.csdn.net/yinyu19950811/article/details/78060267" target="_blank" rel="noopener">https://blog.csdn.net/yinyu19950811/article/details/78060267</a></p><p>[4]CSDN-ç”¨æœ´ç´ è´å¶æ–¯è¿›è¡Œæ–‡æœ¬åˆ†ç±»(ä¸Š)ï¼š<a href="https://blog.csdn.net/suibianshen2012/article/details/51613759" target="_blank" rel="noopener">https://blog.csdn.net/suibianshen2012/article/details/51613759</a></p><p>[5]GitHub-BayesSpamï¼š<a href="https://github.com/shijing888/BayesSpam" target="_blank" rel="noopener">https://github.com/shijing888/BayesSpam</a></p><p>[6]CSDN-NLPç³»åˆ—(4)_æœ´ç´ è´å¶æ–¯å®æˆ˜ä¸è¿›é˜¶ï¼š<a href="https://blog.csdn.net/longxinchen_ml/article/details/50629613" target="_blank" rel="noopener">https://blog.csdn.net/longxinchen_ml/article/details/50629613</a></p>]]></content>
      
      
      <categories>
          
          <category> NLP </category>
          
          <category> äºŒåˆ†ç±» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NLP </tag>
            
            <tag> æœ´ç´ è´å¶æ–¯ </tag>
            
            <tag> æ–‡æœ¬åˆ†ç±» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vmwareå®‰è£…Linuxè™šæ‹Ÿæœº</title>
      <link href="/posts/vmware/"/>
      <url>/posts/vmware/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€ä¸‹è½½ç›¸å…³æ–‡ä»¶"><a href="#ä¸€ã€ä¸‹è½½ç›¸å…³æ–‡ä»¶" class="headerlink" title="ä¸€ã€ä¸‹è½½ç›¸å…³æ–‡ä»¶"></a>ä¸€ã€ä¸‹è½½ç›¸å…³æ–‡ä»¶</h3><h4 id="1-ä¸‹è½½Vmwareå¹¶å®‰è£…"><a href="#1-ä¸‹è½½Vmwareå¹¶å®‰è£…" class="headerlink" title="1. ä¸‹è½½Vmwareå¹¶å®‰è£…"></a>1. ä¸‹è½½Vmwareå¹¶å®‰è£…</h4><p>å»ºè®®åˆ°VMwareå®˜ç½‘ä¸‹è½½ï¼Œè™½ç„¶å¯èƒ½æœ‰ç‚¹æ…¢ã€‚</p><p>åœ°å€ <a href="https://download3.vmware.com/software/wkst/file/VMware-workstation-full-16.0.0-16894299.exe" target="_blank" rel="noopener">https://download3.vmware.com/software/wkst/file/VMware-workstation-full-16.0.0-16894299.exe</a></p><p>æ³¨å†Œç ï¼ˆ<a href="https://www.iemblog.com/?p=7283&lang=zh" target="_blank" rel="noopener">ç½‘ä¸Š</a>æ‰¾æ¥çš„ï¼Œä¸ä¿è¯å¯ä»¥ç”¨ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ZF3R0-FHED2-M80TY-8QYGC-NPKYF</span><br><span class="line">YF390-0HF8P-M81RQ-2DXQE-M2UT6</span><br><span class="line">ZF71R-DMX85-08DQY-8YMNC-PPHV8</span><br></pre></td></tr></table></figure><h4 id="2-ä¸‹è½½Linuxé•œåƒ"><a href="#2-ä¸‹è½½Linuxé•œåƒ" class="headerlink" title="2. ä¸‹è½½Linuxé•œåƒ"></a>2. ä¸‹è½½Linuxé•œåƒ</h4><p>é€‰æ‹©è‡ªå·±æ¯”è¾ƒä¹ æƒ¯çš„Linuxå‘è¡Œç‰ˆçš„é•œåƒä¸‹è½½ï¼Œæ–°æ‰‹æ¨èUbuntuï¼Œä¸‹è½½åœ°å€ï¼š<a href="http://183.207.33.43:9011/releases.ubuntu.com/c3pr90ntc0td/20.04/ubuntu-20.04.1-desktop-amd64.iso" target="_blank" rel="noopener">http://183.207.33.43:9011/releases.ubuntu.com/c3pr90ntc0td/20.04/ubuntu-20.04.1-desktop-amd64.iso</a></p><h3 id="ä¸‰ã€å®‰è£…Linuxï¼ˆä»¥Ubuntuä¸ºä¾‹ï¼‰"><a href="#ä¸‰ã€å®‰è£…Linuxï¼ˆä»¥Ubuntuä¸ºä¾‹ï¼‰" class="headerlink" title="ä¸‰ã€å®‰è£…Linuxï¼ˆä»¥Ubuntuä¸ºä¾‹ï¼‰"></a>ä¸‰ã€å®‰è£…Linuxï¼ˆä»¥Ubuntuä¸ºä¾‹ï¼‰</h3><p>å¯¹äºVMwareé‡Œé¢çš„ä¸€äº›é€‰é¡¹ï¼Œä¸æ‡‚çš„å¯ä»¥æŸ¥é˜…VMware<a href="https://docs.vmware.com/cn/VMware-Workstation-Pro/index.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><h4 id="å‡†å¤‡é˜¶æ®µ"><a href="#å‡†å¤‡é˜¶æ®µ" class="headerlink" title="å‡†å¤‡é˜¶æ®µ"></a>å‡†å¤‡é˜¶æ®µ</h4><p>æ‰“å¼€VMwareï¼Œç‚¹å‡»åˆ›å»ºæ–°çš„è™šæ‹Ÿæœºï¼Œé€‰æ‹©è‡ªå®šä¹‰ç±»å‹ï¼Œç‚¹å‡»ä¸¤æ¬¡ä¸‹ä¸€æ­¥ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/new.jpg" alt=""></p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/zidingyi.jpg" alt=""></p><p>é€‰æ‹©â€ç¨åå®‰è£…æ“ä½œç³»ç»Ÿâ€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/after.jpg" alt=""></p><p>é€‰æ‹©Linuxæ“ä½œç³»ç»Ÿï¼Œç‰ˆæœ¬ä¸ºUbuntu64ä½ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/select_sys.jpg" alt=""></p><p>è™šæ‹Ÿæœºåç§°å¯ä»¥éšæ„ï¼Œä½ç½®æœ€å¥½ä¸“é—¨æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œ<strong>ä¸è¦</strong>æ”¾åœ¨é»˜è®¤ä½ç½®ï¼Œä¸”<strong>å°½é‡ä¸è¦</strong>æ”¾åœ¨ç³»ç»Ÿç›˜ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/where.jpg" alt=""></p><p>é€‰æ‹©å¤„ç†å™¨æ•°é‡ä¸å†…æ ¸æ•°é‡ï¼Œä¸€èˆ¬æˆ‘ä»¬çš„ç”µè„‘ä¹Ÿåªæœ‰ä¸€ä¸ªå¤„ç†å™¨ï¼Œè¿™é‡Œé€‰æ‹©1ä¸ªå¤„ç†å™¨ï¼Œ4ä¸ªæ ¸å¿ƒã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/cpu.jpg" alt=""></p><p>åˆ†é…å†…å­˜å¤§å°ï¼Œå»ºè®®2Gæˆ–4Gã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/ram.jpg" alt=""></p><p>é€‰æ‹©ç½‘ç»œï¼Œé»˜è®¤å°±å¯ä»¥ï¼Œè¿™ä¸ªä»¥åå¯ä»¥åˆ‡æ¢ï¼Œå¦‚æœç”¨ç€ç”¨ç€è™šæ‹Ÿæœºä¸Šä¸äº†ç½‘äº†ï¼Œå¯ä»¥è¯•è¯•åˆ‡æ¢ç½‘ç»œæ¨¡å¼ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/net.jpg" alt=""></p><p>é€‰æ‹©I/Oç±»å‹å’Œç£ç›˜ç±»å‹ï¼Œé»˜è®¤å°±å¯ä»¥ã€‚å¦‚æœæœ‰å…¶ä»–éœ€æ±‚ï¼Œå¯ä»¥çœ‹å®˜æ–¹ç»™çš„<a href="https://docs.vmware.com/cn/VMware-Workstation-Pro/16.0/com.vmware.ws.using.doc/GUID-A0438F6C-6651-4A38-853A-0A7A494E23DF.html" target="_blank" rel="noopener">æ–‡æ¡£</a>é€‰æ‹©åˆé€‚çš„I/Oç±»å‹å’Œç£ç›˜ç±»å‹ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/IO.jpg" alt=""></p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/disk.jpg" alt=""></p><p>é€‰æ‹©ç£ç›˜ï¼Œåˆ›å»ºæ–°çš„è™šæ‹Ÿç£ç›˜ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/create_disk.jpg" alt=""></p><p>è¾“å…¥ç»™è™šæ‹Ÿæœºåˆ†é…çš„ç£ç›˜å¤§å°ï¼Œå¦‚æœæ‰“ç®—é•¿æœŸç”¨ï¼Œå»ºè®®ç¨å¤§ä¸€ç‚¹ï¼Œå…å¾—ä»¥åéº»çƒ¦ã€‚</p><p>è¿™é‡Œé€‰æ‹©å°†è™šæ‹Ÿç£ç›˜æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/storage.jpg" alt=""></p><p>ç‚¹å‡»ä¸¤æ¬¡ä¸‹ä¸€æ­¥ï¼Œå®Œæˆã€‚ä¼šè‡ªåŠ¨æ‰“å¼€å½“å‰è™šæ‹Ÿæœºçš„é¡µé¢ï¼Œç‚¹å‡»å·¦ä¾§CD/DVDï¼Œä¿®æ”¹ä¸ºä¸‹è½½å¥½çš„é•œåƒæ–‡ä»¶ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/CDDVD.jpg" alt=""></p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/select_iso.jpg" alt=""></p><p>ç‚¹å‡»ç¡®å®šï¼Œç„¶åâ€œå¼€å¯æ­¤è™šæ‹Ÿæœºâ€ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/start.jpg" alt=""></p><h4 id="åƒåœ¨çœŸæœºä¸Šä¸€æ ·å®‰è£…ç³»ç»Ÿï¼ˆä»¥ä¸‹å„ä¸ªç‰ˆæœ¬çš„Linuxæœ‰åŒºåˆ«ï¼‰"><a href="#åƒåœ¨çœŸæœºä¸Šä¸€æ ·å®‰è£…ç³»ç»Ÿï¼ˆä»¥ä¸‹å„ä¸ªç‰ˆæœ¬çš„Linuxæœ‰åŒºåˆ«ï¼‰" class="headerlink" title="åƒåœ¨çœŸæœºä¸Šä¸€æ ·å®‰è£…ç³»ç»Ÿï¼ˆä»¥ä¸‹å„ä¸ªç‰ˆæœ¬çš„Linuxæœ‰åŒºåˆ«ï¼‰"></a>åƒåœ¨çœŸæœºä¸Šä¸€æ ·å®‰è£…ç³»ç»Ÿï¼ˆä»¥ä¸‹å„ä¸ªç‰ˆæœ¬çš„Linuxæœ‰åŒºåˆ«ï¼‰</h4><p>å¼€æœºåï¼Œç­‰å¾…åŠ è½½ï¼Œå¤§æ¦‚ä¸€åˆ†é’Ÿå·¦å³ï¼Œä¼šå‡ºç°å›¾å½¢ç•Œé¢ã€‚</p><p>é€‰æ‹©Install Ubuntuï¼Œè¯­è¨€é€‰æ‹©Englishå°±å¥½ï¼Œä¸å»ºè®®ä¸­æ–‡ï¼Œå¦‚æœå®åœ¨çœ‹ä¸æ‡‚è‹±æ–‡å†å°è¯•ä¸­æ–‡ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/begin_to_install.jpg" alt=""></p><p>é”®ç›˜é€‰æ‹©è‹±å¼é”®ç›˜ï¼Œç‚¹å‡»continueã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/keyboard.jpg" alt=""></p><p>æ˜¯å¦è¦æ›´æ–°è½¯ä»¶ï¼Œå¦‚æœ<strong>ç½‘ç»œæ¯”è¾ƒå¥½ä¸”ä¸ç€æ€¥ç”¨</strong>ï¼Œå¯ä»¥é€‰æ‹©â€œDownload updatesâ€ï¼Œå¦‚æœç€æ€¥ç”¨å°±<strong>ä¸è¦</strong>å‹¾é€‰ï¼Œæˆ‘è¿™é‡Œå†™æ•™ç¨‹ä¸ç€æ€¥å°±å‹¾é€‰äº†ï¼Œæ™®é€šç½‘ç»œå‹¾é€‰äº†çš„è¯ä¸‹è½½æ›´æ–°æ–‡ä»¶å¯èƒ½éœ€è¦<strong>äº”ä¸ªå°æ—¶</strong>ä»¥ä¸Šã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/apps.jpg" alt=""></p><p>Install Now, continue</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/installation_type.jpg" alt=""></p><p>ç­‰å¾…ä¸€å°ä¼šã€‚</p><p>é€‰æ‹©åœ°åŒºï¼Œéšæ„ã€‚</p><p>è®¾ç½®è´¦æˆ·åå’Œå¯†ç , continue</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/username.jpg" alt=""></p><p>æ¥ä¸‹æ¥å°±ç­‰å¾…å®‰è£…å®Œæˆã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/vmware/waiting.jpg" alt=""></p><h3 id="ä¸‰ã€ä¸ºè™šæ‹Ÿæœºæ¢æºå¹¶å®‰è£…gccã€g"><a href="#ä¸‰ã€ä¸ºè™šæ‹Ÿæœºæ¢æºå¹¶å®‰è£…gccã€g" class="headerlink" title="ä¸‰ã€ä¸ºè™šæ‹Ÿæœºæ¢æºå¹¶å®‰è£…gccã€g++"></a>ä¸‰ã€ä¸ºè™šæ‹Ÿæœºæ¢æºå¹¶å®‰è£…gccã€g++</h3><p>ç‚¹å‡»å·¦ä¸‹è§’æ‰€æœ‰åº”ç”¨ï¼Œæœç´¢terminalå¹¶æ‰“å¼€ã€‚æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo passwd root</span><br></pre></td></tr></table></figure><p>ä¸ºrootè®¾ç½®åˆå§‹å¯†ç ã€‚ç¬¬ä¸€æ¬¡è¾“å…¥çš„æ˜¯å½“å‰è´¦æˆ·çš„å¯†ç ï¼ˆpassword for userï¼Œå‰é¢å®‰è£…çš„æ—¶å€™è®¾ç½®çš„ï¼‰ï¼Œç¬¬äºŒæ¬¡è¾“å…¥çš„æ˜¯ä¸ºrootè®¾ç½®çš„æ–°å¯†ç ï¼ˆNew passwordï¼‰ï¼Œç¬¬ä¸‰æ¬¡è¾“å…¥çš„æ˜¯é‡å¤æ–°å¯†ç ï¼ˆRetype new passwordï¼‰ã€‚è®¾ç½®å¥½åä½¿ç”¨ <code>su -</code> å‘½ä»¤ç™»é™†rootè´¦æˆ·ï¼Œä¸€ä¸‹å‡åœ¨rootè´¦æˆ·ä¸‹æ“ä½œã€‚</p><h4 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/apt <span class="comment"># åˆ‡æ¢åˆ°ç›®å½•</span></span><br><span class="line">$ mv sources.list sources.list.bak <span class="comment"># å¤‡ä»½åŸæ¥çš„æºåˆ—è¡¨</span></span><br><span class="line">$ vi sources.list</span><br></pre></td></tr></table></figure><p>æŒ‰ä¸€æ¬¡ i è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œä»»é€‰ä¸‹é¢ä¸€ç»„ç²˜è´´è¿›å»</p><p><strong>æ¸…åæº</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># å¦‚æœç²˜è´´ä¸äº†ï¼Œè¯·åˆ æ‰ä¸­æ–‡æ³¨é‡Š</span><br><span class="line"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal main restricted universe multiverse</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiverse</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal-security main restricted universe multiverse</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"># ä»¥ä¸‹æ˜¯é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span><br><span class="line"># deb https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiverse</span><br><span class="line"># deb-src https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure><p><strong>é˜¿é‡Œæº</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-security main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-security main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><p><strong>ä¸­ç§‘å¤§æº</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal-security main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal-security main restricted universe multiverse</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiverse</span><br><span class="line">deb-src https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F; focal-proposed main restricted universe ultiverse</span><br></pre></td></tr></table></figure><p><strong>ç½‘æ˜“163æº</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal-security main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal-security main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get update</span><br><span class="line">$ apt-get upgrade</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…vimï¼Œgccï¼Œg"><a href="#å®‰è£…vimï¼Œgccï¼Œg" class="headerlink" title="å®‰è£…vimï¼Œgccï¼Œg++"></a>å®‰è£…vimï¼Œgccï¼Œg++</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install vim  <span class="comment"># å¯èƒ½æœ¬æ¥å·²ç»æœ‰vimäº†ï¼Œå¦‚æœæœ‰çš„è¯å°±ä¸éœ€è¦å®‰è£…äº†</span></span><br><span class="line">$ apt-get install gcc</span><br><span class="line">$ apt-get install g++</span><br></pre></td></tr></table></figure><h3 id="å››ã€å¸¸è§é—®é¢˜"><a href="#å››ã€å¸¸è§é—®é¢˜" class="headerlink" title="å››ã€å¸¸è§é—®é¢˜"></a>å››ã€å¸¸è§é—®é¢˜</h3><h4 id="ç¼ºå°‘ä¾èµ–"><a href="#ç¼ºå°‘ä¾èµ–" class="headerlink" title="ç¼ºå°‘ä¾èµ–"></a>ç¼ºå°‘ä¾èµ–</h4><p>å®‰è£…è½¯ä»¶æ—¶æç¤ºç¼ºå°‘ä¾èµ–ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">Some packages could not be installed. This may mean that you have</span><br><span class="line">requested an impossible situation or if you are using the unstable</span><br><span class="line">distribution that some required packages have not yet been created</span><br><span class="line">or been moved out of Incoming.</span><br><span class="line">The following information may help to resolve the situation:</span><br><span class="line"></span><br><span class="line">The following packages have unmet dependencies:</span><br><span class="line"> g++ : Depends: g++-7 (&gt;&#x3D; 7.3.0-12~) but it is not going to be installed</span><br><span class="line">E: Unable to correct problems, you have held broken packages.</span><br></pre></td></tr></table></figure><p>ä¸­æ–‡ç‰ˆæŠ¥é”™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">æ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨... å®Œæˆ</span><br><span class="line">æ­£åœ¨åˆ†æè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ ‘</span><br><span class="line">æ­£åœ¨è¯»å–çŠ¶æ€ä¿¡æ¯... å®Œæˆ</span><br><span class="line">æœ‰ä¸€äº›è½¯ä»¶åŒ…æ— æ³•è¢«å®‰è£…ã€‚å¦‚æœæ‚¨ç”¨çš„æ˜¯ unstable å‘è¡Œç‰ˆï¼Œè¿™ä¹Ÿè®¸æ˜¯</span><br><span class="line">å› ä¸ºç³»ç»Ÿæ— æ³•è¾¾åˆ°æ‚¨è¦æ±‚çš„çŠ¶æ€é€ æˆçš„ã€‚è¯¥ç‰ˆæœ¬ä¸­å¯èƒ½ä¼šæœ‰ä¸€äº›æ‚¨éœ€è¦çš„è½¯ä»¶</span><br><span class="line">åŒ…å°šæœªè¢«åˆ›å»ºæˆ–æ˜¯å®ƒä»¬å·²è¢«ä»æ–°åˆ°(Incoming)ç›®å½•ç§»å‡ºã€‚</span><br><span class="line">ä¸‹åˆ—ä¿¡æ¯å¯èƒ½ä¼šå¯¹è§£å†³é—®é¢˜æœ‰æ‰€å¸®åŠ©ï¼š</span><br><span class="line"></span><br><span class="line">ä¸‹åˆ—è½¯ä»¶åŒ…æœ‰æœªæ»¡è¶³çš„ä¾èµ–å…³ç³»ï¼š</span><br><span class="line">g++ : ä¾èµ–: g++-4.8 (&gt;&#x3D; 4.8.2-5~) ä½†æ˜¯å®ƒå°†ä¸ä¼šè¢«å®‰è£…</span><br><span class="line">E: æ— æ³•ä¿®æ­£é”™è¯¯ï¼Œå› ä¸ºæ‚¨è¦æ±‚æŸäº›è½¯ä»¶åŒ…ä¿æŒç°çŠ¶ï¼Œå°±æ˜¯å®ƒä»¬ç ´åäº†è½¯ä»¶åŒ…é—´çš„ä¾èµ–å…³ç³»ã€‚</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„g++-xï¼Œxæ˜¯å¤šå°‘éƒ½å·®ä¸å¤šï¼Œç½‘ä¸Šæ¨èçš„éƒ½æ˜¯å®‰è£…aptitudeæ¥ä»£æ›¿apt-getï¼Œæˆ‘å°è¯•ä¹‹åå‘ç°é—®é¢˜çš„æ ¹æºæ˜¯ä½¿ç”¨çš„æºï¼Œå†ç”¨åŒæ ·çš„æ–¹æ³•æ¢ä¸€ä¸ªå…¶ä»–çš„æºå°±å¯ä»¥è§£å†³é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> VMware </category>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> Vmware </tag>
            
            <tag> è™šæ‹Ÿæœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒè¿›åˆ¶ç‚¸å¼¹ binary bomb</title>
      <link href="/posts/csapp/binary_boob/"/>
      <url>/posts/csapp/binary_boob/</url>
      
        <content type="html"><![CDATA[<h3 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Houses will begat jobs, jobs will begat houses.</span><br><span class="line">1 2 4 7 11 16</span><br><span class="line">0 -118</span><br><span class="line">6 6 DrEvil</span><br><span class="line">5 115</span><br><span class="line">2 4 1 3 6 5</span><br><span class="line">1001</span><br></pre></td></tr></table></figure><h3 id="phase-1"><a href="#phase-1" class="headerlink" title="phase_1"></a>phase_1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">0000000000400e8d &lt;phase_1&gt;:</span><br><span class="line">  400e8d:48 83 ec 08          sub    $0x8,%rsp</span><br><span class="line">  400e91:be d0 23 40 00       mov    $0x4023d0,%esi</span><br><span class="line">  400e96:e8 b5 04 00 00       callq  401350 &lt;strings_not_equal&gt;</span><br><span class="line">  400e9b:85 c0                test   %eax,%eax</span><br><span class="line">  400e9d:74 05                je     400ea4 &lt;phase_1+0x17&gt;</span><br><span class="line">  400e9f:e8 ab 05 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  400ea4:48 83 c4 08          add    $0x8,%rsp</span><br><span class="line">  400ea8:c3                   retq</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿåæ±‡ç¼–ä»£ç ï¼Œå‘ç°ç¬¬3è¡Œå’Œç¬¬4è¡Œæ˜¯å®ç°è¾“å…¥å­—ç¬¦ä¸²å’Œåœ°å€ <code>0x4023d0</code> å¤„çš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œé‚£ä¹ˆå°±è¦æŸ¥çœ‹å­˜åœ¨è¿™ä¸ªåœ°å€çš„å­—ç¬¦ä¸²æ˜¯ä»€ä¹ˆã€‚</p><p>è¿›å…¥gdbè°ƒè¯•ï¼Œ<code>b phase_1</code> åœ¨phase_1å¤„åŠ æ–­ç‚¹ï¼Œ<code>run</code> ï¼Œéšæ„è¾“å…¥ä¸€ä¸²å­—ç¬¦</p><p><code>set disassemble-next-line on</code> æ˜¾ç¤ºä»£ç </p><p><code>ni</code> æ‰§è¡Œå®Œç¬¬3è¡Œï¼Œ <code>p/x $esi</code> æ‰“å° <code>$esi</code> çš„ä½ç½®ï¼Œå¾—åˆ°ç»“æœ <code>0x4023d0</code> ï¼Œç»§ç»­ <code>x/100c $esi</code> æ‰“å°è¯¥åœ°å€å100ä¸ªç©ºé—´å†…çš„å†…å®¹ï¼Œå¾—åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/binary_bomb/phase_1.png" alt=""></p><p>æ‰¾åˆ°å…¶ä¸­ç¬¬ä¸€ä¸ª â€˜\0â€™ï¼Œå‰é¢çš„å†…å®¹å³æ˜¯ç­”æ¡ˆï¼šHouses will begat jobs, jobs will begat houses.ï¼ˆé¡ºä¾¿çœ‹åˆ°äº†åé¢çš„å†…å®¹ï¼šWow! Youâ€™ve defused the secret stage! çœ‹æ ·å­åº”è¯¥æ˜¯ç ´è§£éšè—å…³å¡æ—¶æ‰“å°çš„å†…å®¹ï¼Œå‰§é€äº†:) ï¼‰</p><h3 id="phase-2"><a href="#phase-2" class="headerlink" title="phase_2"></a>phase_2</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">0000000000400ea9 &lt;phase_2&gt;:</span><br><span class="line">  400ea9:55                   push   %rbp</span><br><span class="line">  400eaa:53                   push   %rbx</span><br><span class="line">  400eab:48 83 ec 28          sub    $0x28,%rsp</span><br><span class="line">  400eaf:64 48 8b 04 25 28 00 mov    %fs:0x28,%rax</span><br><span class="line">  400eb6:00 00 </span><br><span class="line">  400eb8:48 89 44 24 18       mov    %rax,0x18(%rsp)</span><br><span class="line">  400ebd:31 c0                xor    %eax,%eax</span><br><span class="line">  400ebf:48 89 e6             mov    %rsp,%rsi</span><br><span class="line">  400ec2:e8 aa 05 00 00       callq  401471 &lt;read_six_numbers&gt;</span><br><span class="line">  400ec7:83 3c 24 00          cmpl   $0x0,(%rsp)</span><br><span class="line">  400ecb:79 05                jns    400ed2 &lt;phase_2+0x29&gt;</span><br><span class="line">  400ecd:e8 7d 05 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  400ed2:48 89 e5             mov    %rsp,%rbp</span><br><span class="line">  400ed5:bb 01 00 00 00       mov    $0x1,%ebx</span><br><span class="line">  400eda:89 d8                mov    %ebx,%eax</span><br><span class="line">  400edc:03 45 00             add    0x0(%rbp),%eax</span><br><span class="line">  400edf:39 45 04             cmp    %eax,0x4(%rbp)</span><br><span class="line">  400ee2:74 05                je     400ee9 &lt;phase_2+0x40&gt;</span><br><span class="line">  400ee4:e8 66 05 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  400ee9:83 c3 01             add    $0x1,%ebx</span><br><span class="line">  400eec:48 83 c5 04          add    $0x4,%rbp</span><br><span class="line">  400ef0:83 fb 06             cmp    $0x6,%ebx</span><br><span class="line">  400ef3:75 e5                jne    400eda &lt;phase_2+0x31&gt;</span><br><span class="line">  400ef5:48 8b 44 24 18       mov    0x18(%rsp),%rax</span><br><span class="line">  400efa:64 48 33 04 25 28 00 xor    %fs:0x28,%rax</span><br><span class="line">  400f01:00 00 </span><br><span class="line">  400f03:74 05                je     400f0a &lt;phase_2+0x61&gt;</span><br><span class="line">  400f05:e8 f6 fb ff ff       callq  400b00 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">  400f0a:48 83 c4 28          add    $0x28,%rsp</span><br><span class="line">  400f0e:5b                   pop    %rbx</span><br><span class="line">  400f0f:5d                   pop    %rbp</span><br><span class="line">  400f10:c3                   retq</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç¬¬10è¡Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°å« <code>read_six_numbers</code> åº”è¯¥æ˜¯è¯»å–æ ‡å‡†è¾“å…¥çš„å…­ä¸ªæ•°ã€‚</p><p>ç„¶åç¬¬11ã€12è¡Œå¯ä»¥ç¡®å®šè¾“å…¥çš„ç¬¬ä¸€ä¸ªæ•°åªè¦éè´Ÿå³å¯ï¼Œæ‰€ä»¥æš‚å®šç¬¬ä¸€ä¸ªæ•°ä¸º1ã€‚</p><p>å†çœ‹ä¸€ä¸‹ç¬¬18è¡Œï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å°† <code>%eax</code> ä¸ <code>0x4(%rbp)</code> è¿›è¡Œæ¯”è¾ƒï¼Œä¸ç›¸ç­‰åˆ™çˆ†ç‚¸ã€‚è€Œç¬¬23ã€24è¡Œå¯å‘Šè¯‰æˆ‘ä»¬ <code>%ebx</code> ä¾æ¬¡é€’å¢ï¼Œä¸ç­‰äº6æ—¶è¿”å›å¾ªç¯ã€‚è€Œç”±ç¬¬15è¡ŒçŸ¥ï¼Œ <code>%ebx</code> åˆå€¼ä¸º1ï¼Œä¹Ÿå°±æ˜¯äº”æ¬¡å¾ªç¯ä¾æ¬¡å°†è¾“å…¥çš„åäº”ä¸ªæ•°å’Œ <code>%eax</code> è¿›è¡Œæ¯”è¾ƒã€‚</p><p>äºæ˜¯æˆ‘ä»¬éœ€è¦çŸ¥é“æ¯æ¬¡å¾ªç¯æ—¶ <code>%eax</code> çš„å€¼ã€‚</p><p>å†çœ‹æ•´ä¸ªå¾ªç¯ä½“ï¼ˆ16-24è¡Œï¼‰ï¼Œå¯ä»¥å‘ç°æ¯æ¬¡å¾ªç¯é™¤ <code>%ebx</code> ä½œä¸ºå¾ªç¯å˜é‡ä¾æ¬¡é€’å¢å¤–ï¼Œ<code>%rbp</code> çš„åœ°å€ä¹Ÿä¾æ¬¡å‘åç§»åŠ¨ä¸€ä¸ª <code>int</code> å¤§å°ï¼Œè€Œç¬¬16ã€17è¡Œå‘Šè¯‰æˆ‘ä»¬æ¯æ¬¡å¾ªç¯æ—¶ <code>%eax</code> çš„å€¼éƒ½æ˜¯ç”±ä¸Šä¸€ä¸ªè¾“å…¥çš„æ•°å†åŠ ä¸Šå¾ªç¯å˜é‡ <code>%rdp</code> çš„å€¼å¾—åˆ°çš„ï¼Œäºæ˜¯å¾—åˆ°é€’æ¨å…¬å¼ï¼š</p><p>$$<br>a_n = a_{n - 1}+(n - 1)<br>$$</p><p>å…¶ä¸­ $a_1$ æ˜¯ä»»æ„éè´Ÿæ•´æ•°ã€‚</p><p>æ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ï¼š1 2 4 7 11 16 æˆ– 0 1 3 6 10 15 æˆ– 2 3 5 8 12 17 æˆ– â€¦â€¦</p><h3 id="phase-3"><a href="#phase-3" class="headerlink" title="phase_3"></a>phase_3</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">0000000000400f11 &lt;phase_3&gt;:</span><br><span class="line">  400f11:48 83 ec 18          sub    $0x18,%rsp</span><br><span class="line">  400f15:64 48 8b 04 25 28 00 mov    %fs:0x28,%rax</span><br><span class="line">  400f1c:00 00 </span><br><span class="line">  400f1e:48 89 44 24 08       mov    %rax,0x8(%rsp)</span><br><span class="line">  400f23:31 c0                xor    %eax,%eax</span><br><span class="line">  400f25:48 8d 4c 24 04       lea    0x4(%rsp),%rcx</span><br><span class="line">  400f2a:48 89 e2             mov    %rsp,%rdx</span><br><span class="line">  400f2d:be cf 25 40 00       mov    $0x4025cf,%esi</span><br><span class="line">  400f32:e8 79 fc ff ff       callq  400bb0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">  400f37:83 f8 01             cmp    $0x1,%eax</span><br><span class="line">  400f3a:7f 05                jg     400f41 &lt;phase_3+0x30&gt;</span><br><span class="line">  400f3c:e8 0e 05 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  400f41:83 3c 24 07          cmpl   $0x7,(%rsp)</span><br><span class="line">  400f45:77 65                ja     400fac &lt;phase_3+0x9b&gt;</span><br><span class="line">  400f47:8b 04 24             mov    (%rsp),%eax</span><br><span class="line">  400f4a:ff 24 c5 40 24 40 00 jmpq   *0x402440(,%rax,8)</span><br><span class="line">  400f51:b8 28 01 00 00       mov    $0x128,%eax# 0</span><br><span class="line">  400f56:eb 05                jmp    400f5d &lt;phase_3+0x4c&gt;</span><br><span class="line">  400f58:b8 00 00 00 00       mov    $0x0,%eax# 1</span><br><span class="line">  400f5d:2d 3c 02 00 00       sub    $0x23c,%eax</span><br><span class="line">  400f62:eb 05                jmp    400f69 &lt;phase_3+0x58&gt;</span><br><span class="line">  400f64:b8 00 00 00 00       mov    $0x0,%eax# 2</span><br><span class="line">  400f69:05 07 03 00 00       add    $0x307,%eax</span><br><span class="line">  400f6e:eb 05                jmp    400f75 &lt;phase_3+0x64&gt;</span><br><span class="line">  400f70:b8 00 00 00 00       mov    $0x0,%eax# 3</span><br><span class="line">  400f75:2d 69 02 00 00       sub    $0x269,%eax</span><br><span class="line">  400f7a:eb 05                jmp    400f81 &lt;phase_3+0x70&gt;</span><br><span class="line">  400f7c:b8 00 00 00 00       mov    $0x0,%eax# 4</span><br><span class="line">  400f81:05 69 02 00 00       add    $0x269,%eax</span><br><span class="line">  400f86:eb 05                jmp    400f8d &lt;phase_3+0x7c&gt;</span><br><span class="line">  400f88:b8 00 00 00 00       mov    $0x0,%eax# 5</span><br><span class="line">  400f8d:2d 69 02 00 00       sub    $0x269,%eax</span><br><span class="line">  400f92:eb 05                jmp    400f99 &lt;phase_3+0x88&gt;</span><br><span class="line">  400f94:b8 00 00 00 00       mov    $0x0,%eax</span><br><span class="line">  400f99:05 69 02 00 00       add    $0x269,%eax</span><br><span class="line">  400f9e:eb 05                jmp    400fa5 &lt;phase_3+0x94&gt;</span><br><span class="line">  400fa0:b8 00 00 00 00       mov    $0x0,%eax</span><br><span class="line">  400fa5:2d 69 02 00 00       sub    $0x269,%eax</span><br><span class="line">  400faa:eb 0a                jmp    400fb6 &lt;phase_3+0xa5&gt;</span><br><span class="line">  400fac:e8 9e 04 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  400fb1:b8 00 00 00 00       mov    $0x0,%eax</span><br><span class="line">  400fb6:83 3c 24 05          cmpl   $0x5,(%rsp)</span><br><span class="line">  400fba:7f 06                jg     400fc2 &lt;phase_3+0xb1&gt;</span><br><span class="line">  400fbc:3b 44 24 04          cmp    0x4(%rsp),%eax</span><br><span class="line">  400fc0:74 05                je     400fc7 &lt;phase_3+0xb6&gt;</span><br><span class="line">  400fc2:e8 88 04 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  400fc7:48 8b 44 24 08       mov    0x8(%rsp),%rax</span><br><span class="line">  400fcc:64 48 33 04 25 28 00 xor    %fs:0x28,%rax</span><br><span class="line">  400fd3:00 00 </span><br><span class="line">  400fd5:74 05                je     400fdc &lt;phase_3+0xcb&gt;</span><br><span class="line">  400fd7:e8 24 fb ff ff       callq  400b00 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">  400fdc:48 83 c4 18          add    $0x18,%rsp</span><br><span class="line">  400fe0:c3                   retq</span><br></pre></td></tr></table></figure><p>åˆ°äº†ç¬¬ä¸‰é˜¶æ®µï¼Œæ˜¾ç„¶å¤æ‚å¾ˆå¤šï¼Œçœ‹ä¸Šå»å¾ˆå¤š <code>jmp</code> å‘½ä»¤ï¼Œåº”è¯¥æ˜¯åˆ†æ”¯è¯­å¥ã€‚</p><p>ä»å¤´æ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬10è¡Œè°ƒç”¨äº† <code>scanf</code> å‡½æ•°ï¼Œæ¥ç€ä¾¿å°† <code>%eax</code> å’Œ1è¿›è¡Œæ¯”è¾ƒï¼Œä¸å¤§äºå°±çˆ†ç‚¸ï¼</p><p>ä¹Ÿå°±æ˜¯è¯´è¾“å…¥æ ¼å¼ä¸å¯¹å°±çˆ†ç‚¸ã€‚</p><p>ä¸è¿‡å¹¸å¥½æˆ‘ä»¬å·²çŸ¥è¾“å…¥ä¸¤ä¸ªæ•´æ•°ã€‚</p><p>æ¥ä¸‹æ¥ç¬¬14è¡Œå°†ç¬¬ä¸€ä¸ªæ•°å’Œ7è¿›è¡Œæ¯”è¾ƒï¼Œå¤§äº7ç›´æ¥è·³åˆ°41è¡Œï¼Œboomï¼æ‰€ä»¥ç¬¬ä¸€ä¸ªæ•°åº”è¯¥å°äº7.</p><p>ç¬¬17è¡Œåˆ™æ˜¯æ ¹æ®è¾“å…¥çš„ç¬¬ä¸€ä¸ªæ•°è¿›è¡Œè·³è½¬ã€‚</p><p>æ¥ä¸‹æ¥ä»åçœ‹ï¼Œç”±ç¬¬45ã€46è¡Œå¯çŸ¥ï¼Œç¬¬äºŒä¸ªæ•°è¦å’Œæœ€ç»ˆçš„ <code>%eax</code> ç›¸ç­‰ã€‚è€Œç”±ç¬¬43è¡Œå¯çŸ¥ç¬¬ä¸€ä¸ªæ•°ä¸èƒ½å¤§äº5.</p><p>äºæ˜¯ä¾¿æœ‰å…­ç§ç­”æ¡ˆï¼ˆåä¸€ä¸ªæ•°æ˜¯æ ¹æ®ä»£ç ä¸­çš„ç«‹å³æ•°è®¡ç®—å¾—åˆ°çš„ï¼‰ï¼Œä¾æ¬¡æ˜¯ï¼š</p><p>0 -118</p><p>1 -414</p><p>2 158</p><p>3 -617</p><p>4 0</p><p>5 -617</p><h3 id="phase-4"><a href="#phase-4" class="headerlink" title="phase_4"></a>phase_4</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">0000000000400fe1 &lt;func4&gt;:# x in %edi, 0 in %esi, 14 in %edx</span><br><span class="line">  400fe1:48 83 ec 08          sub    $0x8,%rsp</span><br><span class="line">  400fe5:89 d0                mov    %edx,%eax</span><br><span class="line">  400fe7:29 f0                sub    %esi,%eax</span><br><span class="line">  400fe9:89 c1                mov    %eax,%ecx</span><br><span class="line">  400feb:c1 e9 1f             shr    $0x1f,%ecx</span><br><span class="line">  400fee:01 c8                add    %ecx,%eax</span><br><span class="line">  400ff0:d1 f8                sar    %eax</span><br><span class="line">  400ff2:8d 0c 30             lea    (%rax,%rsi,1),%ecx</span><br><span class="line">  400ff5:39 f9                cmp    %edi,%ecx</span><br><span class="line">  400ff7:7e 0c                jle    401005 &lt;func4+0x24&gt;</span><br><span class="line">  400ff9:8d 51 ff             lea    -0x1(%rcx),%edx</span><br><span class="line">  400ffc:e8 e0 ff ff ff       callq  400fe1 &lt;func4&gt;</span><br><span class="line">  401001:01 c0                add    %eax,%eax</span><br><span class="line">  401003:eb 15                jmp    40101a &lt;func4+0x39&gt;</span><br><span class="line">  401005:b8 00 00 00 00       mov    $0x0,%eax</span><br><span class="line">  40100a:39 f9                cmp    %edi,%ecx</span><br><span class="line">  40100c:7d 0c                jge    40101a &lt;func4+0x39&gt;</span><br><span class="line">  40100e:8d 71 01             lea    0x1(%rcx),%esi</span><br><span class="line">  401011:e8 cb ff ff ff       callq  400fe1 &lt;func4&gt;</span><br><span class="line">  401016:8d 44 00 01          lea    0x1(%rax,%rax,1),%eax</span><br><span class="line">  40101a:48 83 c4 08          add    $0x8,%rsp</span><br><span class="line">  40101e:c3                   retq   </span><br><span class="line"></span><br><span class="line">000000000040101f &lt;phase_4&gt;:</span><br><span class="line">  40101f:48 83 ec 18          sub    $0x18,%rsp</span><br><span class="line">  401023:64 48 8b 04 25 28 00 mov    %fs:0x28,%rax</span><br><span class="line">  40102a:00 00 </span><br><span class="line">  40102c:48 89 44 24 08       mov    %rax,0x8(%rsp)</span><br><span class="line">  401031:31 c0                xor    %eax,%eax</span><br><span class="line">  401033:48 8d 4c 24 04       lea    0x4(%rsp),%rcx</span><br><span class="line">  401038:48 89 e2             mov    %rsp,%rdx</span><br><span class="line">  40103b:be cf 25 40 00       mov    $0x4025cf,%esi</span><br><span class="line">  401040:e8 6b fb ff ff       callq  400bb0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">  401045:83 f8 02             cmp    $0x2,%eax</span><br><span class="line">  401048:75 06                jne    401050 &lt;phase_4+0x31&gt;</span><br><span class="line">  40104a:83 3c 24 0e          cmpl   $0xe,(%rsp)</span><br><span class="line">  40104e:76 05                jbe    401055 &lt;phase_4+0x36&gt;</span><br><span class="line">  401050:e8 fa 03 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  401055:ba 0e 00 00 00       mov    $0xe,%edx</span><br><span class="line">  40105a:be 00 00 00 00       mov    $0x0,%esi</span><br><span class="line">  40105f:8b 3c 24             mov    (%rsp),%edi</span><br><span class="line">  401062:e8 7a ff ff ff       callq  400fe1 &lt;func4&gt;</span><br><span class="line">  401067:83 f8 06             cmp    $0x6,%eax</span><br><span class="line">  40106a:75 07                jne    401073 &lt;phase_4+0x54&gt;</span><br><span class="line">  40106c:83 7c 24 04 06       cmpl   $0x6,0x4(%rsp)</span><br><span class="line">  401071:74 05                je     401078 &lt;phase_4+0x59&gt;</span><br><span class="line">  401073:e8 d7 03 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  401078:48 8b 44 24 08       mov    0x8(%rsp),%rax</span><br><span class="line">  40107d:64 48 33 04 25 28 00 xor    %fs:0x28,%rax</span><br><span class="line">  401084:00 00 </span><br><span class="line">  401086:74 05                je     40108d &lt;phase_4+0x6e&gt;</span><br><span class="line">  401088:e8 73 fa ff ff       callq  400b00 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">  40108d:48 83 c4 18          add    $0x18,%rsp</span><br><span class="line">  401091:c3                   retq</span><br></pre></td></tr></table></figure><p>å…ˆçœ‹ <code>phase_4</code> å‡½æ•°ï¼Œç¬¬34è¡Œä¹Ÿè°ƒç”¨äº† <code>scanf</code> å‡½æ•°ï¼Œgdbè°ƒè¯•çœ‹ä¸€ä¸‹ <code>0x4025cf</code> å¤„å­˜æ”¾çš„æ˜¯ä»€ä¹ˆï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/binary_bomb/phase_4.png" alt=""></p><p>å¯ä»¥çœ‹åˆ°éœ€è¦è¾“å…¥ä¸¤ä¸ª <code>int</code> ã€‚</p><p>ç»§ç»­çœ‹ç¬¬37ã€38è¡Œï¼Œæ˜¯å°†ç¬¬ä¸€ä¸ªæ•°å’Œ 14 è¿›è¡Œæ¯”è¾ƒï¼Œå¤§äº14å°±çˆ†ç‚¸ã€‚</p><p>æ¥ä¸‹æ¥ä¾¿æ˜¯å°†ç¬¬ä¸€ä¸ªæ•°ã€0ã€14ä½œä¸ºå‚æ•°è°ƒç”¨ <code>func4</code> ï¼Œå¾—åˆ°çš„ç»“æœä¸æ˜¯6å°±çˆ†ç‚¸ã€‚å†å°†ç¬¬äºŒä¸ªæ•°å’Œ6æ¯”è¾ƒï¼Œä¹Ÿæ˜¯ä¸ç›¸ç­‰çš„è¯å°±çˆ†ç‚¸ï¼æ‰€ä»¥è¦æƒ³ä¸çˆ†ç‚¸ï¼Œå°±è¦ç¬¬ä¸€ä¸ªæ•°ç»è¿‡ <code>func4</code> å¤„ç†å¾—åˆ°6ï¼Œç¬¬äºŒä¸ªæ•°å°±æ˜¯6.</p><p>å†çœ‹ <code>func4</code> å‡½æ•°ï¼Œæ ¹æ®åæ±‡ç¼–ä»£ç å¯ä»¥å¾—åˆ° <code>func4</code> å‡½æ•°çš„å®šä¹‰ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func4</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line"><span class="comment">// a = 0, b = 14</span></span><br><span class="line"><span class="keyword">int</span> c = b - a; <span class="comment">// 14 in %eax</span></span><br><span class="line">c += c &gt;&gt; <span class="number">31</span>; <span class="comment">// 14 in %eax, 0 in %ecx</span></span><br><span class="line">c = (<span class="keyword">unsigned</span>)c &gt;&gt; <span class="number">1</span>; <span class="comment">// 7 in %eax</span></span><br><span class="line"><span class="keyword">int</span> d = a + c; <span class="comment">// 7 in %ecx</span></span><br><span class="line"><span class="comment">// d = a + (b - a) / 2 = (a + b) / 2</span></span><br><span class="line"><span class="keyword">if</span>(x &lt; d) &#123; <span class="comment">// x &lt; 7</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span> * func4(x, a, d - <span class="number">1</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; d) &#123; <span class="comment">// x &gt; 7</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span> * func4(x, d + <span class="number">1</span>, b) + <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">// x = 7</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä½•ä¼ å…¥ (x, 0, 14) å¾—åˆ°6å‘¢ï¼Ÿ</p><p>å¯ä»¥å‘ç°å…¶ä¸­çš„då°±æ˜¯aå’Œbçš„å¹³å‡å€¼ï¼Œä¹Ÿå°±æ˜¯xå°äºå¹³å‡å€¼æ˜¯è¿”å›ä¸€ä¸ªå¶æ•°ï¼Œå¤§äºå¹³å‡å€¼æ—¶è¿”å›ä¸€ä¸ªå¥‡æ•°ï¼Œç­‰äºå¹³å‡å€¼æ—¶è¿”å›0ï¼›é‚£ä¹ˆç¬¬ä¸€æ¬¡è°ƒç”¨è¦è¾“å…¥çš„å¿…ç„¶æ˜¯å°äº7ï¼›</p><p>é‚£ä¹ˆæ¥ä¸‹æ¥å°±è¦è°ƒç”¨ <code>func4(x, 0, 6)</code> å¾—åˆ°3ï¼Œxåº”è¯¥å¤§äº3ï¼›</p><p>ä¾æ¬¡ç±»æ¨ <code>func4(x, 4, 6)</code> å¾—åˆ°1ï¼Œxåº”è¯¥å¤§äº5ï¼Œ <code>func4(x, 6, 6)</code> å¾—åˆ°0ï¼Œåˆ™xåº”è¯¥æ˜¯6ã€‚</p><p>æ‰€ä»¥è¾“å…¥çš„ä¸¤ä¸ªæ•°åº”è¯¥æ˜¯6 6ã€‚</p><p>ï¼ˆè‡³äºéšè—é˜¶æ®µå‘¢ï¼Œæš‚æ—¶è¿˜æ²¡æœ‰å‘ç°ï¼‰</p><h3 id="phase-5"><a href="#phase-5" class="headerlink" title="phase_5"></a>phase_5</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">0000000000401092 &lt;phase_5&gt;:</span><br><span class="line">  401092:48 83 ec 18          sub    $0x18,%rsp</span><br><span class="line">  401096:64 48 8b 04 25 28 00 mov    %fs:0x28,%rax</span><br><span class="line">  40109d:00 00 </span><br><span class="line">  40109f:48 89 44 24 08       mov    %rax,0x8(%rsp)</span><br><span class="line">  4010a4:31 c0                xor    %eax,%eax</span><br><span class="line">  4010a6:48 8d 4c 24 04       lea    0x4(%rsp),%rcx</span><br><span class="line">  4010ab:48 89 e2             mov    %rsp,%rdx</span><br><span class="line">  4010ae:be cf 25 40 00       mov    $0x4025cf,%esi</span><br><span class="line">  4010b3:e8 f8 fa ff ff       callq  400bb0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">  4010b8:83 f8 01             cmp    $0x1,%eax</span><br><span class="line">  4010bb:7f 05                jg     4010c2 &lt;phase_5+0x30&gt;</span><br><span class="line">  4010bd:e8 8d 03 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  4010c2:8b 04 24             mov    (%rsp),%eax</span><br><span class="line">  4010c5:83 e0 0f             and    $0xf,%eax</span><br><span class="line">  4010c8:89 04 24             mov    %eax,(%rsp)</span><br><span class="line">  4010cb:83 f8 0f             cmp    $0xf,%eax</span><br><span class="line">  4010ce:74 2f                je     4010ff &lt;phase_5+0x6d&gt;</span><br><span class="line">  4010d0:b9 00 00 00 00       mov    $0x0,%ecx</span><br><span class="line">  4010d5:ba 00 00 00 00       mov    $0x0,%edx</span><br><span class="line">  4010da:83 c2 01             add    $0x1,%edx</span><br><span class="line">  4010dd:48 98                cltq   </span><br><span class="line">  4010df:8b 04 85 80 24 40 00 mov    0x402480(,%rax,4),%eax</span><br><span class="line">  4010e6:01 c1                add    %eax,%ecx</span><br><span class="line">  4010e8:83 f8 0f             cmp    $0xf,%eax</span><br><span class="line">  4010eb:75 ed                jne    4010da &lt;phase_5+0x48&gt;</span><br><span class="line">  4010ed:c7 04 24 0f 00 00 00 movl   $0xf,(%rsp)</span><br><span class="line">  4010f4:83 fa 0f             cmp    $0xf,%edx</span><br><span class="line">  4010f7:75 06                jne    4010ff &lt;phase_5+0x6d&gt;</span><br><span class="line">  4010f9:3b 4c 24 04          cmp    0x4(%rsp),%ecx</span><br><span class="line">  4010fd:74 05                je     401104 &lt;phase_5+0x72&gt;</span><br><span class="line">  4010ff:e8 4b 03 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  401104:48 8b 44 24 08       mov    0x8(%rsp),%rax</span><br><span class="line">  401109:64 48 33 04 25 28 00 xor    %fs:0x28,%rax</span><br><span class="line">  401110:00 00 </span><br><span class="line">  401112:74 05                je     401119 &lt;phase_5+0x87&gt;</span><br><span class="line">  401114:e8 e7 f9 ff ff       callq  400b00 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">  401119:48 83 c4 18          add    $0x18,%rsp</span><br><span class="line">  40111d:c3                   retq</span><br></pre></td></tr></table></figure><p>åŒæ ·å…ˆçœ‹ä¸€ä¸‹ <code>scanf</code> å‡½æ•°è¦æ±‚è¾“å…¥çš„æ ¼å¼æ˜¯ä»€ä¹ˆã€‚å¯ä»¥çœ‹åˆ°ä¾æ—§æ˜¯ä¸¤ä¸ª <code>int</code> æ•´æ•°ã€‚</p><p>ç”±ç¬¬14-18è¡Œå¯çŸ¥ï¼Œè¾“å…¥çš„ç¬¬ä¸€ä¸ªæ•°ä¸º15åˆ™çˆ†ç‚¸ã€‚</p><p>æ¥ä¸‹æ¥çš„21-26è¡Œæ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œç”±ç¬¬28ã€29è¡Œå¯çŸ¥ï¼Œè¦å¾ªç¯15æ¬¡æ‰è¡Œã€‚è€Œç¬¬äºŒä¸ªæ•°è¦å’Œæœ€ç»ˆçš„ <code>%ecx</code> ç›¸ç­‰ï¼Œ <code>%ecx</code> åˆ™æ˜¯æ¯æ¬¡å¾ªç¯ <code>%eax</code> çš„å’Œï¼Œæ¯æ¬¡å¾ªç¯æ—¶ <code>%eax</code> ä¸èƒ½ç­‰äº15ï¼Œåªæœ‰æœ€åä¸€æ¬¡å¾ªç¯ <code>%eax</code> æ‰èƒ½ç­‰äº15ã€‚</p><p>æ‰€ä»¥é‡ç‚¹å°±åœ¨ <code>mov     0x402480(,%rax,4),%eax</code> è¿™ä¸€å¥ï¼Œè¦ç»è¿‡15æ¬¡å°† <code>%eax</code> ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥çš„ç¬¬ä¸€ä¸ªæ•°ï¼Œå˜æˆ15ã€‚</p><p>è€Œ <code>0x402480(,%rax,4)</code> åˆ™æ˜¯åœ¨ <code>0x402480</code> åç§» <code>4 * %rax</code> å¤„çš„å€¼ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ª <code>int</code> æ•°ç»„ã€‚</p><p>æ‰“å°ä¸€ä¸‹çœ‹çœ‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/binary_bomb/phase_5.png" alt=""></p><p>æœç„¶æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé¡ºè—¤æ‘¸ç“œï¼Œä¾¿å¯å¾—åˆ°è¾“å…¥çš„ç¬¬ä¸€ä¸ªæ•°å°±æ˜¯5ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªæ•°å°±æ˜¯ $\frac{(1+15) * 15}{2} - 5 = 115$ ã€‚</p><h3 id="phase-6"><a href="#phase-6" class="headerlink" title="phase_6"></a>phase_6</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">000000000040111e &lt;phase_6&gt;:</span><br><span class="line">  40111e:41 55                push   %r13</span><br><span class="line">  401120:41 54                push   %r12</span><br><span class="line">  401122:55                   push   %rbp</span><br><span class="line">  401123:53                   push   %rbx</span><br><span class="line">  401124:48 83 ec 68          sub    $0x68,%rsp</span><br><span class="line">  401128:64 48 8b 04 25 28 00 mov    %fs:0x28,%rax</span><br><span class="line">  40112f:00 00 </span><br><span class="line">  401131:48 89 44 24 58       mov    %rax,0x58(%rsp)</span><br><span class="line">  401136:31 c0                xor    %eax,%eax</span><br><span class="line">  401138:48 89 e6             mov    %rsp,%rsi</span><br><span class="line">  40113b:e8 31 03 00 00       callq  401471 &lt;read_six_numbers&gt;</span><br><span class="line">  401140:49 89 e4             mov    %rsp,%r12</span><br><span class="line">  401143:41 bd 00 00 00 00    mov    $0x0,%r13d</span><br><span class="line">  401149:4c 89 e5             mov    %r12,%rbp</span><br><span class="line">  40114c:41 8b 04 24          mov    (%r12),%eax</span><br><span class="line">  401150:83 e8 01             sub    $0x1,%eax</span><br><span class="line">  401153:83 f8 05             cmp    $0x5,%eax</span><br><span class="line">  401156:76 05                jbe    40115d &lt;phase_6+0x3f&gt;</span><br><span class="line">  401158:e8 f2 02 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  40115d:41 83 c5 01          add    $0x1,%r13d</span><br><span class="line">  401161:41 83 fd 06          cmp    $0x6,%r13d</span><br><span class="line">  401165:74 3d                je     4011a4 &lt;phase_6+0x86&gt;</span><br><span class="line">  401167:44 89 eb             mov    %r13d,%ebx</span><br><span class="line">  40116a:48 63 c3             movslq %ebx,%rax</span><br><span class="line">  40116d:8b 04 84             mov    (%rsp,%rax,4),%eax</span><br><span class="line">  401170:39 45 00             cmp    %eax,0x0(%rbp)</span><br><span class="line">  401173:75 05                jne    40117a &lt;phase_6+0x5c&gt;</span><br><span class="line">  401175:e8 d5 02 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  40117a:83 c3 01             add    $0x1,%ebx</span><br><span class="line">  40117d:83 fb 05             cmp    $0x5,%ebx</span><br><span class="line">  401180:7e e8                jle    40116a &lt;phase_6+0x4c&gt;</span><br><span class="line">  401182:49 83 c4 04          add    $0x4,%r12</span><br><span class="line">  401186:eb c1                jmp    401149 &lt;phase_6+0x2b&gt;</span><br><span class="line">  401188:48 8b 52 08          mov    0x8(%rdx),%rdx</span><br><span class="line">  40118c:83 c0 01             add    $0x1,%eax</span><br><span class="line">  40118f:39 c8                cmp    %ecx,%eax</span><br><span class="line">  401191:75 f5                jne    401188 &lt;phase_6+0x6a&gt;</span><br><span class="line">  401193:48 89 54 74 20       mov    %rdx,0x20(%rsp,%rsi,2)</span><br><span class="line">  401198:48 83 c6 04          add    $0x4,%rsi</span><br><span class="line">  40119c:48 83 fe 18          cmp    $0x18,%rsi</span><br><span class="line">  4011a0:75 07                jne    4011a9 &lt;phase_6+0x8b&gt;</span><br><span class="line">  4011a2:eb 19                jmp    4011bd &lt;phase_6+0x9f&gt;</span><br><span class="line">  4011a4:be 00 00 00 00       mov    $0x0,%esi</span><br><span class="line">  4011a9:8b 0c 34             mov    (%rsp,%rsi,1),%ecx</span><br><span class="line">  4011ac:b8 01 00 00 00       mov    $0x1,%eax</span><br><span class="line">  4011b1:ba f0 32 60 00       mov    $0x6032f0,%edx</span><br><span class="line">  4011b6:83 f9 01             cmp    $0x1,%ecx</span><br><span class="line">  4011b9:7f cd                jg     401188 &lt;phase_6+0x6a&gt;</span><br><span class="line">  4011bb:eb d6                jmp    401193 &lt;phase_6+0x75&gt;</span><br><span class="line">  4011bd:48 8b 5c 24 20       mov    0x20(%rsp),%rbx</span><br><span class="line">  4011c2:48 8d 44 24 20       lea    0x20(%rsp),%rax</span><br><span class="line">  4011c7:48 8d 74 24 48       lea    0x48(%rsp),%rsi</span><br><span class="line">  4011cc:48 89 d9             mov    %rbx,%rcx</span><br><span class="line">  4011cf:48 8b 50 08          mov    0x8(%rax),%rdx</span><br><span class="line">  4011d3:48 89 51 08          mov    %rdx,0x8(%rcx)</span><br><span class="line">  4011d7:48 83 c0 08          add    $0x8,%rax</span><br><span class="line">  4011db:48 89 d1             mov    %rdx,%rcx</span><br><span class="line">  4011de:48 39 f0             cmp    %rsi,%rax</span><br><span class="line">  4011e1:75 ec                jne    4011cf &lt;phase_6+0xb1&gt;</span><br><span class="line">  4011e3:48 c7 42 08 00 00 00 movq   $0x0,0x8(%rdx)</span><br><span class="line">  4011ea:00 </span><br><span class="line">  4011eb:bd 05 00 00 00       mov    $0x5,%ebp</span><br><span class="line">  4011f0:48 8b 43 08          mov    0x8(%rbx),%rax</span><br><span class="line">  4011f4:8b 00                mov    (%rax),%eax</span><br><span class="line">  4011f6:39 03                cmp    %eax,(%rbx)</span><br><span class="line">  4011f8:7e 05                jle    4011ff &lt;phase_6+0xe1&gt;</span><br><span class="line">  4011fa:e8 50 02 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  4011ff:48 8b 5b 08          mov    0x8(%rbx),%rbx</span><br><span class="line">  401203:83 ed 01             sub    $0x1,%ebp</span><br><span class="line">  401206:75 e8                jne    4011f0 &lt;phase_6+0xd2&gt;</span><br><span class="line">  401208:48 8b 44 24 58       mov    0x58(%rsp),%rax</span><br><span class="line">  40120d:64 48 33 04 25 28 00 xor    %fs:0x28,%rax</span><br><span class="line">  401214:00 00 </span><br><span class="line">  401216:74 05                je     40121d &lt;phase_6+0xff&gt;</span><br><span class="line">  401218:e8 e3 f8 ff ff       callq  400b00 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">  40121d:48 83 c4 68          add    $0x68,%rsp</span><br><span class="line">  401221:5b                   pop    %rbx</span><br><span class="line">  401222:5d                   pop    %rbp</span><br><span class="line">  401223:41 5c                pop    %r12</span><br><span class="line">  401225:41 5d                pop    %r13</span><br><span class="line">  401227:c3                   retq</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åˆæœ‰ <code>read_six_numbers</code> å‡½æ•°ï¼Œè¾“å…¥ä¹Ÿæ˜¯6ä¸ªæ•´æ•°ã€‚</p><p>æ¥ä¸‹æ¥15-34è¡Œæ˜¯ä¸€ä¸ªå¾ªç¯åˆ¤æ–­è¦æ±‚6ä¸ªæ•°å­—å‡ä¸é‡å¤ä¸”ä¸å¤§äº6ï¼Œé‚£ä¹ˆå°±æ˜¯0-6çš„ä¸€ä¸ªæ’åˆ—ã€‚</p><p>35-50è¡Œåˆæ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œå¯ä»¥çœ‹åˆ°å°†å†…å­˜ <code>0x6032f0</code> å¤„çš„å†…å®¹ç§»åˆ°äº†æ ˆä¸­ï¼Œçœ‹ä¸€ä¸‹è¿™äº›æ˜¯ä»€ä¹ˆå†…å®¹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/binary_bomb/phase_6.png" alt=""></p><p>å‘ç°æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œæ‰€ä»¥è¿™æ®µå°±æ˜¯ä¾æ¬¡å°†é“¾è¡¨ä¸­çš„  <code>Node* next</code> æŒ‰ç…§è¾“å…¥çš„å…­ä¸ªæ•°å­—çš„é¡ºåºå­˜å…¥æ ˆä¸­ã€‚ï¼ˆçŒœæƒ³è¿™ä¸ªç‚¸å¼¹å¯èƒ½æ˜¯è¦å°†é“¾è¡¨çš„ <code>long data</code> æŒ‰é¡ºåºæ’åˆ—ï¼Œç¬¬äºŒä¸ªæ•°æ®åº”è¯¥æ˜¯ <code>int index</code> ï¼Œç¬¬ä¸‰ä¸ªè‡ªç„¶å°±æ˜¯ <code>next</code> æŒ‡é’ˆï¼‰</p><p>51-61è¡Œæ˜¯å°†èŠ‚ç‚¹æŒ‰ç…§åœ¨æ ˆä¸­çš„é¡ºåºé‡æ–°è¿æ¥ã€‚</p><p>ç„¶åå¯ä»¥çœ‹åˆ°ç¬¬66ã€67è¡Œè¦æ±‚æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨çš„æ•°å€¼éƒ½åº”è¯¥æ¯”ä¸Šä¸€ä¸ªèŠ‚ç‚¹å¤§æ‰ä¸ä¼šè§¦å‘ç‚¸å¼¹ï¼Œæ‰€ä»¥æŒ‰ç…§èŠ‚ç‚¹çš„å†…å®¹ï¼Œç­”æ¡ˆåº”è¯¥æ˜¯ï¼š2 4 1 3 6 5ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/binary_bomb/congratulations.png" alt=""></p><h3 id="secret-stage"><a href="#secret-stage" class="headerlink" title="secret_stage"></a>secret_stage</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">0000000000401228 &lt;fun7&gt;:</span><br><span class="line">  401228:48 83 ec 08          sub    $0x8,%rsp</span><br><span class="line">  40122c:48 85 ff             test   %rdi,%rdi</span><br><span class="line">  40122f:74 2b                je     40125c &lt;fun7+0x34&gt;</span><br><span class="line">  401231:8b 17                mov    (%rdi),%edx</span><br><span class="line">  401233:39 f2                cmp    %esi,%edx</span><br><span class="line">  401235:7e 0d                jle    401244 &lt;fun7+0x1c&gt;</span><br><span class="line">  401237:48 8b 7f 08          mov    0x8(%rdi),%rdi</span><br><span class="line">  40123b:e8 e8 ff ff ff       callq  401228 &lt;fun7&gt;</span><br><span class="line">  401240:01 c0                add    %eax,%eax</span><br><span class="line">  401242:eb 1d                jmp    401261 &lt;fun7+0x39&gt;</span><br><span class="line">  401244:b8 00 00 00 00       mov    $0x0,%eax</span><br><span class="line">  401249:39 f2                cmp    %esi,%edx</span><br><span class="line">  40124b:74 14                je     401261 &lt;fun7+0x39&gt;</span><br><span class="line">  40124d:48 8b 7f 10          mov    0x10(%rdi),%rdi</span><br><span class="line">  401251:e8 d2 ff ff ff       callq  401228 &lt;fun7&gt;</span><br><span class="line">  401256:8d 44 00 01          lea    0x1(%rax,%rax,1),%eax</span><br><span class="line">  40125a:eb 05                jmp    401261 &lt;fun7+0x39&gt;</span><br><span class="line">  40125c:b8 ff ff ff ff       mov    $0xffffffff,%eax</span><br><span class="line">  401261:48 83 c4 08          add    $0x8,%rsp</span><br><span class="line">  401265:c3                   retq   </span><br><span class="line"></span><br><span class="line">0000000000401266 &lt;secret_phase&gt;:</span><br><span class="line">  401266:53                   push   %rbx</span><br><span class="line">  401267:e8 44 02 00 00       callq  4014b0 &lt;read_line&gt;</span><br><span class="line">  40126c:ba 0a 00 00 00       mov    $0xa,%edx</span><br><span class="line">  401271:be 00 00 00 00       mov    $0x0,%esi</span><br><span class="line">  401276:48 89 c7             mov    %rax,%rdi</span><br><span class="line">  401279:e8 12 f9 ff ff       callq  400b90 &lt;strtol@plt&gt;</span><br><span class="line">  40127e:48 89 c3             mov    %rax,%rbx</span><br><span class="line">  401281:8d 40 ff             lea    -0x1(%rax),%eax</span><br><span class="line">  401284:3d e8 03 00 00       cmp    $0x3e8,%eax</span><br><span class="line">  401289:76 05                jbe    401290 &lt;secret_phase+0x2a&gt;</span><br><span class="line">  40128b:e8 bf 01 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  401290:89 de                mov    %ebx,%esi</span><br><span class="line">  401292:bf 10 31 60 00       mov    $0x603110,%edi</span><br><span class="line">  401297:e8 8c ff ff ff       callq  401228 &lt;fun7&gt;</span><br><span class="line">  40129c:83 f8 07             cmp    $0x7,%eax</span><br><span class="line">  40129f:74 05                je     4012a6 &lt;secret_phase+0x40&gt;</span><br><span class="line">  4012a1:e8 a9 01 00 00       callq  40144f &lt;explode_bomb&gt;</span><br><span class="line">  4012a6:bf 00 24 40 00       mov    $0x402400,%edi</span><br><span class="line">  4012ab:e8 30 f8 ff ff       callq  400ae0 &lt;puts@plt&gt;</span><br><span class="line">  4012b0:e8 21 03 00 00       callq  4015d6 &lt;phase_defused&gt;</span><br><span class="line">  4012b5:5b                   pop    %rbx</span><br><span class="line">  4012b6:c3                   retq</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±æ˜¯éšè—é˜¶æ®µäº†ï¼Œè¦æƒ³ç ´è§£éšè—é˜¶æ®µï¼Œå°±è¦çŸ¥é“åœ¨å“ªé‡Œè°ƒç”¨äº†å®ƒï¼Œåœ¨ä»£ç ä¸­æŸ¥æ‰¾ <code>secret_phase</code> å¯ä»¥å‘ç°åªåœ¨ <code>phase_defused</code> å‡½æ•°ä¸­è°ƒç”¨å®ƒï¼Œé‚£ä¹ˆæ¯«æ— ç–‘é—®å°±æ˜¯è¿™é‡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">00000000004015d6 &lt;phase_defused&gt;:</span><br><span class="line">  4015d6:48 83 ec 78          sub    $0x78,%rsp</span><br><span class="line">  4015da:64 48 8b 04 25 28 00 mov    %fs:0x28,%rax</span><br><span class="line">  4015e1:00 00 </span><br><span class="line">  4015e3:48 89 44 24 68       mov    %rax,0x68(%rsp)</span><br><span class="line">  4015e8:31 c0                xor    %eax,%eax</span><br><span class="line">  4015ea:83 3d 9b 21 20 00 06 cmpl   $0x6,0x20219b(%rip)        # 60378c &lt;num_input_strings&gt;</span><br><span class="line">  4015f1:75 5e                jne    401651 &lt;phase_defused+0x7b&gt;</span><br><span class="line">  4015f3:4c 8d 44 24 10       lea    0x10(%rsp),%r8</span><br><span class="line">  4015f8:48 8d 4c 24 0c       lea    0xc(%rsp),%rcx</span><br><span class="line">  4015fd:48 8d 54 24 08       lea    0x8(%rsp),%rdx</span><br><span class="line">  401602:be 19 26 40 00       mov    $0x402619,%esi</span><br><span class="line">  401607:bf 90 38 60 00       mov    $0x603890,%edi</span><br><span class="line">  40160c:e8 9f f5 ff ff       callq  400bb0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">  401611:83 f8 03             cmp    $0x3,%eax</span><br><span class="line">  401614:75 31                jne    401647 &lt;phase_defused+0x71&gt;</span><br><span class="line">  401616:be 22 26 40 00       mov    $0x402622,%esi</span><br><span class="line">  40161b:48 8d 7c 24 10       lea    0x10(%rsp),%rdi</span><br><span class="line">  401620:e8 2b fd ff ff       callq  401350 &lt;strings_not_equal&gt;</span><br><span class="line">  401625:85 c0                test   %eax,%eax</span><br><span class="line">  401627:75 1e                jne    401647 &lt;phase_defused+0x71&gt;</span><br><span class="line">  401629:bf f8 24 40 00       mov    $0x4024f8,%edi</span><br><span class="line">  40162e:e8 ad f4 ff ff       callq  400ae0 &lt;puts@plt&gt;</span><br><span class="line">  401633:bf 20 25 40 00       mov    $0x402520,%edi</span><br><span class="line">  401638:e8 a3 f4 ff ff       callq  400ae0 &lt;puts@plt&gt;</span><br><span class="line">  40163d:b8 00 00 00 00       mov    $0x0,%eax</span><br><span class="line">  401642:e8 1f fc ff ff       callq  401266 &lt;secret_phase&gt;</span><br><span class="line">  401647:bf 58 25 40 00       mov    $0x402558,%edi</span><br><span class="line">  40164c:e8 8f f4 ff ff       callq  400ae0 &lt;puts@plt&gt;</span><br><span class="line">  401651:48 8b 44 24 68       mov    0x68(%rsp),%rax</span><br><span class="line">  401656:64 48 33 04 25 28 00 xor    %fs:0x28,%rax</span><br><span class="line">  40165d:00 00 </span><br><span class="line">  40165f:74 05                je     401666 &lt;phase_defused+0x90&gt;</span><br><span class="line">  401661:e8 9a f4 ff ff       callq  400b00 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">  401666:48 83 c4 78          add    $0x78,%rsp</span><br><span class="line">  40166a:c3                   retq</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°åªåœ¨ç¬¬å…­ä¸ªç‚¸å¼¹ç»“æŸåæ‰ä¼šè§¦å‘è°ƒç”¨éšè—é˜¶æ®µçš„å‡½æ•°ã€‚</p><p>å¯ä»¥çœ‹åˆ°ç¬¬12ã€13ã€14è¡Œæ˜¯å°†ç¬¬å››ä¸ªç‚¸å¼¹è¾“å…¥çš„å†…å®¹é‡æ–°ä½œä¸ºæ ‡å‡†è¾“å…¥æ¥ç”¨ï¼Œè€Œç¬¬17-21è¡Œåˆ™æ˜¯å°†è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹åçš„å­—ç¬¦ä¸²å’Œå†…å­˜ä¸­å›ºå®šçš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼ŒæŸ¥çœ‹è¯¥å­—ç¬¦ä¸²ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/binary_bomb/secret_phase.png" alt=""></p><p>é‚£ä¹ˆè§¦å‘éšè—é˜¶æ®µçš„å¯†ç å°±æ˜¯ <code>DrEvil</code>ã€‚</p><p>æ¥ä¸‹æ¥çœ‹ <code>secret_phase</code> ï¼Œçœ‹èµ·æ¥ä¸æ˜¯å¾ˆå¤æ‚ã€‚</p><p>å…ˆè°ƒç”¨ <code>read_line</code> è¯»å…¥å†…å®¹ï¼Œæ¥ä¸‹æ¥æ˜¯è°ƒç”¨ <code>strtol</code> å°† <code>char*</code> è½¬ä¸º <code>long</code> å’Œéæ•°å­—éƒ¨åˆ†ï¼Œ</p><p>æ¥ä¸‹æ¥ç¬¬32è¡Œåˆ™æ˜¯åˆ¤æ–­è¾“å…¥çš„æ•°å­—å‡ 1 åæ˜¯å¦å¤§äº1000ï¼Œå¤§äº1000åˆ™çˆ†ç‚¸ï¼Œå³è¾“å…¥çš„æ•°ä¸å¤§äº1001ã€‚</p><p>ä¹‹åä¾¿æ˜¯è°ƒç”¨ <code>fun7</code> ï¼Œå‚æ•°æ˜¯å­˜åœ¨ <code>0x603110</code> å¤„çš„ <code>n1</code> å’Œè¾“å…¥çš„æ•°ï¼Œç»“æœè¦å¾—åˆ°7ã€‚</p><p>æŸ¥çœ‹n1çš„å†…å®¹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/binary_bomb/tree.png" alt=""></p><p>çŒœæµ‹å…¶ç»“æ„ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">long</span> data;</span><br><span class="line">    Node* left;</span><br><span class="line">    Node* right;</span><br><span class="line">&#125; Node;</span><br></pre></td></tr></table></figure><p>æ•´ç†å¾—åˆ°å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼ˆåæ¥å‘ç°è¿™ä¸€æ­¥å…¶å®æ²¡å¿…è¦ï¼‰</p><div class="mermaid">          graph TDn1[n1,data=36] --> n21[n21,data=8]n1 --> n22[n22,data=50]n21 --> n31[n31,data=6]n21 --> n32[n32,data=22]n22 --> n33[n33,data=45]n22 --> n34[n34,data=107]n31 --> n41,data=1n31 --> n42,data=7n32 --> n43,data=20n32 --> n44,data=35n33 --> n45,data=40n33 --> n46,data=47n34 --> n47,data=99n34 --> n48,data=1001          </div><p>å†çœ‹ <code>fun7</code> ï¼Œæ ¹æ®åæ±‡ç¼–ä»£ç å†™å‡ºä¼ªä»£ç ï¼Œçœ‹èµ·æ¥æ˜¯ phase_4 çš„ä¸€ä¸ªæ‹“å±•ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">fun7</span><span class="params">(Node* n, <span class="keyword">long</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; n-&gt;data) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * fun7(n-&gt;left, x);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x == n-&gt;data) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * fun7(n-&gt;right, x) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¦å¾—åˆ°7ï¼Œå°±è¦$x&gt;36$ , <code>fun7(n22, x) == 3</code> ï¼›</p><p>ä¾æ­¤ç±»æ¨ï¼Œ$x&gt;50$ , <code>fun7(n34, x) == 1</code> ;</p><p>è¿™é‡Œè¦å¾—åˆ°1æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§å°±æ˜¯ <code>n34 == NULL</code> ï¼Œæ˜¾ç„¶ä¸æˆç«‹ï¼Œå¦ä¸€ç§å°±æ˜¯ï¼š</p><p>$x &gt; 107$ , <code>fun7(n48) == 0</code> ;</p><p>æ‰€ä»¥ <code>x = n48-&gt;data</code> ï¼Œå³1001ã€‚</p><h3 id="æ‹†å¼¹æˆåŠŸ"><a href="#æ‹†å¼¹æˆåŠŸ" class="headerlink" title="æ‹†å¼¹æˆåŠŸ:"></a>æ‹†å¼¹æˆåŠŸ:</h3><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/binary_bomb/final.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> ä½œä¸š </category>
          
          <category> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </tag>
            
            <tag> äºŒè¿›åˆ¶ç‚¸å¼¹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlå¦‚ä½•æŸ¥çœ‹ç”¨æˆ·åŠå…¶æƒé™</title>
      <link href="/posts/sql-users-grants/"/>
      <url>/posts/sql-users-grants/</url>
      
        <content type="html"><![CDATA[<h3 id="ã€1ã€‘æŸ¥çœ‹mysqlæ•°æ®åº“ä¸­çš„æ‰€æœ‰ç”¨æˆ·"><a href="#ã€1ã€‘æŸ¥çœ‹mysqlæ•°æ®åº“ä¸­çš„æ‰€æœ‰ç”¨æˆ·" class="headerlink" title="ã€1ã€‘æŸ¥çœ‹mysqlæ•°æ®åº“ä¸­çš„æ‰€æœ‰ç”¨æˆ·"></a>ã€1ã€‘æŸ¥çœ‹mysqlæ•°æ®åº“ä¸­çš„æ‰€æœ‰ç”¨æˆ·</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="keyword">CONCAT</span>(<span class="string">'User: '''</span>,<span class="keyword">user</span>,<span class="string">'''@'''</span>,host,<span class="string">''';'</span>) <span class="keyword">AS</span> <span class="keyword">query</span> <span class="keyword">FROM</span> mysql.user;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/sql-users-grants/20190708122447933.png" alt=""></p><h3 id="ã€2ã€‘æŸ¥çœ‹æŸä¸ªç”¨æˆ·çš„æƒé™"><a href="#ã€2ã€‘æŸ¥çœ‹æŸä¸ªç”¨æˆ·çš„æƒé™" class="headerlink" title="ã€2ã€‘æŸ¥çœ‹æŸä¸ªç”¨æˆ·çš„æƒé™"></a>ã€2ã€‘æŸ¥çœ‹æŸä¸ªç”¨æˆ·çš„æƒé™</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">grants</span> <span class="keyword">for</span> <span class="string">'nextcloud'</span>@<span class="string">'%'</span>; </span><br><span class="line"><span class="comment">-- or</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.user <span class="keyword">where</span> <span class="keyword">user</span>=<span class="string">'root'</span> \G;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/sql-users-grants/20190708122715379.png" alt=""></p><h3 id="ã€3ã€‘æŸ¥çœ‹å½“å‰ç”¨æˆ·"><a href="#ã€3ã€‘æŸ¥çœ‹å½“å‰ç”¨æˆ·" class="headerlink" title="ã€3ã€‘æŸ¥çœ‹å½“å‰ç”¨æˆ·"></a>ã€3ã€‘æŸ¥çœ‹å½“å‰ç”¨æˆ·</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select user();</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/sql-users-grants/20190708122842656.png" alt=""></p><h3 id="ã€4ã€‘ä¿®æ”¹ç”¨æˆ·å¯†ç "><a href="#ã€4ã€‘ä¿®æ”¹ç”¨æˆ·å¯†ç " class="headerlink" title="ã€4ã€‘ä¿®æ”¹ç”¨æˆ·å¯†ç "></a>ã€4ã€‘ä¿®æ”¹ç”¨æˆ·å¯†ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line">UPDATE user SET password&#x3D;PASSWORD(&#39;æ–°å¯†ç &#39;) WHERE user&#x3D;&#39;ç”¨æˆ·&#39;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><h3 id="ã€5ã€‘ä¿®æ”¹ç”¨æˆ·æƒé™åŠå¯†ç "><a href="#ã€5ã€‘ä¿®æ”¹ç”¨æˆ·æƒé™åŠå¯†ç " class="headerlink" title="ã€5ã€‘ä¿®æ”¹ç”¨æˆ·æƒé™åŠå¯†ç "></a>ã€5ã€‘ä¿®æ”¹ç”¨æˆ·æƒé™åŠå¯†ç </h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- grant æƒé™ on åº“å.è¡¨å to 'ç”¨æˆ·å'@â€™ç½‘æ®µâ€˜  identified by  "è¯¥ç”¨æˆ·çš„å¯†ç "ï¼›</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> nextcloud.* <span class="keyword">to</span> <span class="string">'nextcloud'</span>@<span class="string">'%'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'du..olctx..entest.1'</span>;</span><br></pre></td></tr></table></figure><h3 id="ã€6ã€‘åˆ é™¤ç”¨æˆ·"><a href="#ã€6ã€‘åˆ é™¤ç”¨æˆ·" class="headerlink" title="ã€6ã€‘åˆ é™¤ç”¨æˆ·"></a>ã€6ã€‘åˆ é™¤ç”¨æˆ·</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">'nextcloud'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure><p>è½¬è½½è‡ªï¼š</p><p><a href="https://blog.csdn.net/GX_1_11_real/article/details/95052475" target="_blank" rel="noopener">https://blog.csdn.net/GX_1_11_real/article/details/95052475</a></p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> ç”¨æˆ· </tag>
            
            <tag> æƒé™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éœ‡æ’¼å¿ƒçµï¼Œå‚¬äººæ³ªä¸‹-ã€Šå‘å—2ï¼šä¼šé£çš„æ¢¦ã€‹å—äº¬å¤§å­¦2020å¹´æ‹›ç”Ÿå¾®ç”µå½±</title>
      <link href="/posts/xiangnan2/"/>
      <url>/posts/xiangnan2/</url>
      
        <content type="html"><![CDATA[<style type="text/css">.main-inner {opacity: 1;}</style><div class="bilibili">    <iframe src="//player.bilibili.com/player.html?aid=796612681&bvid=BV1MC4y187fF&cid=217732226&page=1&high_quality=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" class="bilibili-video"> </iframe></div>]]></content>
      
      
      <categories>
          
          <category> NJU </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NJU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿä½œä¸šäº”</title>
      <link href="/posts/csapp/homework5/"/>
      <url>/posts/csapp/homework5/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½œä¸š5"><a href="#ä½œä¸š5" class="headerlink" title="ä½œä¸š5"></a>ä½œä¸š5</h1><h3 id="3-32"><a href="#3-32" class="headerlink" title="3.32"></a>3.32</h3><table border="1">   <tr><td colspan="3" align="center">æŒ‡ä»¤</td><td colspan="6" align="center">çŠ¶æ€å€¼ï¼ˆæŒ‡ä»¤æ‰§è¡Œå‰ï¼‰</td></tr>   <tr><td align="center">æ ‡å·</td><td align="center">PC</td><td align="center">æŒ‡ä»¤</td><td align="center">%rdi</td><td align="center">%rsi</td><td align="center">%rax</td><td align="center">%rsp</td><td align="center">*%rsp</td><td align="center">æè¿°</td></tr>   <tr><td align="center">M1</td><td align="center">0x400560</td><td align="center">callq</td><td align="center">10</td><td align="center">â€”</td><td align="center">â€”</td><td align="center">0x7fffffffe820</td><td align="center">â€”</td><td align="center">è°ƒç”¨first (10)</td></tr>   <tr><td align="center">F1</td><td align="center">0x400548</td><td align="center">lea</td><td align="center">10</td><td align="center">â€”</td><td align="center">â€”</td><td align="center">0x7fffffffe818</td><td align="center">0x400565</td><td align="center">firstå‡½æ•°å…¥å£</td></tr>   <tr><td align="center">F2</td><td align="center">0x40054c</td><td align="center">sub</td><td align="center">10</td><td align="center">11</td><td align="center">â€”</td><td align="center">0x7fffffffe818</td><td align="center">0x400565</td><td align="center"></td></tr>   <tr><td align="center">F3</td><td align="center">0x400550</td><td align="center">callq</td><td align="center">9</td><td align="center">11</td><td align="center">â€”</td><td align="center">0x7fffffffe818</td><td align="center">0x400565</td><td align="center">è°ƒç”¨last (9, 11)</td></tr>   <tr><td align="center">L1</td><td align="center">0x400540</td><td align="center">mov</td><td align="center">9</td><td align="center">11</td><td align="center">â€”</td><td align="center">0x7fffffffe810</td><td align="center">0x400555</td><td align="center">lastå‡½æ•°å…¥å£</td></tr>   <tr><td align="center">L2</td><td align="center">0x400543</td><td align="center">imul</td><td align="center">9</td><td align="center">11</td><td align="center">9</td><td align="center">0x7fffffffe810</td><td align="center">0x400555</td><td align="center"></td></tr>   <tr><td align="center">L3</td><td align="center">0x400547</td><td align="center">retq</td><td align="center">9</td><td align="center">11</td><td align="center">99</td><td align="center">0x7fffffffe810</td><td align="center">0x400555</td><td align="center">lastè¿”å›å€¼ 99</td></tr>   <tr><td align="center">F4</td><td align="center">0x400555</td><td align="center">repz</td><td align="center">9</td><td align="center">11</td><td align="center">99</td><td align="center">0x7fffffffe818</td><td align="center">0x400565</td><td align="center">firstè¿”å›å€¼99</td></tr>   <tr><td align="center">M2</td><td align="center">0x400565</td><td align="center">mov</td><td align="center">9</td><td align="center">11</td><td align="center">99</td><td align="center">0x7fffffffe820</td><td align="center">â€”</td><td align="center">mainå‡½æ•°åç»­</td></tr></table><h3 id="3-33"><a href="#3-33" class="headerlink" title="3.33"></a>3.33</h3><p>æƒ…å†µ1ï¼šå‡è®¾ <code>3    addq    %rdi, (%rdx)</code> æ˜¯å®ç° <code>*u += a</code> ï¼Œ</p><p>åˆ™æ˜“çŸ¥ <code>a in %edi</code> , <code>u in %rdx</code></p><p>ä»è€Œ <code>4    addb    %silm, (%rcx)</code> æ˜¯å®ç° <code>*v += b</code> </p><p>ä»è€Œ <code>b in %si</code> , <code>v in %rcx</code> ï¼Œ</p><p>å³å››ä¸ªå‚æ•°çš„é¡ºåºä¸º <code>int procprobl(int a, short b, long *u, char *v)</code>ï¼›</p><br/><p>æƒ…å†µ2ï¼šåä¹‹ï¼Œå‡è®¾ <code>3    addq    %rdi, (%rdx)</code> å®ç° <code>*v += b</code>ï¼Œ</p><p>åˆ™æœ‰ <code>b in %edi</code> , <code>*v in %rdx</code></p><p>ä»è€Œ <code>4    addb    %silm, (%rcx)</code> æ˜¯å®ç° <code>*u += a</code></p><p>ä»è€Œ <code>a in %si</code> , <code>u in rcx</code></p><p>å³ <code>int procprobl(int b, short a, long *v, char *u)</code></p><h3 id="3-35"><a href="#3-35" class="headerlink" title="3.35"></a>3.35</h3><p>A. ä¿å­˜å‚æ•°xçš„å€¼ï¼Œç”¨æ¥è®¡ç®—è¡¨è¾¾å¼ç»“æœï¼Œä¿å­˜å½“å‰çŠ¶æ€</p><p>B. </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">rfun</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> nx = x &gt;&gt; <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">long</span> rv = rfun(nx);</span><br><span class="line">    <span class="keyword">return</span> x + rv;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-38"><a href="#3-38" class="headerlink" title="3.38"></a>3.38</h3><p>ç”±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">leaq0(,%rdi,8), %rdx#8i</span><br><span class="line">subq%rdi, %rdx#7i</span><br><span class="line">addq%rsi, %rdx#7i+j</span><br></pre></td></tr></table></figure><p>å¯çŸ¥Pä¸º7åˆ—ï¼Œå³N=7</p><p>ç”±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">leaq(%rsi,%rsi,4), %rax#5j</span><br><span class="line">addq%rax, %rdi#5j+i</span><br></pre></td></tr></table></figure><p>å¯çŸ¥ï¼ŒQä¸º5åˆ—ï¼Œå³M=5</p><p>ç»¼ä¸Šï¼ŒM=5ï¼ŒN=7</p><h3 id="3-41"><a href="#3-41" class="headerlink" title="3.41"></a>3.41</h3><p>A.</p><p>p: 0</p><p>s.x: 8</p><p>s.y: 12</p><p>next: 16</p><p>B. 24</p><p>C.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sp_init</span><span class="params">(struct prob *sp)</span> </span>&#123;</span><br><span class="line">    sp-&gt;s.x = sp-&gt;s.y;</span><br><span class="line">    sp-&gt;p = &amp;(sp-&gt;s.x);</span><br><span class="line">    sp-&gt;next = sp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-45"><a href="#3-45" class="headerlink" title="3.45"></a>3.45</h3><p>A.</p><table><thead><tr><th align="center">a</th><th align="center">b</th><th align="center">c</th><th align="center">d</th><th align="center">e</th><th align="center">f</th><th align="center">g</th><th align="center">h</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">8</td><td align="center">16</td><td align="center">24</td><td align="center">28</td><td align="center">32</td><td align="center">40</td><td align="center">48</td></tr></tbody></table><p>B. 56</p><p>C. </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line"><span class="keyword">char</span> d;</span><br><span class="line"><span class="keyword">char</span> f;</span><br><span class="line">short b;</span><br><span class="line"><span class="keyword">float</span> e;</span><br><span class="line"><span class="keyword">int</span> h;</span><br><span class="line"><span class="keyword">char</span> *a;</span><br><span class="line"><span class="keyword">double</span> c;</span><br><span class="line"><span class="keyword">long</span> g;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡æ’çš„åç§»é‡</p><table><thead><tr><th align="center">d</th><th align="center">f</th><th align="center">b</th><th align="center">e</th><th align="center">h</th><th align="center">a</th><th align="center">c</th><th align="center">g</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">1</td><td align="center">2</td><td align="center">4</td><td align="center">8</td><td align="center">16</td><td align="center">24</td><td align="center">32</td></tr></tbody></table><p>å¤§å°ï¼š40</p><h3 id="3-48"><a href="#3-48" class="headerlink" title="3.48"></a>3.48</h3><p>A.ä¸å¸¦ä¿æŠ¤è€…ï¼šbuf: 0, v: 24ï¼›å¸¦ä¿æŠ¤è€…ï¼šbuf: 16, v: 8, é‡‘ä¸é›€: 40ï¼›</p><p>B. å¸¦ä¿æŠ¤è€…çš„æ¨¡å¼ç”±äºvæ¯”bufæ›´æ¥è¿‘æ ˆé¡¶ï¼Œå³ä½¿ç¼“å­˜åŒºæº¢å‡ºä¹Ÿä¸ä¼šç ´åvçš„å€¼ã€‚</p><h3 id="3-69"><a href="#3-69" class="headerlink" title="3.69"></a>3.69</h3><p>A.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mov0x120(%rsi),%ecx# bp-&gt;last</span><br><span class="line">add(%rsi),%ecx# bp-&gt;firsst + bp-&gt;last</span><br><span class="line">lea(%rdi,%rdi,4),%rax# 5i</span><br><span class="line">lea(%rsi,%rax,8),%rax# bp+8*5i # a_structçš„å¤§å°ä¸º40</span><br><span class="line">mov0x8(%rax),%rdx# bp+8*5i+8 # apç›¸å¯¹bpçš„åç§»é‡ä¸º8 # %rdxå³ap-&gt;idx</span><br><span class="line">movslq%ecx,%rcx# (int)n &#x3D;&gt; (long)</span><br><span class="line">mov%rcx,0x10(%rax,%rdx,8)</span><br><span class="line">        # 8(ap-&gt;idx) + bp + 40*i + 0x10 &#x3D; ap + 8(ap-&gt;idx) + 0x8 # ap-&gt;x[ap-&gt;idx]</span><br><span class="line">        # idxæ˜¯longå‹ï¼Œxæ˜¯longæ•°ç»„</span><br><span class="line">        # 40 &#x3D; 8 + 4 * 8ï¼Œxæ•°ç»„çš„é•¿åº¦ä¸º4 </span><br><span class="line">        # 0x120&#x3D;288&#x3D;8+40*7ï¼ŒCNT&#x3D;7</span><br><span class="line">retq</span><br></pre></td></tr></table></figure><p>CNT=7</p><p>B.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">long</span> idx;</span><br><span class="line">    <span class="keyword">long</span> x[<span class="number">4</span>];</span><br><span class="line">&#125; a_struct;</span><br></pre></td></tr></table></figure><h3 id="3-70"><a href="#3-70" class="headerlink" title="3.70"></a>3.70</h3><p>A. </p><table><thead><tr><th align="center">e1.p</th><th align="center">e1.y</th><th align="center">e2.x</th><th align="center">e2.next</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">8</td><td align="center">0</td><td align="center">8</td></tr></tbody></table><p>B. 16</p><p>C. </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">proc</span><span class="params">(<span class="keyword">union</span> ele *up)</span> </span>&#123;</span><br><span class="line">    up-&gt;e2.x = *(*(up-&gt;e2.next).e1.p) - *(up-&gt;e2.next).e1.y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ä½œä¸š </category>
          
          <category> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³codingåˆ©ç”¨pagesæ­å»ºåšå®¢æ²¡æœ‰â€œæŒç»­éƒ¨ç½²-é™æ€ç½‘ç«™â€é¡µçš„é—®é¢˜</title>
      <link href="/posts/coding-pages/"/>
      <url>/posts/coding-pages/</url>
      
        <content type="html"><![CDATA[<p>codingæ€»æ˜¯æ”¹æ¥æ”¹å»ï¼Œå¾ˆå¤šæ•™ç¨‹å‡ ä¹éƒ½æ˜¯åšä¸»å‘äº†ä»¥åå°±ä¸å†æ›´æ–°ï¼Œè€Œæ–°æ‰‹ä»¬çœ‹ç€åˆ«äººçš„æ•™ç¨‹æ€»æ˜¯æ‘¸ä¸ç€å¤´è„‘ã€‚æœ€è¿‘æœ‰äººè¯´codingæ‰¾ä¸åˆ°é™æ€ç½‘é¡µçš„éƒ¨ç½²ï¼Œæœ¬ç¯‡å°±æ¥ä»‹ç»å¦‚ä½•æ‰¾åˆ°â€œé™æ€ç½‘ç«™â€é¡µé¢ã€‚</p><a id="more"></a><p>é¦–å…ˆæ‰“å¼€codingä¸»é¡µï¼Œé€‰æ‹©åšå®¢é¡¹ç›®æ‰“å¼€ï¼Œå¤§æ¦‚é•¿è¿™æ ·</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/coding-pages/front.png" alt=""></p><p>ç‚¹å‡»å·¦ä¸‹è§’â€œé¡¹ç›®è®¾ç½®â€ï¼Œæ‰¾åˆ°â€œåŠŸèƒ½å¼€å…³â€</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/coding-pages/Functions.png" alt=""></p><p>æ‰“å¼€æŒç»­éƒ¨ç½²ï¼Œå†æ¬¡è¿”å›é¡¹ç›®ä¸»é¡µï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æœ‰äº†â€œæŒç»­éƒ¨ç½²â€ä¸€é¡¹ï¼Œå±•å¼€â€œæŒç»­éƒ¨ç½²â€ï¼Œ</p><p>å°±å¯ä»¥æ‰¾åˆ°â€œé™æ€ç½‘é¡µâ€å•¦~</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/coding-pages/success.png" alt=""></p><p>ï¼ˆåˆæ°´å®Œä¸€ç¯‡æ–‡ç« ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> coding </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³gdbè°ƒè¯•runæ—¶çš„warningé—®é¢˜</title>
      <link href="/posts/gdbwarning/"/>
      <url>/posts/gdbwarning/</url>
      
        <content type="html"><![CDATA[<p>è¿™å‡ å¤©åšæ±‡ç¼–å®éªŒï¼Œæ€»æ˜¯è·³å‡ºè¿™ä¸ªwarningï¼Œå°±æƒ³ç€æ‰¾æ—¶é—´è§£å†³æ‰å®ƒã€‚ä»Šå¤©å°±æ¥çœ‹çœ‹è¿™ä¸ªé—®é¢˜åˆ°åº•æ€ä¹ˆè§£å†³ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">(gdb) r</span><br><span class="line">Starting program: xxxxxxxxx </span><br><span class="line">warning: the debug information found <span class="keyword">in</span> <span class="string">"/usr/lib/debug//lib64/ld-2.17.so.debug"</span> does not match <span class="string">"/lib64/ld-linux-x86-64.so.2"</span> (CRC mismatch).</span><br><span class="line"></span><br><span class="line">warning: the debug information found <span class="keyword">in</span> <span class="string">"/usr/lib/debug/usr/lib64/ld-2.17.so.debug"</span> does not match <span class="string">"/lib64/ld-linux-x86-64.so.2"</span> (CRC mismatch).</span><br><span class="line"></span><br><span class="line">warning: the debug information found <span class="keyword">in</span> <span class="string">"/usr/lib/debug//usr/lib64/ld-2.17.so.debug"</span> does not match <span class="string">"/lib64/ld-linux-x86-64.so.2"</span> (CRC mismatch).</span><br><span class="line"></span><br><span class="line">warning: the debug information found <span class="keyword">in</span> <span class="string">"/usr/lib/debug/usr/lib64//ld-2.17.so.debug"</span> does not match <span class="string">"/lib64/ld-linux-x86-64.so.2"</span> (CRC mismatch).</span><br><span class="line"></span><br><span class="line">warning: the debug information found <span class="keyword">in</span> <span class="string">"/usr/lib/debug//lib64/libc-2.17.so.debug"</span> does not match <span class="string">"/lib64/libc.so.6"</span> (CRC mismatch).</span><br><span class="line"></span><br><span class="line">warning: the debug information found <span class="keyword">in</span> <span class="string">"/usr/lib/debug/usr/lib64/libc-2.17.so.debug"</span> does not match <span class="string">"/lib64/libc.so.6"</span> (CRC mismatch).</span><br><span class="line"></span><br><span class="line">warning: the debug information found <span class="keyword">in</span> <span class="string">"/usr/lib/debug//usr/lib64/libc-2.17.so.debug"</span> does not match <span class="string">"/lib64/libc.so.6"</span> (CRC mismatch).</span><br><span class="line"></span><br><span class="line">warning: the debug information found <span class="keyword">in</span> <span class="string">"/usr/lib/debug/usr/lib64//libc-2.17.so.debug"</span> does not match <span class="string">"/lib64/libc.so.6"</span> (CRC mismatch).</span><br></pre></td></tr></table></figure><p>åŒæ—¶è¿è¡Œç»“æŸè¿˜æœ‰è¿™æ ·åº”è¯¥æŠ¥é”™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Missing separate debuginfos, use: debuginfo-install glibc-2.17-307.el7.1.x86_64</span><br></pre></td></tr></table></figure><a id="more"></a><br/><p>å…ˆç™¾åº¦ä¸€æ³¢ <code>CRC mismatch</code> </p><p>åŠå°æ—¶è¿‡å»ï¼Œæ— æœã€‚</p><p>ç®—äº†è¿˜æ˜¯å…ˆçœ‹åé¢ä¸€å¥ <code>Missing separate debuginfos</code></p><p>æŒ‰ç…§ä»–çš„è¯´æ³•æ‰§è¡Œ <code>sudo debuginfo-install glibc-2.17-307.el7.1.x86_64</code></p><p>æ¼«é•¿çš„ç­‰å¾…â€¦</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/gdbwarning/download.png" alt=""></p><p>å¤§æ¦‚äºŒåå‡ åˆ†é’Ÿè¿‡å»äº†ï¼Œå®‰è£…ç»“æŸï¼Œå†æ¬¡è¿è¡Œgdbå‘ç°å‰é¢çš„warningä¹Ÿæ²¡æœ‰äº†ï¼</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/gdbwarning/ttuccqhrhx.jpeg" alt=""></p><p>åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æœ‰æ—¶é—´å†æ›´å§ï¼Œå…ˆæŠ“ç´§æ—¶é—´åšå®éªŒäº†~</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> CentOS 7 </tag>
            
            <tag> gdb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¥–å®‰ç¥å™¨ï¼ˆä»…ä¾›å¨±ä¹ï¼‰</title>
      <link href="/posts/zuan/"/>
      <url>/posts/zuan/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ä»Šå¤©æ—©ä¸Šèµ·æ¥å‡ºå»é”»ç‚¼ï¼Œå…¬äº¤è½¦ä¸Šé—²æ¥æ— äº‹ï¼Œåˆ·ç©ºé—´ï¼Œçœ‹åˆ°æœ‹å‹æ‰“ç‹è€…è¢«éª‚ï¼Œå¯¹é¢å«åš£åŠ QQè¦å–·çˆ†ä»–ï¼Œä¸èƒ½å¿ï¼å›å®¶åæ‹¿èµ·ç”µè„‘å°±å¼€å§‹æ•²ï¼Œå†™äº†è¿™ä¸ªç¥–å®‰ç¥å™¨å‡†å¤‡å¸®æœ‹å‹ä¸€æŠŠã€‚</p><a id="more"></a><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/01.jpg" style="zoom:40%;" /><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/02.jpg" style="zoom:40%;" /><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/03.jpg" style="zoom:40%;" /><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/04.jpg" style="zoom:40%;" /><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/05.jpg" style="zoom:40%;" /><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/06.jpg" style="zoom:40%;" /><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/07.jpg" style="zoom:40%;" /><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/08.jpg" style="zoom:40%;" /><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/09.jpg" style="zoom:40%;" /></p><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>å…ˆå¾—å‡†å¤‡è¯­æ–™ï¼Œå’±è¿™ä¸ä¼šéª‚äººï¼Œä¹Ÿæ²¡ç§¯ç´¯å•¥è¯­æ–™ï¼Œç½‘ä¸Šæ‰¾æ‰¾å§ã€‚å…ˆç™¾åº¦ä¸€ä¸‹ç¥–å®‰ï¼Œæ‰¾åˆ°è¿™ä¸ª<a href="https://nmsl.shadiao.app/" target="_blank" rel="noopener">â€œéª‚äººå®å…¸â€</a>ï¼Œé¡ºæ‰‹å«–äº†ä¸€ä¸ªapiï¼Œæ­£å†™ç€ï¼Œå‘ç°apiæœ‰è®¿é—®é¢‘ç‡çš„é™åˆ¶ï¼Œå’±æ˜¯å»å¯¹çº¿ï¼Œé€Ÿåº¦æ…¢å¯ä¸è¡Œå‘€ï¼ˆæ»‘ç¨½ï¼‰ã€‚æœæ–­æ”¹å˜æ–¹æ³•ï¼Œgithubä¸Šæœç¥–å®‰çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°åˆ«äººçš„åº“</p><p>æœç„¶ä¸å‡ºæ‰€æ–™ï¼Œæ‰¾åˆ°äº†è¿™ä¸ª</p><p><a href="https://github.com/Oohuo/rubbish" target="_blank" rel="noopener">è„è¯çˆ¬å–\åƒåœ¾è¯\ç¥–å®‰å¯¹çº¿\quickeråŠ¨ä½œ</a></p><p>ä¸‹è½½å…¶ä¸­çš„ sql.sql æ–‡ä»¶ï¼Œå¯¼å…¥è‡ªå·±çš„mysqlä¸­ï¼Œè¯­æ–™å‡†å¤‡å®Œæˆã€‚</p><h3 id="ç”¨åˆ°çš„åŠŸèƒ½"><a href="#ç”¨åˆ°çš„åŠŸèƒ½" class="headerlink" title="ç”¨åˆ°çš„åŠŸèƒ½"></a>ç”¨åˆ°çš„åŠŸèƒ½</h3><ol><li>ç›‘å¬é”®ç›˜å¿«æ·é”®<code>pynput</code></li><li>æ¨¡æ‹Ÿé”®ç›˜æŒ‰é”® <code>pykeyboard</code></li><li>å¤šçº¿ç¨‹ <code>threading</code></li><li>æ“ä½œå‰ªè´´æ¿ <code>pyperclip</code></li></ol><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><h4 id="ä»æ•°æ®åº“è¯»æ•°æ®"><a href="#ä»æ•°æ®åº“è¯»æ•°æ®" class="headerlink" title="ä»æ•°æ®åº“è¯»æ•°æ®"></a>ä»æ•°æ®åº“è¯»æ•°æ®</h4><p>ä¸ºäº†å‡å°‘è¿æ¥æ•°æ®åº“çš„æ—¶é—´æ¶ˆè€—ï¼Œé‡‡ç”¨å°è£…çš„æ–¹æ³•ä¸€æ¬¡æ€§è¿æ¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SQL</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        user = <span class="string">''</span>  <span class="comment"># mysqlç”¨æˆ·å</span></span><br><span class="line">        password = <span class="string">''</span>  <span class="comment"># mysqlå¯†ç </span></span><br><span class="line">        <span class="comment"># æ•°æ®åº“æ¥æºï¼šhttps://github.com/Oohuo/rubbish/blob/master/sql/sql.sql</span></span><br><span class="line">        self.db = pymysql.connect(<span class="string">'localhost'</span>, user, password, <span class="string">'zanghua'</span>, charset=<span class="string">'utf8'</span>)</span><br><span class="line">        self.cursor = self.db.cursor()</span><br><span class="line">        random.seed(a=<span class="literal">None</span>, version=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># name: è¢«éª‚äººçš„åå­—ï¼Œé»˜è®¤ä¸ºç©º</span></span><br><span class="line">    <span class="comment"># id: æŒ‡å®šå“ªä¸€æ¡ï¼Œé»˜è®¤ä¸º0ä¸æŒ‡å®šç”¨éšæœºid</span></span><br><span class="line">    <span class="comment"># level: 1è¡¨ç¤ºå£åè²èŠ±ï¼Œ2è¡¨ç¤ºç«åŠ›å…¨å¼€</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_zuan</span><span class="params">(self, name=<span class="string">''</span>, id=<span class="number">0</span>, level=<span class="number">1</span>)</span>:</span></span><br><span class="line">        table = <span class="string">'lajihuamin'</span></span><br><span class="line">        max_id = <span class="number">416</span>  <span class="comment"># å£åè²èŠ±416æ¡</span></span><br><span class="line">        <span class="keyword">if</span> level == <span class="number">2</span>:</span><br><span class="line">            table = <span class="string">'lajihuamax'</span></span><br><span class="line">            max_id = <span class="number">690</span>  <span class="comment"># ç«åŠ›å…¨å¼€690æ¡</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> id:</span><br><span class="line">            id = random.randint(<span class="number">1</span>, max_id)  <span class="comment"># ä¸æŒ‡å®šï¼Œéšæœºid</span></span><br><span class="line">        sql = <span class="string">'select msg from %s where id=%d'</span> % (table, id)</span><br><span class="line">        self.cursor.execute(sql)</span><br><span class="line">        res = self.cursor.fetchall()[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> name <span class="keyword">is</span> <span class="keyword">not</span> <span class="string">''</span>:</span><br><span class="line">            res = res.replace(<span class="string">'xx'</span>, name)  <span class="comment"># æŠŠxxæ¢æˆåå­—</span></span><br><span class="line">        res = re.sub(<span class="string">r'^\n'</span>, <span class="string">''</span>, res)  <span class="comment"># å»é¦–å­—ç¬¦æ¢è¡Œ</span></span><br><span class="line">        res = re.sub(<span class="string">r'ï¼ˆ.*ï¼‰'</span>, <span class="string">''</span>, res)  <span class="comment"># å»é™¤æ‹¬å·</span></span><br><span class="line">        res = re.sub(<span class="string">r'\n$'</span>, <span class="string">''</span>, res)  <span class="comment"># å»æœ«å°¾æ¢è¡Œ</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºçº¿ç¨‹"><a href="#åˆ›å»ºçº¿ç¨‹" class="headerlink" title="åˆ›å»ºçº¿ç¨‹"></a>åˆ›å»ºçº¿ç¨‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_thread</span><span class="params">(target, args=<span class="params">()</span>, thread_num=<span class="number">5</span>)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(thread_num):</span><br><span class="line">        t = threading.Thread(target=target, args=args)</span><br><span class="line">        t.start()</span><br></pre></td></tr></table></figure><h4 id="å‘é€æ¶ˆæ¯"><a href="#å‘é€æ¶ˆæ¯" class="headerlink" title="å‘é€æ¶ˆæ¯"></a>å‘é€æ¶ˆæ¯</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_zuan</span><span class="params">(sleep_time, name=<span class="string">''</span>, id=<span class="number">0</span>, level=<span class="number">1</span>)</span>:</span></span><br><span class="line">    sql = SQL()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">send</span><span class="params">()</span>:</span></span><br><span class="line">        res = sql.get_zuan(name=name, id=id, level=level)</span><br><span class="line">        lock.acquire()  <span class="comment"># çº¿ç¨‹é”ï¼Œé˜²æ­¢å‰ªè´´æ¿æ··ä¹±</span></span><br><span class="line">        pyperclip.copy(res)</span><br><span class="line">        print(res)</span><br><span class="line">        k = PyKeyboard()</span><br><span class="line">        k.press_keys([k.control_r_key, <span class="string">'v'</span>])</span><br><span class="line">        k.press_keys([k.control_r_key, k.enter_key])</span><br><span class="line">        lock.release()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> flag:</span><br><span class="line">            send()</span><br><span class="line">            <span class="keyword">if</span> sleep_time:</span><br><span class="line">                time.sleep(sleep_time)</span><br></pre></td></tr></table></figure><h4 id="ç›‘å¬å¿«æ·é”®ï¼ˆæˆ‘è¿™é‡Œè®¾ç½®çš„æ˜¯-å·¦Ctrl-Bï¼‰"><a href="#ç›‘å¬å¿«æ·é”®ï¼ˆæˆ‘è¿™é‡Œè®¾ç½®çš„æ˜¯-å·¦Ctrl-Bï¼‰" class="headerlink" title="ç›‘å¬å¿«æ·é”®ï¼ˆæˆ‘è¿™é‡Œè®¾ç½®çš„æ˜¯ å·¦Ctrl + Bï¼‰"></a>ç›‘å¬å¿«æ·é”®ï¼ˆæˆ‘è¿™é‡Œè®¾ç½®çš„æ˜¯ å·¦<code>Ctrl</code> + <code>B</code>ï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">listening_keykoard</span><span class="params">()</span>:</span></span><br><span class="line">    pressed = set()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_press</span><span class="params">(key)</span>:</span></span><br><span class="line">        pressed.add(key)</span><br><span class="line">        <span class="comment"># print('pressed:', pressed)</span></span><br><span class="line">        <span class="keyword">global</span> flag</span><br><span class="line">        <span class="keyword">if</span> pressed == &#123;keyboard.Key.ctrl_l, keyboard.KeyCode(char=<span class="string">"\x02"</span>)&#125;:</span><br><span class="line">            <span class="keyword">if</span> flag:  <span class="comment"># å¼€å¯çŠ¶æ€æŒ‰å¿«æ·é”®åœæ­¢</span></span><br><span class="line">                print(<span class="string">'stop'</span>)</span><br><span class="line">                flag = <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>:  <span class="comment"># åœæ­¢çŠ¶æ€æŒ‰å¿«æ·é”®å¼€å§‹</span></span><br><span class="line">                print(<span class="string">"begin"</span>)</span><br><span class="line">                flag = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_release</span><span class="params">(key)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">in</span> pressed:</span><br><span class="line">            pressed.remove(key)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"start up"</span>)</span><br><span class="line">    <span class="keyword">with</span> keyboard.Listener(on_press=on_press, on_release=on_release) <span class="keyword">as</span> listener:</span><br><span class="line">        listener.join()</span><br><span class="line">    print(<span class="string">"shutdown"</span>)</span><br></pre></td></tr></table></figure><h4 id="æœ€åï¼Œå¯åŠ¨"><a href="#æœ€åï¼Œå¯åŠ¨" class="headerlink" title="æœ€åï¼Œå¯åŠ¨"></a>æœ€åï¼Œå¯åŠ¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="comment"># target: ç›®æ ‡å‡½æ•°ï¼Œä¸è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="comment"># args: </span></span><br><span class="line">    <span class="comment"># ç¬¬ä¸€ä¸ªå‚æ•° sleep_time æ˜¯æ¯ä¸ªçº¿ç¨‹å†…ä¸¤æ¬¡å‘æ¶ˆæ¯çš„é—´éš”ï¼Œç»è¿‡å¤šæ¬¡å°è¯•ï¼Œçº¿ç¨‹å¤ªå¤šæˆ–è€…é—´éš”å¤ªçŸ­éƒ½ä¸å¤ªè¡Œï¼Œå¯èƒ½æ˜¯æˆ‘ç”µè„‘ä¸è¡Œ</span></span><br><span class="line">    <span class="comment"># ç¬¬äºŒä¸ªå‚æ•° name å¯¹æ–¹åå­—</span></span><br><span class="line">    <span class="comment"># ç¬¬ä¸‰ä¸ªå‚æ•° id ä¸ä¸º0æ—¶æŒ‡å®šå›ºå®šçš„ä¸€å¥ï¼Œä¸º0æ—¶éšæœº</span></span><br><span class="line">    <span class="comment"># ç¬¬å››ä¸ªå‚æ•° level 1çº§å£åè²èŠ±ï¼Œ2çº§ç«åŠ›å…¨å¼€</span></span><br><span class="line">    <span class="comment"># thread_num: çº¿ç¨‹æ•°</span></span><br><span class="line">    create_thread(target=send_zuan, args=(<span class="number">0.1</span>,), thread_num=<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># åˆ›å»ºç›‘å¬å¿«æ·é”®çš„çº¿ç¨‹</span></span><br><span class="line">    threading.Thread(target=listening_keykoard).start()</span><br></pre></td></tr></table></figure><h3 id="github-é¡¹ç›®åœ°å€ï¼š"><a href="#github-é¡¹ç›®åœ°å€ï¼š" class="headerlink" title="github é¡¹ç›®åœ°å€ï¼š"></a>github é¡¹ç›®åœ°å€ï¼š</h3><p><strong><a href="https://github.com/Roc136/zuan" target="_blank" rel="noopener">https://github.com/Roc136/zuan</a></strong></p><p><strong>æ¬¢è¿star~</strong></p><h3 id="å±•ç¤ºï¼š"><a href="#å±•ç¤ºï¼š" class="headerlink" title="å±•ç¤ºï¼š"></a>å±•ç¤ºï¼š</h3><p><video src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/zuan/zuan.mp4" controls="controls" style="max-width: 100%; display: block; margin-left: auto; margin-right: auto;"> your browser does not support the video tag </video></p><h3 id="ç»“è¯­ï¼š"><a href="#ç»“è¯­ï¼š" class="headerlink" title="ç»“è¯­ï¼š"></a>ç»“è¯­ï¼š</h3><p>å½“ç„¶æœ€åæ²¡æœ‰å’Œå¯¹æ–¹å¯¹çº¿ï¼Œæ¯•ç«Ÿç‹—å’¬å’±ä¸€å£å’±æ²¡å¿…è¦è¿˜ä¸€å£~</p><p>å†™è¿™ä¸ªçº¯å±å¨±ä¹å’Œå­¦ä¹ æ–°çŸ¥è¯†ï¼Œä½†æ˜¯ç¥–å®‰å¯ä¸å¥½å“¦~</p>]]></content>
      
      
      <categories>
          
          <category> ä¹±ä¸ƒå…«ç³Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¥–å®‰ç¥å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿä½œä¸šå››</title>
      <link href="/posts/csapp/homework4/"/>
      <url>/posts/csapp/homework4/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½œä¸š4"><a href="#ä½œä¸š4" class="headerlink" title="ä½œä¸š4"></a>ä½œä¸š4</h1><h3 id="3-24"><a href="#3-24" class="headerlink" title="3.24"></a>3.24</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">lopp_while</span><span class="params">(<span class="keyword">long</span> a, <span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (a &lt; b) &#123;</span><br><span class="line">        result = result * (a + b);</span><br><span class="line">        a = a + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-25"><a href="#3-25" class="headerlink" title="3.25"></a>3.25</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">loop_while2</span><span class="params">(<span class="keyword">long</span> a, <span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> result = b;</span><br><span class="line">    <span class="keyword">while</span> (b &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        result = result * a;</span><br><span class="line">        b = b - a</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-28"><a href="#3-28" class="headerlink" title="3.28"></a>3.28</h3><p>A. </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">fun_b</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> val = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">64</span>; i != <span class="number">0</span>; i--) &#123;</span><br><span class="line">        val &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        val |= (x &amp; <span class="number">1</span>);</span><br><span class="line">        x &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>B. <code>i</code> çš„åˆå§‹å€¼ä¸º64ï¼Œä¸€å®šæ»¡è¶³ <code>i != 0</code> ï¼Œæ‰€ä»¥ä¸å¿…æµ‹è¯•</p><p>C. å°† x çš„å„ä½åšå¯¹ç§°å˜æ¢å­˜åœ¨ val ä¸­</p><h3 id="3-30"><a href="#3-30" class="headerlink" title="3.30"></a>3.30</h3><p>A. -1 0 1 2 4 5 7<br>B. .L5 çš„æ ‡å·ä¸º0å’Œ7</p><p>C. .L7 çš„æ ‡å·ä¸º2å’Œ4</p><h3 id="3-31"><a href="#3-31" class="headerlink" title="3.31"></a>3.31</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">switcher</span><span class="params">(<span class="keyword">long</span> a, <span class="keyword">long</span> b, <span class="keyword">long</span> c, <span class="keyword">long</span> *dest)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> val;</span><br><span class="line">    <span class="keyword">switch</span>(a) &#123; <span class="comment">/*0 2 4 5 7*/</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:  <span class="comment">/* Case A */</span></span><br><span class="line">            c = b ^ <span class="number">15</span>;</span><br><span class="line">            <span class="comment">/* Fall through */</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:  <span class="comment">/* Case B */</span></span><br><span class="line">            val = c + <span class="number">112</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:  <span class="comment">/* Case C */</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:  <span class="comment">/* Case D */</span></span><br><span class="line">            val = (b + c) &lt;&lt; <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:  <span class="comment">/* Case E */</span></span><br><span class="line">            val = a;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            val = b;</span><br><span class="line">    &#125;</span><br><span class="line">    *dest = val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-64"><a href="#3-64" class="headerlink" title="3.64"></a>3.64</h3><p>A. </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TYPE D[R][S][T]</span><br><span class="line">&amp;D[i][j][k] &#x3D; Xd + L(S*T*i + T*j + k)</span><br></pre></td></tr></table></figure><p>B.</p><p>R = 7</p><p>S = 5</p><p>T = 13</p><h3 id="3-67"><a href="#3-67" class="headerlink" title="3.67"></a>3.67</h3><p>A. </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">104  +------------------+</span><br><span class="line">     |                  |</span><br><span class="line">     Â·                  Â·</span><br><span class="line">     Â·                  Â·</span><br><span class="line">     Â·                  Â·</span><br><span class="line">     |                  |</span><br><span class="line"> 64  +------------------+ &lt;-- %rdi</span><br><span class="line">     |                  |</span><br><span class="line"> 56  +------------------+</span><br><span class="line">     |                  |</span><br><span class="line"> 48  +------------------+</span><br><span class="line">     |                  |</span><br><span class="line"> 40  +------------------+</span><br><span class="line">     |                  |</span><br><span class="line"> 32  +------------------+</span><br><span class="line">     |         z        |</span><br><span class="line"> 24  +------------------+</span><br><span class="line">     |        &amp;z        |</span><br><span class="line"> 16  +------------------+</span><br><span class="line">     |         y        |</span><br><span class="line">  8  +------------------+</span><br><span class="line">     |         x        |</span><br><span class="line">  0  +------------------+ &lt;-- %rsp</span><br></pre></td></tr></table></figure><p>B.  %rsp+64</p><p>C. ä½¿ç”¨ <code>%rsp</code> åŠ åç§»é‡çš„æ–¹å¼è®¿é—®å…ƒç´ </p><p>D. ä»å‚æ•° <code>%res+64</code> å¼€å§‹å­˜æ”¾ r çš„å­—æ®µ</p><p>E.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">104  +------------------+</span><br><span class="line">     |                  |</span><br><span class="line">     Â·                  Â·</span><br><span class="line">     Â·                  Â·</span><br><span class="line">     Â·                  Â·</span><br><span class="line">     |                  |</span><br><span class="line"> 88  +------------------+</span><br><span class="line">     |        z         |</span><br><span class="line"> 80  +------------------+</span><br><span class="line">     |        x         |</span><br><span class="line"> 72  +------------------+</span><br><span class="line">     |        y         |</span><br><span class="line"> 64  +------------------+ &lt;-- %rdi(evalä¼ é€’çš„)ï¼ˆ%rax(processè¿”å›çš„)ï¼‰</span><br><span class="line">     |                  |</span><br><span class="line"> 56  +------------------+</span><br><span class="line">     |                  |</span><br><span class="line"> 48  +------------------+</span><br><span class="line">     |                  |</span><br><span class="line"> 40  +------------------+</span><br><span class="line">     |                  |</span><br><span class="line"> 32  +------------------+</span><br><span class="line">     |         z        |</span><br><span class="line"> 24  +------------------+</span><br><span class="line">     |        &amp;z        |</span><br><span class="line"> 16  +------------------+</span><br><span class="line">     |         y        |</span><br><span class="line">  8  +------------------+</span><br><span class="line">     |         x        |</span><br><span class="line">  0  +------------------+ &lt;-- %rsp(evalå‡½æ•°)</span><br><span class="line">     |                  |</span><br><span class="line"> -8  +------------------+ &lt;-- %rsp(processå‡½æ•°å†…)</span><br></pre></td></tr></table></figure><p>F. åŸå‡½æ•°å°†ç©ºé—´çš„åœ°å€ä½œä¸ºå‚æ•°ä¼ ç»™è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œè¢«è°ƒç”¨çš„å‡½æ•°å°†æ•°æ®å­˜æ”¾åœ¨ç»™å®šçš„ç©ºé—´å†…ï¼Œè¿”å›è¯¥ç©ºé—´åœ°å€ã€‚</p><h3 id="3-68"><a href="#3-68" class="headerlink" title="3.68"></a>3.68</h3><p>ç”± <code>8(%rsi)</code> æŒ‡å‘ <code>q-&gt;t</code> å¯çŸ¥ï¼Œ4 &lt; B &lt;= 8;</p><p>åˆç”± <code>32(%rsi)</code> æŒ‡å‘ <code>q-&gt;u</code> çŸ¥ï¼Œ24 &lt; 8 + 4 + A * 2 &lt;= 32ï¼Œå³ 5 &lt; A &lt;= 10</p><p>åˆ <code>184(%rdi)</code> æŒ‡å‘ <code>p-&gt;y</code> çŸ¥ï¼Œ176 &lt; A*B*4 &lt;= 184ï¼Œå³ 44 &lt; A*B &lt;= 46</p><p>å¯å¾—</p><p>A = 9</p><p>B = 5</p>]]></content>
      
      
      <categories>
          
          <category> ä½œä¸š </category>
          
          <category> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿä½œä¸šä¸‰</title>
      <link href="/posts/csapp/homework3/"/>
      <url>/posts/csapp/homework3/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½œä¸š3"><a href="#ä½œä¸š3" class="headerlink" title="ä½œä¸š3"></a>ä½œä¸š3</h1><h3 id="3-3"><a href="#3-3" class="headerlink" title="3.3"></a>3.3</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">movb $0xF, (ebx) # %ebxæ˜¯è°ƒç”¨è€…ä¿å­˜çš„ä¿¡æ¯ï¼Œä¸èƒ½ç”¨ %ebx ä½œä¸ºç›®æ ‡åœ°å€</span><br><span class="line">movl %rax, (%rap) # æŒ‡ä»¤åç¼€ä¸å¯„å­˜å™¨ä¸åŒ¹é…,åº”ä¸ºmovl %eax, (%rsp) æˆ– movq %rax, (%rsp)</span><br><span class="line">movw (%rax), 4(%rsp) # çš„ä¸¤ä¸ªæ“ä½œæ•°ä¸èƒ½åŒæ—¶ä¸ºå†…å­˜å¼•ç”¨</span><br><span class="line">movb %al, %sl # %slä¸å­˜åœ¨</span><br><span class="line">movq %rax, $0x123 # ä¸èƒ½ç”¨ç«‹å³æ•°ä½œä¸ºç›®æ ‡åœ°å€</span><br><span class="line">movl %eax, %rdx # åº”ä¸º movl %eax, %edx</span><br><span class="line">movb %si, 8(%rbp) # æŒ‡ä»¤åç¼€ä¸å¯„å­˜å™¨ä¸åŒ¹é…ï¼Œåº”ä¸ºmovb %sil, 8(%rbp) æˆ–è€… movw %si, 8(%rbp)</span><br></pre></td></tr></table></figure><h3 id="3-5"><a href="#3-5" class="headerlink" title="3.5"></a>3.5</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decode1</span><span class="params">(<span class="keyword">long</span> *xp, <span class="keyword">long</span> *yp, <span class="keyword">long</span> *zp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> x = *xp;</span><br><span class="line">    <span class="keyword">long</span> y = *yp;</span><br><span class="line">    <span class="keyword">long</span> z = *zp;</span><br><span class="line">    *yp = x;</span><br><span class="line">    *zp = y;</span><br><span class="line">    *xp = z;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-7"><a href="#3-7" class="headerlink" title="3.7"></a>3.7</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> t = <span class="number">5</span> * x + <span class="number">2</span> * y + <span class="number">8</span> * z</span><br></pre></td></tr></table></figure><h3 id="3-10"><a href="#3-10" class="headerlink" title="3.10"></a>3.10</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">arith2</span><span class="params">(<span class="keyword">long</span> x, <span class="keyword">long</span> y, <span class="keyword">long</span> z)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> t1 = x | y;</span><br><span class="line">    <span class="keyword">long</span> t2 = t1 &gt;&gt; <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">long</span> t3 = ~t2;</span><br><span class="line">    <span class="keyword">long</span> t4 = z - t3;</span><br><span class="line">    <span class="keyword">return</span> t4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-15"><a href="#3-15" class="headerlink" title="3.15"></a>3.15</h3><p>A. <code>0x4003fe</code></p><p>B. <code>0x400425</code></p><p>C. <code>400543</code> <code>400545</code></p><p>D. <code>0x400560</code></p><h3 id="3-18"><a href="#3-18" class="headerlink" title="3.18"></a>3.18</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">test</span><span class="params">(<span class="keyword">long</span> x, <span class="keyword">long</span> y, <span class="keyword">long</span> z)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> val = x + y + z;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">-3</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (y &lt; z)</span><br><span class="line">            val = x * y;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            val = y * z;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; <span class="number">2</span>)</span><br><span class="line">        val = x * z;</span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-21"><a href="#3-21" class="headerlink" title="3.21"></a>3.21</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">test</span><span class="params">(<span class="keyword">long</span> x, <span class="keyword">long</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> val = <span class="number">8</span> * x + <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (y &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x &lt; y)</span><br><span class="line">            val = y - x;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            val = x &amp; y;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (y &lt;= <span class="number">-2</span>)</span><br><span class="line">        val = x + y;</span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-60"><a href="#3-60" class="headerlink" title="3.60"></a>3.60</h3><p>A. <code>%rdi</code>, <code>%esi</code>, <code>%rax</code>, <code>%rdx</code></p><p>B. <code>result = 0; mask = 1;</code></p><p>C. <code>mask != 0</code></p><p>D. <code>mask &lt;&lt;= n</code></p><p>E. <code>result |=  (x &amp; mask)</code></p><p>F.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">loop</span><span class="params">(<span class="keyword">long</span> x, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> mask;</span><br><span class="line">    <span class="keyword">for</span>(mask = <span class="number">1</span>; mask != <span class="number">0</span>; mask &lt;&lt;= n) &#123;</span><br><span class="line">        result |= (x &amp; mask)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-61"><a href="#3-61" class="headerlink" title="3.61"></a>3.61</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">cread_alt</span><span class="params">(<span class="keyword">long</span> *xp)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (!xp ? <span class="number">0</span> : *xp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ä½œä¸š </category>
          
          <category> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gdbè°ƒè¯•å‘½ä»¤</title>
      <link href="/posts/notes/gdb/"/>
      <url>/posts/notes/gdb/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">layout regs &#x2F;&#x2F;æ‰“å¼€å¯„å­˜å™¨çª—å£</span><br><span class="line">layout asm &#x2F;&#x2F;æ‰“å¼€æ±‡ç¼–ä»£ç çª—å£</span><br><span class="line">disassemble &#x2F;&#x2F;æŸ¥çœ‹æ±‡ç¼–ä»£ç </span><br><span class="line">set disassemble-next-line on &#x2F;&#x2F;å¯ä»¥æŸ¥çœ‹ä¸‹ä¸€æ¡æŒ‡ä»¤çš„æ±‡ç¼–ä»£ç </span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥çœ‹å½“å‰ç¨‹åºæ ˆçš„å†…å®¹: x&#x2F;10x $sp--&gt;æ‰“å°stackçš„å‰10ä¸ªå…ƒç´ </span><br><span class="line">æŸ¥çœ‹å½“å‰ç¨‹åºæ ˆçš„ä¿¡æ¯: info frame----list general info about the frame</span><br><span class="line">æŸ¥çœ‹å½“å‰ç¨‹åºæ ˆçš„å‚æ•°: info args---lists arguments to the function</span><br><span class="line">æŸ¥çœ‹å½“å‰ç¨‹åºæ ˆçš„å±€éƒ¨å˜é‡: info locals---list variables stored in the frame</span><br><span class="line">æŸ¥çœ‹å½“å‰å¯„å­˜å™¨çš„å€¼ï¼šinfo registers(ä¸åŒ…æ‹¬æµ®ç‚¹å¯„å­˜å™¨) info all-registers(åŒ…æ‹¬æµ®ç‚¹å¯„å­˜å™¨)</span><br><span class="line">æŸ¥çœ‹å½“å‰æ ˆå¸§ä¸­çš„å¼‚å¸¸å¤„ç†å™¨ï¼šinfo catch(exception handlers)</span><br></pre></td></tr></table></figure><p>å¾…è¡¥å……â€¦</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> æ±‡ç¼– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gdb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿä½œä¸šäºŒ</title>
      <link href="/posts/csapp/homework2/"/>
      <url>/posts/csapp/homework2/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½œä¸š2"><a href="#ä½œä¸š2" class="headerlink" title="ä½œä¸š2"></a>ä½œä¸š2</h1><h3 id="2-61"><a href="#2-61" class="headerlink" title="2.61"></a>2.61</h3><p>A. <code>!(~x)</code></p><p>B. <code>!x</code></p><p>C. <code>!(~(x|0xffffff00))</code></p><p>D. <code>!(~(x|0x00ffffff))</code></p><h3 id="2-63"><a href="#2-63" class="headerlink" title="2.63"></a>2.63</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*é€»è¾‘å³ç§»ä¸ç®—æœ¯å³ç§»åªæœ‰å½“æœ€é«˜ä½ä¸º1æ—¶ä¸åŒ*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="title">srl</span><span class="params">(<span class="keyword">unsigned</span> x,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"><span class="comment">/* Perform shift arithmetically */</span></span><br><span class="line"><span class="keyword">unsigned</span> xsra=(<span class="keyword">int</span>)x&gt;&gt;k;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* å¾—åˆ°ä½æ•° */</span></span><br><span class="line"><span class="keyword">int</span> w=<span class="keyword">sizeof</span>(<span class="keyword">int</span>)&lt;&lt;<span class="number">3</span>;</span><br><span class="line">    <span class="comment">/*å¦‚æœæœ€é«˜ä½æ˜¯1ï¼Œå°±æŠŠå‰ k ä½ä¸1è¿›è¡Œå¼‚æˆ–æ“ä½œ*/</span></span><br><span class="line"><span class="keyword">if</span>(x&amp;<span class="number">0x80000000</span>)</span><br><span class="line">        xsra^=(<span class="number">-1</span>)&lt;&lt;(w-k); <span class="comment">//åˆ©ç”¨ï¼ˆ-1ï¼‰&lt;&lt;(w-k) å¾—åˆ°å‰ k ä½å‡ä¸º1çš„æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> xsra;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sra</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"><span class="comment">/* Perform shift logically */</span></span><br><span class="line"><span class="keyword">int</span> xshl=(<span class="keyword">unsigned</span>)x&gt;&gt;k;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* å¾—åˆ°ä½æ•° */</span></span><br><span class="line"><span class="keyword">int</span> w=<span class="keyword">sizeof</span>(<span class="keyword">int</span>)&lt;&lt;<span class="number">3</span>;</span><br><span class="line">    <span class="comment">/*å¦‚æœæœ€é«˜ä½æ˜¯1ï¼Œå°±æŠŠå‰ï¼ˆw-kï¼‰ä½ä¸1è¿›è¡Œæˆ–æ“ä½œ*/</span></span><br><span class="line"><span class="keyword">if</span>(x&amp;<span class="number">0x80000000</span>)</span><br><span class="line">        xshl|=(<span class="number">-1</span>)&lt;&lt;(w-k);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> xshl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-65"><a href="#2-65" class="headerlink" title="2.65"></a>2.65</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Return 1 when x contains an odd number of 1s; 0 otherwise.</span></span><br><span class="line"><span class="comment">   Assune w=32 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/***************************************************************</span></span><br><span class="line"><span class="comment"> * åœ¨æ‰€æœ‰çš„1ä¸­å»æ‰å¶æ•°ä¸ª1å¯¹ç»“æœä¸ä¼šäº§ç”Ÿå½±å“ï¼Œæ‰€ä»¥å°†32ä½ä¾æ¬¡æŠ˜åŠå‰åŠéƒ¨åˆ†ä¸å *</span></span><br><span class="line"><span class="comment"> * åŠéƒ¨åˆ†è¿›è¡Œå¼‚æˆ–å¯ä»¥å»é™¤å¶æ•°ä¸ª1ï¼Œå¾ªç¯è¿›è¡Œç›´åˆ°æœ€åä¸€ä½ï¼Œå¦‚æœæœ€åä¸€ä½æ˜¯1åˆ™æ˜¯  *</span></span><br><span class="line"><span class="comment"> * å¥‡æ•°ï¼Œä¸º0åˆ™æ˜¯å¶æ•°ã€‚                                             *</span></span><br><span class="line"><span class="comment"> ***************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">odd_ones</span><span class="params">(<span class="keyword">unsigned</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">unsigned</span> y;</span><br><span class="line">    <span class="keyword">unsigned</span> w = <span class="number">16</span>;</span><br><span class="line">    <span class="keyword">for</span>(;w &gt;= <span class="number">1</span>; w &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        y = x &gt;&gt; w;</span><br><span class="line">        x ^= y;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> x &amp; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-71"><a href="#2-71" class="headerlink" title="2.71"></a>2.71</h3><p>A. packed_tæ˜¯æ— ç¬¦å·æ•°ï¼Œè€Œå®ƒåŒ…è£…çš„4ä¸ªå­—èŠ‚éƒ½æ˜¯æœ‰ç¬¦å·æ•°ï¼Œ1byteçš„åŒ…è£…åœ¨æ— ç¬¦å·æ•°ä¸­çš„æœ‰ç¬¦å·æ•°æ‰©å±•åç¬¦å·ä½å¹¶æ²¡æœ‰æ‰©å±•ã€‚</p><p>B.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">xbyte</span><span class="params">(<span class="keyword">packed_t</span> <span class="keyword">word</span>, <span class="keyword">int</span> byteum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">size</span> = <span class="keyword">sizeof</span>(<span class="keyword">unsigned</span>);</span><br><span class="line">    <span class="keyword">int</span> left = (<span class="built_in">size</span> - <span class="number">1</span> - bytenum) &lt;&lt; <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> right = (<span class="built_in">size</span> - <span class="number">1</span>) &lt;&lt; <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>) <span class="keyword">word</span> &lt;&lt; left &gt;&gt; right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-72"><a href="#2-72" class="headerlink" title="2.72"></a>2.72</h3><p>A. <code>sizeof</code> çš„è¿”å›å€¼ <code>size_t</code> æ˜¯æ— ç¬¦å·ç±»å‹ï¼Œåœ¨åšå‡æ³• <code>maxbytes-sizeof(val)</code> æ—¶å¾—åˆ°çš„ç»“æœè¢«æå‡ä¸ºæ— ç¬¦å·å‹ï¼Œæ€»æ˜¯å¤§äº0.</p><p>B. </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">copy_int</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">void</span>* buf, <span class="keyword">int</span> maxbytes)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(maxbytes &gt;= (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(val))</span><br><span class="line">        <span class="built_in">memcpy</span>(buf, (<span class="keyword">void</span>*)&amp;val, <span class="keyword">sizeof</span>(val));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-77"><a href="#2-77" class="headerlink" title="2.77"></a>2.77</h3><p>A. <code>(x &lt;&lt; 4) + x</code></p><p>B. <code>-(x &lt;&lt; 3 - x)</code></p><p>C. <code>(x &lt;&lt; 6) - (x &lt;&lt; 2)</code></p><p>D. <code>(x &lt;&lt; 4) - (x &lt;&lt; 7)</code></p><h3 id="2-87"><a href="#2-87" class="headerlink" title="2.87"></a>2.87</h3><table><thead><tr><th>æè¿°</th><th align="center">Hex</th><th align="center">M</th><th align="center">E</th><th align="center">V</th><th align="center">D</th></tr></thead><tbody><tr><td>-0</td><td align="center"><strong>8000</strong></td><td align="center"><strong>0</strong></td><td align="center"><strong>-14</strong></td><td align="center">-0</td><td align="center">-0.0</td></tr><tr><td>æœ€å°çš„ $&gt;2$ çš„å€¼</td><td align="center"><strong>4001</strong></td><td align="center"><strong>$\frac{1025}{1024}$</strong></td><td align="center"><strong>1</strong></td><td align="center"><strong>$\frac{1025}{512}$</strong></td><td align="center"><strong>2.00195312</strong></td></tr><tr><td>512</td><td align="center"><strong>6000</strong></td><td align="center"><strong>1</strong></td><td align="center"><strong>9</strong></td><td align="center">512</td><td align="center">512.0</td></tr><tr><td>æœ€å¤§çš„éè§„æ ¼åŒ–æ•°</td><td align="center"><strong>03FF</strong></td><td align="center"><strong>$\frac{1023}{1024}$</strong></td><td align="center"><strong>-14</strong></td><td align="center"><strong>$\frac{1023}{2^{24}}$</strong></td><td align="center"><strong>6.09755516e-5</strong></td></tr><tr><td>$-\infty$</td><td align="center"><strong>FC00</strong></td><td align="center">â€”</td><td align="center">â€”</td><td align="center">$-\infty$</td><td align="center">$-\infty$</td></tr><tr><td>åå…­è¿›åˆ¶è¡¨ç¤ºä¸º3BB0çš„æ•°</td><td align="center">3BB0</td><td align="center"><strong>$\frac{123}{64}$</strong></td><td align="center"><strong>-1</strong></td><td align="center"><strong>$\frac{123}{128}$</strong></td><td align="center"><strong>0.9609375</strong></td></tr></tbody></table><h3 id="2-90"><a href="#2-90" class="headerlink" title="2.90"></a>2.90</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;assert.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">u2f</span><span class="params">(<span class="keyword">unsigned</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *(<span class="keyword">float</span>*) &amp;x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">fpwr2</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* Result exponent and fraction */</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="built_in">exp</span>, frac;</span><br><span class="line">    <span class="keyword">unsigned</span> u;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">2</span>-<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">7</span>)<span class="number">-23</span>) &#123;</span><br><span class="line">    <span class="comment">/* Too small. Return 0.0 */</span></span><br><span class="line">    <span class="built_in">exp</span> = <span class="number">0</span>;</span><br><span class="line">    frac = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; <span class="number">2</span>-<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">7</span>)) &#123;</span><br><span class="line">        <span class="comment">/* Denormalized result */</span></span><br><span class="line">        <span class="comment">/* éè§„æ ¼åŒ–è¡¨ç¤ºï¼Œé˜¶ç ç¼–ç å…¨ä¸º0ï¼ŒE=1-Bias(Bias = 2 ^ (k - 1) - 1);</span></span><br><span class="line"><span class="comment">         * æœ€å°å€¼0.000ï¼ˆ23ä¸ª0ï¼‰001 * 2 ^ E = 2 ^ (2 - 2 ^ 7); */</span></span><br><span class="line">        <span class="built_in">exp</span> = <span class="number">0</span>;</span><br><span class="line">        frac = <span class="number">1</span> &lt;&lt; (<span class="keyword">unsigned</span>)(x - (<span class="number">2</span>-<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">7</span>)<span class="number">-23</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; <span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">7</span>)<span class="number">-1</span>+<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">/* Normalized result */</span></span><br><span class="line">        <span class="comment">/* è§„æ ¼åŒ–è¡¨ç¤ºï¼Œæœ€å°å€¼1.00...00 * 2 ^ (1 - (2 ^ 7 - 1)) = 2 ^ (2 - 2 ^ 7)</span></span><br><span class="line"><span class="comment">        æœ€å¤§å€¼1.00...00 * 2 ^ ((2^8-1) - (2^7-1)) = 2 ^ 2 ^ 7*/</span></span><br><span class="line">    <span class="built_in">exp</span> = <span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">7</span>)<span class="number">-1</span>+x;</span><br><span class="line">    frac = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">/* Too big, Return +oo */</span></span><br><span class="line">    <span class="built_in">exp</span> = <span class="number">0xFF</span>;</span><br><span class="line">    frac = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Pack exp and frac into 32 bits */</span></span><br><span class="line">    u = <span class="built_in">exp</span> &lt;&lt; <span class="number">23</span> | frac;</span><br><span class="line">    <span class="comment">/* Return as float */</span></span><br><span class="line">    <span class="keyword">return</span> u2f(u);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ä½œä¸š </category>
          
          <category> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--è¡¥å……ç¯‡</title>
      <link href="/posts/blog-building/end/"/>
      <url>/posts/blog-building/end/</url>
      
        <content type="html"><![CDATA[<h2 id="ç»“è¯­ï¼š"><a href="#ç»“è¯­ï¼š" class="headerlink" title="ç»“è¯­ï¼š"></a>ç»“è¯­ï¼š</h2><p>åšå®¢æ­å»ºçš„æ•™ç¨‹å°±åˆ°æ­¤ç»“æŸäº†ï¼Œä½†æˆ‘åé¢è¿˜ä¼šå¯¹åšå®¢è¿›è¡Œä¿®æ”¹è€Œå¯èƒ½ä¸ä¼šæ›´æ–°æ•™ç¨‹ï¼Œå¯¹äºæˆ‘çš„åšå®¢ä¸Šçš„ä»»ä½•ä¸œè¥¿ï¼Œå¯ä»¥åœ¨è¯„è®ºåŒºå‘æˆ‘æé—®ï¼Œå¦‚æœæˆ‘ä¼šåšçš„è¯ï¼Œå°±ä¼šæ›´æ–°åˆ°è¿™ç¯‡è¡¥å……å†…å®¹é‡Œé¢ã€‚æ„Ÿè°¢å¤§å®¶çš„é˜…è¯»~</p><a id="more"></a><hr><h2 id="è¡¥å……å†…å®¹ï¼š"><a href="#è¡¥å……å†…å®¹ï¼š" class="headerlink" title="è¡¥å……å†…å®¹ï¼š"></a>è¡¥å……å†…å®¹ï¼š</h2><p>æš‚æ— </p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> 4.è¡¥å…… </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--æå‡ç¯‡ï¼ˆ2)</title>
      <link href="/posts/blog-building/high-2/"/>
      <url>/posts/blog-building/high-2/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€æ·»åŠ çƒ­åº¦"><a href="#ä¸€ã€æ·»åŠ çƒ­åº¦" class="headerlink" title="ä¸€ã€æ·»åŠ çƒ­åº¦"></a>ä¸€ã€æ·»åŠ çƒ­åº¦</h3><p>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ï¼ŒæŸ¥æ‰¾ <code>leancloud_visitors</code> ï¼Œä¿®æ”¹ <code>enable</code> ä¸º <code>true</code> ï¼Œè‡ªè¡Œæ·»åŠ  <code>app_id</code> å’Œ <code>app_key</code> ï¼ˆå’Œè¯„è®ºä½¿ç”¨çš„leancloudç›¸åŒï¼‰</p><p>æ‰“å¼€ <code>./themes/next/layout/_macro/post.swig</code> æ–‡ä»¶ï¼ŒæŸ¥æ‰¾ <code>leancloud</code></p><p>æ‰¾åˆ°å¦‚ä¸‹å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.leancloud_visitors.enable %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"leancloud_visitors"</span> <span class="attr">data-flag-title</span>=<span class="string">"&#123;&#123; post.title &#125;&#125;"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-eye"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;% if theme.post_meta.item_text %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>&#123;&#123;__('post.visitors')&#125;&#125;<span class="symbol">&amp;#58;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"leancloud-visitors-count"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>&lt;span class=&quot;leancloud-visitors-count&quot;&gt;&lt;/span&gt;</code> ä¸‹é¢æ·»åŠ   <code>&lt;span&gt;Â°C&lt;/span&gt;</code></p><p>æ‰“å¼€è¯­è¨€æ–‡ä»¶ <code>./themes/next/languages/zh-Hans.yml</code> æ–‡ä»¶ï¼ŒæŸ¥æ‰¾ <code>post</code></p><p>å°† <code>visitors</code> çš„å€¼æ”¹ä¸º <code>çƒ­åº¦</code> å³å¯ã€‚</p><p>æ³¨ï¼šå¦‚æœä½¿ç”¨å…¶ä»–è¯­è¨€å°±å¯¹åº”ä¿®æ”¹å…¶ä»–çš„è¯­è¨€æ–‡ä»¶ã€‚</p><h3 id="äºŒã€æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡ã€é˜…è¯»æ—¶é•¿"><a href="#äºŒã€æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡ã€é˜…è¯»æ—¶é•¿" class="headerlink" title="äºŒã€æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡ã€é˜…è¯»æ—¶é•¿"></a>äºŒã€æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡ã€é˜…è¯»æ—¶é•¿</h3><p><del>åœ¨åšå®¢æ ¹ç›®å½•è¿è¡Œcmdï¼Œæ‰§è¡Œ</del></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure><p>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ï¼ŒæŸ¥æ‰¾ <code>post_wordcount</code> ä¿®æ”¹ä»¥ä¸‹å†…å®¹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/willin/hexo-wordcount</span></span><br><span class="line"><span class="attr">post_wordcount:</span></span><br><span class="line">  <span class="attr">item_text:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> 3.æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--æå‡ç¯‡ï¼ˆ1)</title>
      <link href="/posts/blog-building/high-1/"/>
      <url>/posts/blog-building/high-1/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€æ·»åŠ è¯„è®º"><a href="#ä¸€ã€æ·»åŠ è¯„è®º" class="headerlink" title="ä¸€ã€æ·»åŠ è¯„è®º"></a>ä¸€ã€æ·»åŠ è¯„è®º</h3><h4 id="1-æ³¨å†Œleancloud"><a href="#1-æ³¨å†Œleancloud" class="headerlink" title="1. æ³¨å†Œleancloud"></a>1. æ³¨å†Œleancloud</h4><p>åœ¨ <a href="https://www.leancloud.cn/" target="_blank" rel="noopener">leancloud</a> ä¸Šæ³¨å†Œè´¦å·ï¼Œæ–°å»ºåº”ç”¨ï¼Œé€‰æ‹©å¼€å‘ç‰ˆï¼Œåº”ç”¨åç§°éšæ„ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/high-1/create_app.png" alt=""></p><p>æ‰“å¼€åº”ç”¨ï¼Œåœ¨ <code>å­˜å‚¨</code> çš„ <code>ç»“æ„åŒ–æ•°æ®</code> ç‚¹å‡» <code>åˆ›å»ºClass</code> ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/high-1/create_clsss.png" alt=""></p><p>è¾“å…¥åå­—ä¸º <code>Comment</code></p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/high-1/create_class_2.png" alt=""></p><p>å†åˆ›å»ºä¸€ä¸ªåå­—ä¸º <code>Counter</code> Classï¼ˆåé¢åšæ–‡ç« é˜…è¯»é‡ç»Ÿè®¡ç”¨ï¼‰</p><p>ç‚¹å‡»è®¾ç½®-å®‰å…¨ä¸­å¿ƒï¼Œæ‰¾åˆ° <code>Webå®‰å…¨åŸŸå</code> ï¼Œæ·»åŠ è‡ªå·±çš„åšå®¢åœ°å€ã€‚</p><p>ç‚¹å‡» <code>åº”ç”¨Keys</code> ï¼Œå¤åˆ¶å…¶ä¸­çš„ <code>appid</code> å’Œ <code>appkey</code> å¤‡ç”¨ã€‚</p><h4 id="2-æ·»åŠ åˆ°åšå®¢"><a href="#2-æ·»åŠ åˆ°åšå®¢" class="headerlink" title="2. æ·»åŠ åˆ°åšå®¢"></a>2. æ·»åŠ åˆ°åšå®¢</h4><p>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ï¼ŒæŸ¥æ‰¾ <code>valine</code> ï¼Œå°†å†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼Œå…¶ä¸­ <code>appid</code> å’Œ <code>appkey</code> å¡«å…¥è‡ªå·±çš„ã€‚</p><p>masterä¸ºè‡ªå·±çš„é‚®ç®±åœ°å€çš„md5å€¼ï¼Œç‚¹å‡»è¿™é‡Œ<a href="https://md5jiami.51240.com/" target="_blank" rel="noopener">åœ¨çº¿è·å–md5</a></p><p>ï¼ˆéƒ¨åˆ†é…ç½®ç›®å‰ä¸ç”Ÿæ•ˆï¼Œåœ¨åç»­çš„ä¿®æ”¹ä¸­ä¼šé€æ¸ç”Ÿæ•ˆï¼‰</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Valine.</span></span><br><span class="line"><span class="comment"># You can get your appid and appkey from https://leancloud.cn</span></span><br><span class="line"><span class="comment"># more info please open https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appid:</span>  <span class="comment"># your appid</span></span><br><span class="line">  <span class="attr">appkey:</span>  <span class="comment"># your appkey</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">true</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">false</span> <span class="comment"># Verification code</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">ãƒ¾ï¾‰â‰§âˆ€â‰¦)oæ¥å•Šï¼Œå¿«æ´»å•Š!\nTips:\n1.è¿™é‡Œå¯ä»¥æ”¯æŒMarkdownè¯­æ³•å“¦~\n2.è¯·å°½é‡ä½¿ç”¨ä¸»æµé‚®ä»¶åœ°å€ï¼Œä¾‹å¦‚QQã€ç½‘æ˜“ã€è°·æ­Œç­‰ç­‰ï¼Œä½¿ç”¨ä¸å¸¸è§çš„é‚®ç®±åœ°å€(ä¾‹å¦‚@cr.cx)å¯èƒ½æ”¶ä¸åˆ°å›å¤é€šçŸ¥å“¦~\n3.ä½¿ç”¨QQé‚®ç®±å¯ä»¥è‡ªåŠ¨è·å–QQå¤´åƒ~</span> <span class="comment"># comment box placeholder</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># custom comment header</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># pagination size</span></span><br><span class="line">  <span class="attr">master:</span> <span class="string">["your</span> <span class="string">email(md5)"]</span></span><br><span class="line">  <span class="attr">friends:</span> <span class="string">["your</span> <span class="string">friend's</span> <span class="string">email(md5)",</span> <span class="string">"your friend's email(md5)"</span><span class="string">]</span></span><br><span class="line">  <span class="attr">tagMeta_master:</span>  <span class="string">"åšä¸»"</span></span><br><span class="line">  <span class="attr">tagMeta_friends:</span> <span class="string">"å°ä¼™ä¼´"</span></span><br><span class="line">  <span class="attr">tagMeta_visters:</span> <span class="string">"è®¿å®¢"</span></span><br><span class="line">  <span class="attr">enableQQ:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="3-ä¿®æ”¹è¯„è®ºåŒºæ ·å¼"><a href="#3-ä¿®æ”¹è¯„è®ºåŒºæ ·å¼" class="headerlink" title="3. ä¿®æ”¹è¯„è®ºåŒºæ ·å¼"></a>3. ä¿®æ”¹è¯„è®ºåŒºæ ·å¼</h4><p>æ‰“å¼€ <code>./themes/next/source/css/_custom/custom.styl</code> æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯„è®ºåŒºå¡ç‰‡æ ·å¼</span></span><br><span class="line"><span class="selector-class">.comments</span> <span class="selector-class">.vcards</span> <span class="selector-class">.vcard</span> &#123;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">20px</span> <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span><br><span class="line">box-shadow: 0 0 4px 1px rgba(0, 0, 0, .12);</span><br><span class="line">transition: all .3s</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comments</span> <span class="selector-class">.vcards</span> <span class="selector-class">.vcard</span>:hover &#123;</span><br><span class="line">box-shadow: 0 0 8px 3px rgba(0, 0, 0, .12)</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comments</span> <span class="selector-class">.vcards</span> <span class="selector-class">.vcard</span> <span class="selector-class">.vh</span> <span class="selector-class">.vcard</span> &#123;</span><br><span class="line"><span class="attribute">border</span>: none;</span><br><span class="line"><span class="attribute">box-shadow</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯„è®ºå¤´åƒæ—‹è½¬</span></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.vimg</span> &#123;</span><br><span class="line">     <span class="attribute">transition</span>: all <span class="number">1.5s</span>   <span class="comment">/* æ—‹è½¬æ—¶é—´ä¸º 1s */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.vimg</span>:hover &#123;</span><br><span class="line">  <span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-æ·»åŠ èƒŒæ™¯å›¾"><a href="#4-æ·»åŠ èƒŒæ™¯å›¾" class="headerlink" title="4. æ·»åŠ èƒŒæ™¯å›¾"></a>4. æ·»åŠ èƒŒæ™¯å›¾</h4><p>ä»ç„¶æ˜¯ <code>custom.styl</code> æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#veditor</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">background-image: url(https://cdn.jsdelivr.net/gh/drew233/cdn/20200409110727.webp);</span><br><span class="line"><span class="comment">// background-size: contain;</span></span><br><span class="line"><span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line"><span class="attribute">background-position</span>: bottom right;</span><br><span class="line"><span class="attribute">background-color</span>: rgba(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line"><span class="attribute">resize</span>: vertical</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–ç„¦ç‚¹æ—¶èƒŒæ™¯å›¾æ¶ˆå¤±ï¼š</p><p>æ·»åŠ </p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#veditor</span>:focus&#123;</span><br><span class="line"><span class="attribute">background-position</span>-y: <span class="number">10000px</span>;</span><br><span class="line"><span class="attribute">transition</span>: all <span class="number">5s</span> ease-in-out <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-æ·»åŠ åšä¸»ã€å°ä¼™ä¼´å’Œæµè§ˆå™¨æ ‡è¯†"><a href="#5-æ·»åŠ åšä¸»ã€å°ä¼™ä¼´å’Œæµè§ˆå™¨æ ‡è¯†" class="headerlink" title="5. æ·»åŠ åšä¸»ã€å°ä¼™ä¼´å’Œæµè§ˆå™¨æ ‡è¯†"></a>5. æ·»åŠ åšä¸»ã€å°ä¼™ä¼´å’Œæµè§ˆå™¨æ ‡è¯†</h4><p>è¿™ä¸ªåŠŸèƒ½éœ€è¦ä¿®æ”¹åŸç”Ÿçš„jsæ–‡ä»¶ï¼Œä½¿ç”¨é­”æ”¹çš„jsã€‚ä¸åŸç”Ÿçš„jsç›¸æ¯”ï¼Œå¢åŠ ä»¥ä¸‹åŠŸèƒ½</p><ol><li>æ·»åŠ åšä¸»ï¼Œå°ä¼™ä¼´ï¼Œè®¿å®¢æ ‡ç­¾</li><li>æ·»åŠ æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿå›¾æ ‡ï¼Œéœ€å¼•å…¥ <code>fontawesome v5.0+</code> çš„ CSS æ ·å¼</li><li>é‚®ç®±æ£€æµ‹æ›´ä¸¥æ ¼</li><li>å¢åŠ  QQ é‚®ç®±è¯†åˆ«ï¼ˆåŸç‰ˆåªèƒ½é€šè¿‡æ˜µç§°æ è¾“å…¥ QQ å·è¯†åˆ«ï¼‰</li><li>meta placeholder å¯è‡ªå®šä¹‰</li></ol><p>ç‚¹å‡» <a href="https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js" target="_blank" rel="noopener">é­”æ”¹çš„valine.min.js</a> å°†å…¶ä¿å­˜åœ¨ <code>./themes/next/source/js/src</code> æ–‡ä»¶å¤¹ä¸‹ã€‚</p><p>æ‰“å¼€ <code>./themes/next/layout/_third-party/comments/valine.swig</code> æ–‡ä»¶ï¼Œä¿®æ”¹å…¶ä¸­çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"//unpkg.com/valine/dist/Valine.min.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"/js/src/Valine.min.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>å°†å…¶ä¸­çš„ <code>new Valine</code> ï¼ˆä¸€æ•´æ®µï¼‰ä¿®æ”¹ä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Valine(&#123;</span><br><span class="line">    el: <span class="string">'#comments'</span> ,</span><br><span class="line">    verify: &#123;&#123; theme.valine.verify &#125;&#125;,</span><br><span class="line">    notify: &#123;&#123; theme.valine.notify &#125;&#125;,</span><br><span class="line">    appId: <span class="string">'&#123;&#123; theme.valine.appid &#125;&#125;'</span>,</span><br><span class="line">    appKey: <span class="string">'&#123;&#123; theme.valine.appkey &#125;&#125;'</span>,</span><br><span class="line">    placeholder: <span class="string">'&#123;&#123; theme.valine.placeholder &#125;&#125;'</span>,</span><br><span class="line">    avatar:<span class="string">'&#123;&#123; theme.valine.avatar &#125;&#125;'</span>,</span><br><span class="line">    guest_info:guest,</span><br><span class="line">    pageSize:<span class="string">'&#123;&#123; theme.valine.pageSize &#125;&#125;'</span> || <span class="number">10</span>,</span><br><span class="line">    master: <span class="string">"&#123;&#123; theme.valine.master &#125;&#125;"</span>,</span><br><span class="line">    friends: <span class="string">"&#123;&#123; theme.valine.friends &#125;&#125;"</span>,</span><br><span class="line">    tagMeta: [<span class="string">"&#123;&#123; theme.valine.tagMeta_master &#125;&#125;"</span>, <span class="string">"&#123;&#123; theme.valine.tagMeta_friends &#125;&#125;"</span>, <span class="string">"&#123;&#123; theme.valine.tagMeta_visters &#125;&#125;"</span>],</span><br><span class="line">    metaPlaceholder: &#123;<span class="string">"nick"</span>: <span class="string">"æ˜µç§°/QQå·(å¿…å¡«)"</span>,<span class="string">"mail"</span>: <span class="string">"é‚®ç®±(ä¼šæ”¶åˆ°å›å¤å“¦~)"</span>,<span class="string">"link"</span>: <span class="string">"ç½‘å€(æ”¾ä¸Šä½ çš„åšå®¢åœ°å€~)"</span>&#125;,</span><br><span class="line">    enableQQ: <span class="string">"&#123;&#123; theme.valine.enableQQ &#125;&#125;"</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <code>./themes/next/layout/_layout.swg</code> æ–‡ä»¶ï¼Œ</p><p>åœ¨ <code>head</code> æ ‡ç­¾å†…æ·»åŠ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link href=<span class="string">"https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.0/css/all.min.css"</span> rel=<span class="string">"stylesheet"</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="6-æ·»åŠ è‡ªå®šä¹‰è¡¨æƒ…"><a href="#6-æ·»åŠ è‡ªå®šä¹‰è¡¨æƒ…" class="headerlink" title="6. æ·»åŠ è‡ªå®šä¹‰è¡¨æƒ…"></a>6. æ·»åŠ è‡ªå®šä¹‰è¡¨æƒ…</h4><p>æ‰“å¼€å‰é¢ä¸‹è½½çš„ <code>Valine.min.js</code> æ–‡ä»¶ï¼Œ</p><p>æŸ¥æ‰¾ <code>//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/</code> ï¼Œå°†å…¶å‰ªè´´åˆ°ç²˜è´´æ¿ã€‚</p><p>æŸ¥æ‰¾ <code>smile</code> ï¼ˆç”±äºé»˜è®¤è¡¨æƒ…ç¬¬ä¸€ä¸ªæ˜¯smileï¼‰ï¼Œæ‰¾åˆ° <code>function(e,t){e.exports={smile:</code>ï¼Œ</p><p>åœ¨æ¯ä¸ªé“¾æ¥çš„å‰é¢æ·»åŠ åˆšåˆšå‰ªè´´çš„å†…å®¹</p><p>ï¼ˆè¾ƒå¤šï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™æ›¿æ¢ï¼‰ï¼š</p><p><code>:&quot;(.*?)&quot;</code>-&gt;<code>&quot;//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/$1&quot;</code></p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/high-1/replace.png" alt=""></p><p>åœ¨ <code>smile</code> å‰é¢æ·»åŠ è‡ªå·±çš„è¡¨æƒ…ã€‚</p><p>æ ¼å¼ï¼š&lt;åå­—&gt;:â€&lt;å›¾ç‰‡åœ°å€&gt;â€ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smile:"https://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/e3/2018new_weixioa02_org.png",</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰åˆ«äººæ•´ç†çš„ä¸€äº›è¡¨æƒ…åŒ…ï¼Œæˆ‘å°†å…¶æ•´ç†ä¸ºå¯ç”¨çš„jsonæ ¼å¼ï¼š</p><p>åŸä»“åº“åœ°å€ï¼š<a href="https://github.com/blogimg/emotion" target="_blank" rel="noopener">https://github.com/blogimg/emotion</a></p><p>æˆ‘çš„ä»“åº“åœ°å€ï¼š<a href="https://github.com/Roc136/emotion" target="_blank" rel="noopener">https://github.com/Roc136/emotion</a></p><p>å¯ä»¥ä»æˆ‘çš„ä»“åº“çš„READMEä¸­å¤åˆ¶å–œæ¬¢çš„è¡¨æƒ…çš„åœ°å€ï¼Œä¹Ÿå¯ä»¥å°†ä»“åº“å…‹éš†åˆ°è‡ªå·±çš„githubé‡Œï¼Œå°†é“¾æ¥ä¸­çš„Roc136æ¢æˆè‡ªå·±çš„åå­—ã€‚</p><p>è¿™é‡Œæ²¡æœ‰ä½¿ç”¨CDNï¼Œä¸å»ºè®®æ”¾å…¥è¿‡å¤šçš„è‡ªå®šä¹‰è¡¨æƒ…ï¼Œå› ä¸ºä¼šè®©è¡¨æƒ…çš„åŠ è½½å˜å¾—å¾ˆæ…¢ã€‚</p><h4 id="æ•ˆæœå›¾ï¼š"><a href="#æ•ˆæœå›¾ï¼š" class="headerlink" title="æ•ˆæœå›¾ï¼š"></a>æ•ˆæœå›¾ï¼š</h4><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/high-1/valine_final.png" alt=""></p><h4 id="7-æ·»åŠ è¯„è®ºé‚®ä»¶é€šçŸ¥"><a href="#7-æ·»åŠ è¯„è®ºé‚®ä»¶é€šçŸ¥" class="headerlink" title="7. æ·»åŠ è¯„è®ºé‚®ä»¶é€šçŸ¥"></a>7. æ·»åŠ è¯„è®ºé‚®ä»¶é€šçŸ¥</h4><p>åœ¨ leancloud æ§åˆ¶å°ï¼Œç‚¹å‡»äº‘å¼•æ“-éƒ¨ç½²-éƒ¨ç½²é¡¹ç›®</p><p>ç‚¹å‡» Gitéƒ¨ç½²ï¼Œè¾“å…¥åœ°å€ï¼š<a href="https://github.com/zhaojun1998/Valine-Admin" target="_blank" rel="noopener">https://github.com/zhaojun1998/Valine-Admin</a></p><p>ç‚¹å‡»æ‰‹åŠ¨éƒ¨ç½²-éƒ¨ç½²ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆã€‚</p><p>ç‚¹å‡»è®¾ç½®ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡å¦‚ä¸‹</p><table><thead><tr><th align="center">å˜é‡</th><th align="center">å€¼</th></tr></thead><tbody><tr><td align="center">ADMIN_URL</td><td align="center"># ä½ çš„è¯„è®ºç®¡ç†åœ°å€</td></tr><tr><td align="center">SENDER_NAME</td><td align="center"># åå­—</td></tr><tr><td align="center">SITE_NAME</td><td align="center"># ç«™ç‚¹åå­—</td></tr><tr><td align="center">SITE_URL</td><td align="center"># ç«™ç‚¹url</td></tr><tr><td align="center">SMTP_HOST</td><td align="center"># é‚®ç®±æœåŠ¡å™¨ ä¾‹å¦‚QQé‚®ç®±å¡« smtp.qq.com</td></tr><tr><td align="center">SMTP_PASS</td><td align="center"># é‚®ç®±å¯†ç ï¼Œä¸æ˜¯ç™»é™†é‚®ç®±ä½¿ç”¨çš„å¯†ç ï¼Œåœ¨é‚®ç®±çš„smtpè®¾ç½®ä¸­æŸ¥æ‰¾</td></tr><tr><td align="center">SMTP_PORT</td><td align="center"># ç«¯å£</td></tr><tr><td align="center">SMTP_SERVICE</td><td align="center"># é‚®ç®±æœåŠ¡å•†</td></tr><tr><td align="center">SMTP_USER</td><td align="center"># å‘é€é‚®ç®±ï¼Œç”¨äºå‘é€é€šçŸ¥é‚®ä»¶ï¼ŒåŒ…æ‹¬è¯„è®ºé€šçŸ¥å’Œå›å¤é€šçŸ¥</td></tr><tr><td align="center">TEMPLATE_NAME</td><td align="center"># ä¸»é¢˜ï¼Œç›®å‰æœ‰rainbowå’Œdefaultä¸¤ç§</td></tr><tr><td align="center">TO_EMAIL</td><td align="center"># ä¸»äººé‚®ç®±ï¼Œç”¨äºæ¥æ”¶è¯„è®ºé€šçŸ¥</td></tr></tbody></table><p>å¦‚ä¸‹</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/high-1/var.png" alt=""></p><p>è¯¦è§ <a href="http://www.zhaojun.im/hexo-valine-admin/" target="_blank" rel="noopener">http://www.zhaojun.im/hexo-valine-admin/</a></p><h3 id="äºŒã€å˜åŒ–çš„èƒŒæ™¯"><a href="#äºŒã€å˜åŒ–çš„èƒŒæ™¯" class="headerlink" title="äºŒã€å˜åŒ–çš„èƒŒæ™¯"></a>äºŒã€å˜åŒ–çš„èƒŒæ™¯</h3><p>ï¼ˆåŒ…æ‹¬ä¿®æ”¹èƒŒæ™¯éšæ—¶é—´å˜åŒ–ï¼Œæ ‡é¢˜æ å­—ä½“ã€èƒŒæ™¯é¢œè‰²éšèƒŒæ™¯å˜åŒ–ï¼Œé¡µé¢åº•éƒ¨ä¿¡æ¯éšèƒŒæ™¯å˜åŒ–ï¼‰</p><p>æ‰“å¼€ <code>./themes/next/source/css/_custom/custom.styl</code> æ–‡ä»¶ï¼Œåœ¨ <code>body</code> å‰é¢æ·»åŠ </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line">  --bgurl: ;</span><br><span class="line">  --brand-<span class="attribute">color</span>: rgb(<span class="number">106</span>,<span class="number">0</span>,<span class="number">95</span>);</span><br><span class="line">  --site-meta-<span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆè¿™é‡Œéœ€è¦åšè¿‡å‰é¢çš„ç¾åŒ–æ•™ç¨‹ä¸­çš„æ·»åŠ èƒŒæ™¯å›¾å’Œä¿®æ”¹æ ‡é¢˜é¢œè‰²èƒŒæ™¯çš„å·¥ä½œï¼Œè§<a href="/posts/blog-building/beautify-1/#2-æ·»åŠ é™æ€èƒŒæ™¯å›¾">Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹â€“ç¾åŒ–ç¯‡ï¼ˆ1)</a>ï¼‰</p><p>å°† <code>body</code> ä¸­çš„ <code>background</code> çš„é“¾æ¥ä¿®æ”¹ä¸º <code>var(--bgurl)</code></p><p>å°† <code>.site-meta</code> ä¸­çš„ <code>background</code> çš„é“¾æ¥ä¿®æ”¹ä¸º <code>var(--site-meta-color)</code> </p><p>å°† <code>brand</code> ä¸­çš„ <code>color</code> ä¿®æ”¹ä¸º <code>var(--brand-color)</code></p><p>æ‰“å¼€ <code>./theme/snext/css/_common/components/footer/footer.styl</code> æ–‡ä»¶</p><p>åœ¨æœ€å‰é¢æ·»åŠ </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line"> --footer-<span class="attribute">color</span>: <span class="number">#1e1e1e</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°† <code>footer</code> ä¸­çš„ <code>color</code> æ”¹ä¸º <code>var(--footer-color)</code></p><br/><p>åœ¨ <code>./themes/next/source/js/src/</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶ <code>color.js</code> ï¼Œåœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bg_num=<span class="number">31</span>,time=<span class="number">600000</span>,bg_id=(<span class="built_in">Math</span>.ceil(<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() / time) % bg_num + <span class="number">1</span>).toString();</span><br><span class="line"><span class="comment">// var url="https://blog-roc.oss-cn-hongkong.aliyuncs.com/background/bj" + bg_id + ".jpg";</span></span><br><span class="line"><span class="keyword">var</span> url=<span class="string">"/images/background/bj"</span> + bg_id + <span class="string">".jpg"</span>;</span><br><span class="line"><span class="built_in">document</span>.documentElement.style.setProperty(<span class="string">'--bgurl'</span>, <span class="string">"url("</span>+url+<span class="string">")"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"èƒŒæ™¯idï¼ˆæ¯"</span>+time/<span class="number">60000</span>+<span class="string">"åˆ†é’Ÿæ”¹å˜ä¸€æ¬¡ï¼‰ï¼š"</span>+bg_id);</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> root = <span class="built_in">document</span>.documentElement;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> TEXTColor = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> TEXTColor) <span class="keyword">return</span> obj;</span><br><span class="line">        <span class="keyword">if</span>(!(<span class="keyword">this</span> <span class="keyword">instanceof</span> TEXTColor)) <span class="keyword">return</span> <span class="keyword">new</span> TEXTColor(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> exports !== <span class="string">'undefined'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">module</span> !== <span class="string">'undefined'</span> &amp;&amp; <span class="built_in">module</span>.exports) &#123;</span><br><span class="line">            exports = <span class="built_in">module</span>.exports = TEXTColor;</span><br><span class="line">        &#125;</span><br><span class="line">        exports.TEXTColor = TEXTColor;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        root.TEXTColor = TEXTColor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">resBgColor</span>(<span class="params">rgbArr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> color = <span class="number">0.213</span> * rgbArr[<span class="number">0</span>] + <span class="number">0.715</span> * rgbArr[<span class="number">1</span>] + <span class="number">0.072</span> * rgbArr[<span class="number">2</span>] &gt; <span class="number">255</span> / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> color? <span class="string">'#000000'</span>: <span class="string">'#ffffff'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TEXTColor.findTextColor = <span class="function"><span class="keyword">function</span> <span class="title">findTextColor</span>(<span class="params">colorValue</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// #123456æˆ–è€…rgb(12,34,56)è½¬ä¸ºrgbæ•°ç»„[12,34,56]</span></span><br><span class="line">        <span class="keyword">const</span> reg = <span class="regexp">/^#([0-9a-fA-f]&#123;3&#125;|[0-9a-fA-f]&#123;6&#125;)$/</span>;</span><br><span class="line">        <span class="keyword">var</span> that = colorValue;</span><br><span class="line">        <span class="keyword">if</span> (<span class="regexp">/^(rgb|RGB)/</span>.test(that)) &#123;</span><br><span class="line">            <span class="comment">// å¤„ç†rgbè½¬ä¸ºæ•°ç»„</span></span><br><span class="line">            <span class="keyword">var</span> aColor = that.replace(<span class="regexp">/(?:\(|\)|rgb|RGB)*/g</span>, <span class="string">""</span>).split(<span class="string">","</span>);</span><br><span class="line">            <span class="keyword">return</span> resBgColor(aColor);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (reg.test(that)) &#123;</span><br><span class="line">            <span class="comment">// å¤„ç†åå…­è¿›åˆ¶è‰²å€¼</span></span><br><span class="line">            <span class="keyword">var</span> sColor = colorValue.toLowerCase();</span><br><span class="line">            <span class="keyword">if</span> (sColor &amp;&amp; reg.test(sColor)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (sColor.length === <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> sColorNew = <span class="string">"#"</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="number">4</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">                    sColorNew += sColor.slice(i, i + <span class="number">1</span>).concat(sColor.slice(i, i + <span class="number">1</span>));</span><br><span class="line">                &#125;</span><br><span class="line">                sColor = sColorNew;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å¤„ç†å…­ä½çš„é¢œè‰²å€¼</span></span><br><span class="line">            <span class="keyword">var</span> sColorChange = [];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="number">7</span>; i += <span class="number">2</span>) &#123;</span><br><span class="line">                sColorChange.push(<span class="built_in">parseInt</span>(<span class="string">"0x"</span> + sColor.slice(i, i + <span class="number">2</span>)));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> resBgColor(sColorChange);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">hexToRgb</span>(<span class="params">hex</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> result = <span class="regexp">/^#?([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)$/i</span>.exec(hex);</span><br><span class="line">        <span class="keyword">return</span> result ? [</span><br><span class="line">          <span class="built_in">parseInt</span>(result[<span class="number">1</span>], <span class="number">16</span>),</span><br><span class="line">          <span class="built_in">parseInt</span>(result[<span class="number">2</span>], <span class="number">16</span>),</span><br><span class="line">          <span class="built_in">parseInt</span>(result[<span class="number">3</span>], <span class="number">16</span>)</span><br><span class="line">         ] : <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">componentToHex</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> hex = c.toString(<span class="number">16</span>);</span><br><span class="line">        <span class="keyword">return</span> hex.length == <span class="number">1</span> ? <span class="string">"0"</span> + hex : hex;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">rgbToHex</span>(<span class="params">r, g, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"#"</span> + componentToHex(r) + componentToHex(g) + componentToHex(b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//some colors from https://gist.github.com/ruanyf/e6c896df1c24d0236eb93d65144f2907</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">hksubcolor</span>(<span class="params">rgbcolor</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> color_list=[<span class="string">"#b51921"</span>,<span class="string">"#b2103e"</span>,<span class="string">"#c41832"</span>,<span class="string">"#ef342a"</span>,<span class="string">"#a84d18"</span>,<span class="string">"#f68f26"</span>,<span class="string">"#faca07"</span>,<span class="string">"#07594a"</span>,<span class="string">"#4ba946"</span>,<span class="string">"#5fc0a7"</span>,<span class="string">"#0376c2"</span>,<span class="string">"#c41832"</span>,<span class="string">"#c41832"</span>,<span class="string">"#be3223"</span>,<span class="string">"#f45f7c"</span>,<span class="string">"#d16f20"</span>,<span class="string">"#ffd00d"</span>,<span class="string">"#076750"</span>,<span class="string">"#7abf45"</span>,<span class="string">"#75c7b9"</span>,<span class="string">"#077cb0"</span>,<span class="string">"#29409a"</span>,<span class="string">"#ee1e4f"</span>,<span class="string">"#d2174a"</span>,<span class="string">"#f79d8b"</span>,<span class="string">"#ce7020"</span>,<span class="string">"#e9a519"</span>,<span class="string">"#fddf55"</span>,<span class="string">"#076a66"</span>,<span class="string">"#a7c299"</span>,<span class="string">"#098ec4"</span>,<span class="string">"#89d2e3"</span>,<span class="string">"#7572a7"</span>,<span class="string">"#f7b1bf"</span>,<span class="string">"#f67e2a"</span>,<span class="string">"#f57125"</span>,<span class="string">"#fbaf37"</span>,<span class="string">"#fde14e"</span>,<span class="string">"#076c53"</span>,<span class="string">"#b2d68c"</span>,<span class="string">"#8fd1cd"</span>,<span class="string">"#0798c7"</span>,<span class="string">"#9597ca"</span>,<span class="string">"#69686d"</span>,<span class="string">"#f47a25"</span>,<span class="string">"#fcba5d"</span>,<span class="string">"#f8d29d"</span>,<span class="string">"#ffe285"</span>,<span class="string">"#077e7a"</span>,<span class="string">"#d0e4a9"</span>,<span class="string">"#81cdc1"</span>,<span class="string">"#22b6ed"</span>,<span class="string">"#b4d6f2"</span>,<span class="string">"#c077af"</span>,<span class="string">"#bbbfc2"</span>,<span class="string">"#fed7a6"</span>,<span class="string">"#fcae62"</span>,<span class="string">"#ffe901"</span>,<span class="string">"#078e82"</span>,<span class="string">"#d7df3f"</span>,<span class="string">"#89d3de"</span>,<span class="string">"#22b6ed"</span>,<span class="string">"#b295c5"</span>,<span class="string">"#c5c4c9"</span>,<span class="string">"#d1d5d8"</span>,<span class="string">"#f2f1f6"</span>,<span class="string">"#efe946"</span>,<span class="string">"#fff455"</span>,<span class="string">"#ffe901"</span>,<span class="string">"#4c7020"</span>,<span class="string">"#c4e0e1"</span>,<span class="string">"#79bce7"</span>,<span class="string">"#b7e1fa"</span>,<span class="string">"#c7a7d2"</span>,<span class="string">"#e5e4e9"</span>,<span class="string">"#f2f1f6"</span>,<span class="string">"#f2f2f6"</span>,<span class="string">"#1fb27f"</span>,<span class="string">"#b5a87f"</span>,<span class="string">"#07b195"</span>,<span class="string">"#d7df3f"</span>,<span class="string">"#6dade2"</span>,<span class="string">"#4dc7ec"</span>,<span class="string">"#a8b7d8"</span>,<span class="string">"#b8a1a9"</span>,<span class="string">"#f8c9cb"</span>,<span class="string">"#f2f1f6"</span>];</span><br><span class="line">        <span class="keyword">var</span> result = hexToRgb(color_list[<span class="number">0</span>]);</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> arr[<span class="number">0</span>]+arr[<span class="number">1</span>]+arr[<span class="number">2</span>];</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;color_list.length;i+=<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> c=color_list[i];</span><br><span class="line">            <span class="keyword">var</span> rgbc=hexToRgb(c);</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(sum(result)-sum(rgbcolor))&gt;<span class="built_in">Math</span>.abs(sum(rgbc)-sum(rgbcolor))) &#123;</span><br><span class="line">                result=rgbc;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rgbToHex(result[<span class="number">0</span>],result[<span class="number">1</span>],result[<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">get_bg_color</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> colorThief = <span class="keyword">new</span> ColorThief();</span><br><span class="line">            <span class="keyword">const</span> bg_img = <span class="keyword">new</span> Image;</span><br><span class="line">            bg_img.crossOrigin = <span class="string">'Anonymous'</span>;</span><br><span class="line">            bg_img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">var</span> result = colorThief.getColor(bg_img)</span><br><span class="line">                <span class="keyword">var</span> bg_color = <span class="string">"#"</span>+result[<span class="number">0</span>].toString(<span class="number">16</span>) + result[<span class="number">1</span>].toString(<span class="number">16</span>) + result[<span class="number">2</span>].toString(<span class="number">16</span>);</span><br><span class="line">                resolve(bg_color);</span><br><span class="line">                <span class="keyword">var</span> level = <span class="number">1</span>;</span><br><span class="line">                <span class="built_in">document</span>.documentElement.style.setProperty(<span class="string">"--brand-color"</span>, <span class="string">"rgb("</span>+result[<span class="number">0</span>]*level+<span class="string">","</span>+result[<span class="number">1</span>]*level+<span class="string">","</span>+result[<span class="number">2</span>]*level+<span class="string">")"</span>);</span><br><span class="line">                <span class="built_in">document</span>.documentElement.style.setProperty(<span class="string">"--site-meta-color"</span>, hksubcolor([<span class="number">255</span>-result[<span class="number">0</span>]*level,<span class="number">255</span>-result[<span class="number">1</span>]*level,<span class="number">255</span>-result[<span class="number">2</span>]*level]));</span><br><span class="line">            &#125;</span><br><span class="line">            bg_img.src = url;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">set_text_color</span>(<span class="params">bg_color</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">'function'</span> &amp;&amp; define.amd) &#123;</span><br><span class="line">            define(<span class="string">'color-js'</span> ,[], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> TEXTColor;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> textcolor = TEXTColor.findTextColor(bg_color);</span><br><span class="line">        <span class="built_in">document</span>.documentElement.style.setProperty(<span class="string">"--footer-color"</span>, textcolor);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    (<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> bg_color = <span class="keyword">await</span> get_bg_color();</span><br><span class="line">        set_text_color(bg_color);</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p><strong>å…¶ä¸­ç¬¬ä¸€è¡Œçš„ <code>bg_num</code> æ˜¯èƒŒæ™¯å›¾çš„æ•°é‡ï¼Œ<code>time</code> æ˜¯åˆ‡æ¢æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ä¿®æ”¹ã€‚</strong></p><p>æ‰“å¼€ <code>./themes/next/layout/_layout.swig</code> æ–‡ä»¶ï¼Œåœ¨headæ ‡ç­¾å†…æ·»åŠ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--æ ¹æ®èƒŒæ™¯åˆ‡æ¢footeré¢œè‰²--&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script type="module" src="/</span>js/src/color.js<span class="string">"&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°†èƒŒæ™¯å›¾å­˜æ”¾åˆ° <code>./themes/next/source/images/background/</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ä¾æ¬¡é‡å‘½åä¸º <code>bj+ç¼–å·.jpg</code> ï¼ˆå¦‚ <code>bj1.jpg</code>ã€<code>bj2.jpg</code>ï¼‰å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> 3.æå‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿä½œä¸šä¸€</title>
      <link href="/posts/csapp/homework1/"/>
      <url>/posts/csapp/homework1/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½œä¸š1"><a href="#ä½œä¸š1" class="headerlink" title="ä½œä¸š1"></a>ä½œä¸š1</h1><h3 id="2-9"><a href="#2-9" class="headerlink" title="2.9"></a>2.9</h3><p>A. </p><table><thead><tr><th align="center">é¢œè‰²ï¼ˆRGBï¼‰</th><th align="center">è¡¥ï¼ˆRGB)</th></tr></thead><tbody><tr><td align="center">é»‘è‰²(000)</td><td align="center">ç™½è‰²(111)</td></tr><tr><td align="center">è“è‰²(001)</td><td align="center">é»„è‰²(110)</td></tr><tr><td align="center">ç»¿è‰²(010)</td><td align="center">çº¢ç´«è‰²(101)</td></tr><tr><td align="center">è“ç»¿è‰²(011)</td><td align="center">çº¢è‰²(100)</td></tr><tr><td align="center">çº¢è‰²(100)</td><td align="center">è“ç»¿è‰²(011)</td></tr><tr><td align="center">çº¢ç´«è‰²(101)</td><td align="center">ç»¿è‰²(010)</td></tr><tr><td align="center">é»„è‰²(110)</td><td align="center">è“è‰²(001)</td></tr><tr><td align="center">ç™½è‰²(111)</td><td align="center">é»‘è‰²(000)</td></tr></tbody></table><p>B.</p><p>è“è‰² | ç»¿è‰² = è“ç»¿è‰²(001|010=011)</p><p>é»„è‰² &amp; è“ç»¿è‰² = ç»¿è‰²(110&amp;011=010)</p><p>çº¢è‰² ^ çº¢ç´«è‰² = è“è‰²(100^101=001)</p><h3 id="2-14"><a href="#2-14" class="headerlink" title="2.14"></a>2.14</h3><p>x = 0x66 = 0110 0110<sub>(2)</sub></p><p>y = 0x39 = 0011 1001<sub>(2)</sub></p><p>x &amp; y = 0010 0000<sub>(2)</sub> = 0x20</p><p>x | y = 0111 1111<sub>(2)</sub> = 0x7f</p><p>~x | ~y = 1101 1111<sub>(2)</sub> = 0xdf</p><table><thead><tr><th align="center">è¡¨è¾¾å¼</th><th align="center">å€¼</th><th align="center">è¡¨è¾¾å¼</th><th align="center">å€¼</th></tr></thead><tbody><tr><td align="center">x &amp; y</td><td align="center">0x20</td><td align="center">x &amp;&amp; y</td><td align="center">0x01</td></tr><tr><td align="center">x | y</td><td align="center">0x7f</td><td align="center">x || y</td><td align="center">0x01</td></tr><tr><td align="center">-x | -y</td><td align="center">0xdf</td><td align="center">!x || !y</td><td align="center">0x00</td></tr><tr><td align="center">x &amp; !y</td><td align="center">0x00</td><td align="center">x &amp;&amp; -y</td><td align="center">0x01</td></tr></tbody></table><h3 id="2-15"><a href="#2-15" class="headerlink" title="2.15"></a>2.15</h3><p>!(x^y)ï¼Œxå’Œyçš„æ¯ä¸€ä½éƒ½ç›¸åŒæ—¶è¿”å›1.</p><h3 id="2-18"><a href="#2-18" class="headerlink" title="2.18"></a>2.18</h3><p>0x2e0=736</p><p>-0x58=-88</p><p>0x28=40</p><p>-0x30=-48</p><p>0x78=120</p><p>0x88=136</p><p>0x1f8=504</p><p>0x8=8</p><p>0xc0=192</p><p>-0x48=-72</p><h3 id="2-21"><a href="#2-21" class="headerlink" title="2.21"></a>2.21</h3><table><thead><tr><th align="center">è¡¨è¾¾å¼</th><th align="center">ç±»å‹</th><th align="center">æ±‚å€¼</th></tr></thead><tbody><tr><td align="center">-2147483647-1 == 2147483648U</td><td align="center">æ— ç¬¦å·</td><td align="center">1</td></tr><tr><td align="center">-2147483647-1 &lt; 2147483647</td><td align="center">æœ‰ç¬¦å·</td><td align="center">1</td></tr><tr><td align="center">-2147483647-1U &lt; 2147483647</td><td align="center">æ— ç¬¦å·</td><td align="center">0</td></tr><tr><td align="center">-2147483647-1 &lt; -2147483647</td><td align="center">æœ‰ç¬¦å·</td><td align="center">1</td></tr><tr><td align="center">-2147483647-1U &lt; -2147483647</td><td align="center">æ— ç¬¦å·</td><td align="center">1</td></tr></tbody></table><h3 id="2-23"><a href="#2-23" class="headerlink" title="2.23"></a>2.23</h3><p>A.</p><table><thead><tr><th align="center">w</th><th align="center">fun1(w)</th><th align="center">fun2(w)</th></tr></thead><tbody><tr><td align="center">0x00000076</td><td align="center">118</td><td align="center">118</td></tr><tr><td align="center">0x87654321</td><td align="center">33</td><td align="center">33</td></tr><tr><td align="center">0x000000C9</td><td align="center">201</td><td align="center">-55</td></tr><tr><td align="center">0xEDCBA987</td><td align="center">135</td><td align="center">-121</td></tr></tbody></table><p>B.</p><p>fun1ä»wçš„ä½8ä½ä¸­æå–å€¼å¾—åˆ°ä¸€ä¸ª0ï½255çš„æ•´æ•°ã€‚fun2ä»wçš„ä½8ä½ä¸­æå–å€¼å†è¿›è¡Œç¬¦å·æ‰©å±•ï¼Œå¾—åˆ°ä¸€ä¸ª -128ï½127çš„æ•´æ•°ã€‚</p><h3 id="2-25"><a href="#2-25" class="headerlink" title="2.25"></a>2.25</h3><p>å½“ <code>length</code> ä¸º <code>0</code> æ—¶ï¼Œç”±äº <code>lenght</code> ä¸ºæ— ç¬¦å·æ•°ï¼Œ <code>length-1</code> ä¸º <code>UMax</code> ï¼Œ<code>i &lt;= length-1</code>  ä¸º <code>1</code> ï¼Œå¾ªç¯ä½“ä¼šè¢«æ‰§è¡Œï¼Œäºæ˜¯ä¼šå‡ºç° <code>a[1]</code> ç­‰ï¼Œå‘ç”Ÿå†…å­˜é”™è¯¯ã€‚</p><h3 id="2-26"><a href="#2-26" class="headerlink" title="2.26"></a>2.26</h3><p>A. å½“ s æ¯” t çŸ­æ—¶ï¼Œä¼šè¿”å›1</p><p>B. å½“ s æ¯” t çŸ­æ—¶ï¼Œ <code>strlen(s) - strlen(t)</code> ç»“æœä¸ºè´Ÿæ•°ï¼Œä½†ç”±äºæ˜¯æ— ç¬¦å·æ•°ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯å¾ˆå¤§çš„ä¸€ä¸ªæ­£æ•°ï¼Œäºæ˜¯è¿”å›1</p><p>C. å°† <code>return strlen(s) - strlen(t) &gt; 0;</code> æ”¹ä¸º <code>return strlen(s) &gt; strlen(t);</code></p>]]></content>
      
      
      <categories>
          
          <category> ä½œä¸š </category>
          
          <category> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS 7 è®¾ç½®å®šæ—¶ä»»åŠ¡</title>
      <link href="/posts/crontab/"/>
      <url>/posts/crontab/</url>
      
        <content type="html"><![CDATA[<h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°ã€€"></a>æ¦‚è¿°ã€€</h3><p>ã€€ã€€å°±åƒåœ¨windowsä¸Šæœ‰è®¡åˆ’ä»»åŠ¡ä¸€æ ·ï¼Œcentos7 è‡ªç„¶ä¹Ÿæœ‰è®¡åˆ’ä»»åŠ¡ï¼Œè€Œä¸”è®¾ç½®æ›´ä¸ºçµæ´»ï¼Œå¥½ç”¨ã€‚åœ¨centos7 ä¸Šå¯ä»¥åˆ©ç”¨crontab æ¥æ‰§è¡Œè®¡åˆ’ä»»åŠ¡ï¼Œ ä¾èµ–ä¸ crond çš„ç³»ç»ŸæœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„ï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹çŠ¶æ€ï¼Œå¯åŠ¨ï¼Œåœæ­¢ã€‚</p><a id="more"></a><h3 id="å®‰è£…-crontabsæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯"><a href="#å®‰è£…-crontabsæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯" class="headerlink" title="å®‰è£… crontabsæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯"></a>å®‰è£… crontabsæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install crontabs</span><br><span class="line">systemctl <span class="built_in">enable</span> crond ï¼ˆè®¾ä¸ºå¼€æœºå¯åŠ¨ï¼‰</span><br><span class="line">systemctl start crondï¼ˆå¯åŠ¨crondæœåŠ¡ï¼‰</span><br><span class="line">systemctl status crond ï¼ˆæŸ¥çœ‹çŠ¶æ€ï¼‰</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡"><a href="#è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡" class="headerlink" title="è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡"></a>è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡</h3><p><code>vi /etc/crontab</code><br>å¯ä»¥çœ‹åˆ°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Example of job definition:</span><br><span class="line">.---------------- minute (0 - 59)</span><br><span class="line">| .------------- hour (0 - 23)</span><br><span class="line">| | .---------- day of month (1 - 31)</span><br><span class="line">| | | .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class="line">| | | | .---- day of week (0 - 6) (Sunday&#x3D;0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="line">| | | | |</span><br><span class="line">* * * * * user-name command to be executed</span><br></pre></td></tr></table></figure><p>å³ï¼š<br>åˆ†é’Ÿ(0-59) å°æ—¶(0-23) æ—¥(1-31) æœˆ(11-12) æ˜ŸæœŸ(0-6,0è¡¨ç¤ºå‘¨æ—¥) ç”¨æˆ·å è¦æ‰§è¡Œçš„å‘½ä»¤</p><ul><li><code>*/30 * * * root /usr/local/mycommand.sh</code> (æ¯å¤©ï¼Œæ¯30åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ mycommandå‘½ä»¤)</li><li><code>* 3 * * * root /usr/local/mycommand.sh</code> (æ¯å¤©å‡Œæ™¨ä¸‰ç‚¹ï¼Œæ‰§è¡Œå‘½ä»¤è„šæœ¬ï¼ŒPS:è¿™é‡Œç”±äºç¬¬ä¸€ä¸ªçš„åˆ†é’Ÿæ²¡æœ‰è®¾ç½®ï¼Œé‚£ä¹ˆå°±ä¼šæ¯å¤©å‡Œæ™¨3ç‚¹çš„æ¯åˆ†é’Ÿéƒ½æ‰§è¡Œä¸€æ¬¡å‘½ä»¤)</li><li><code>0 3 * * * root /usr/local/mycommand.sh</code> (è¿™æ ·å°±æ˜¯æ¯å¤©å‡Œæ™¨ä¸‰ç‚¹æ•´æ‰§è¡Œä¸€æ¬¡å‘½ä»¤è„šæœ¬)</li><li><code>*/10 11-13 * * * root /usr/local/mycommand.sh</code> (æ¯å¤©11ç‚¹åˆ°13ç‚¹ä¹‹é—´ï¼Œæ¯10åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤è„šæœ¬ï¼Œè¿™ä¸€ç§ç”¨æ³•ä¹Ÿå¾ˆå¸¸ç”¨)</li><li><code>10-30 * * * * root /usr/local/mycommand.sh</code> (æ¯å°æ—¶çš„10-30åˆ†é’Ÿï¼Œæ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤è„šæœ¬ï¼Œå…±æ‰§è¡Œ20æ¬¡)</li><li><code>10,30 * * * * * root /usr/local/mycommand.sh</code> (æ¯å°æ—¶çš„10,30åˆ†é’Ÿï¼Œåˆ†åˆ«æ‰§è¡Œä¸€æ¬¡å‘½ä»¤è„šæœ¬ï¼Œå…±æ‰§è¡Œ2æ¬¡ï¼‰</li></ul><h3 id="ä¿å­˜ç”Ÿæ•ˆ"><a href="#ä¿å­˜ç”Ÿæ•ˆ" class="headerlink" title="ä¿å­˜ç”Ÿæ•ˆ"></a>ä¿å­˜ç”Ÿæ•ˆ</h3><p>åŠ è½½ä»»åŠ¡,ä½¿ä¹‹ç”Ÿæ•ˆï¼š<code>crontab /etc/crontab</code></p><p>æŸ¥çœ‹ä»»åŠ¡ï¼š<code>crontab -l</code><br>$ crontab -u ç”¨æˆ·å -l ï¼ˆåˆ—å‡ºç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡åˆ—è¡¨ï¼‰</p><p>PSï¼šç‰¹åˆ«æ³¨æ„ï¼Œcrondçš„ä»»åŠ¡è®¡åˆ’ï¼Œ æœ‰å¹¶ä¸ä¼šè°ƒç”¨ç”¨æˆ·è®¾ç½®çš„ç¯å¢ƒå˜é‡ï¼Œå®ƒæœ‰è‡ªå·±çš„ç¯å¢ƒå˜é‡ï¼Œå½“ä½ ç”¨åˆ°ä¸€äº›å‘½ä»¤æ—¶ï¼Œæ¯”å¦‚mysqldumpç­‰éœ€è¦ç¯å¢ƒå˜é‡çš„å‘½ä»¤ï¼Œæ‰‹å·¥æ‰§è¡Œè„šæœ¬æ—¶æ˜¯æ­£å¸¸çš„ï¼Œä½†ç”¨crondæ‰§è¡Œçš„æ—¶å€™å°±ä¼šä¸è¡Œï¼Œè¿™æ—¶ä½ è¦ä¹ˆå†™å®Œæ•´çš„ç»å¯¹è·¯å¾„ï¼Œè¦ä¹ˆå°†ç¯å¢ƒå˜é‡æ·»åŠ åˆ° /etc/crontab ä¸­ã€‚</p><p>å¥½äº†ï¼Œè®¡åˆ’ä»»åŠ¡å°±æ˜¯è¿™ä¹ˆç®€å•äº†ï¼Œä½†æ˜¯è®¡åˆ’ä»»åŠ¡ï¼Œæ‰§è¡Œçš„è¯­å¥å¦‚æœæ˜¯å¤šæ¡ï¼Œåˆ™éœ€è¦ç”¨è¯shellè„šæœ¬ï¼Œè‡ªå·±å…ˆå†™ä¸€ä¸ªshellè„šæœ¬ï¼Œç„¶ååœ¨è®¡åˆ’ä»»åŠ¡ä¸­ï¼Œæ‰§è¡Œè¿™ä¸ªè„šæœ¬å³å¯ã€‚è‡³äºshellè„šæœ¬çš„å†™æ³•ï¼Œ è¿™é‡Œä¸èµ˜è¿°ã€‚</p><hr><p>å‚è€ƒé“¾æ¥</p><p><a href="https://blog.csdn.net/qianxing111/article/details/80091187" target="_blank" rel="noopener">https://blog.csdn.net/qianxing111/article/details/80091187</a></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> CentOS 7 </tag>
            
            <tag> å®šæ—¶ä»»åŠ¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¶…å¥½ç”¨çš„PCç«¯pdfåšç¬”è®°è½¯ä»¶</title>
      <link href="/posts/recommend/drawboardpdf/"/>
      <url>/posts/recommend/drawboardpdf/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€ä¸‹è½½"><a href="#ä¸€ã€ä¸‹è½½" class="headerlink" title="ä¸€ã€ä¸‹è½½"></a>ä¸€ã€ä¸‹è½½</h3><p>åœ¨å¾®è½¯åº”ç”¨å•†åº—æœç´¢ DrawboardPDFï¼Œ å³å¯ä¸‹è½½è¿™æ¬¾è½¯ä»¶ã€‚</p><p>ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡» <a href="https://www.drawboard.com/pdf/" target="_blank" rel="noopener">DradboardPDF</a> ä¸‹è½½ã€‚</p><p>è½¯ä»¶æœ‰å…è´¹ç‰ˆå’Œä»˜è´¹ç‰ˆä¸¤ç§ï¼Œä¸è¿‡å…è´¹ç‰ˆå·²ç»å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„å¤§éƒ¨åˆ†éœ€æ±‚ã€‚</p><h3 id="äºŒã€ç®€ä»‹"><a href="#äºŒã€ç®€ä»‹" class="headerlink" title="äºŒã€ç®€ä»‹"></a>äºŒã€ç®€ä»‹</h3><h4 id="1-ç•Œé¢"><a href="#1-ç•Œé¢" class="headerlink" title="1. ç•Œé¢"></a>1. ç•Œé¢</h4><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/recommend/jiemian.png" alt=""></p><p>æ•´ä½“ç•Œé¢ä¸€çœ‹å°±æ˜¯UWPçš„é£æ ¼ï¼Œè¿˜ç®—æ¯”è¾ƒç®€æ´ã€‚</p><h4 id="2-åŠŸèƒ½"><a href="#2-åŠŸèƒ½" class="headerlink" title="2. åŠŸèƒ½"></a>2. åŠŸèƒ½</h4><p>å¯ä»¥çœ‹åˆ°å³ä¸Šè§’çš„åœ†ç›˜ï¼Œå…¶ä¸­æœ‰å¾ˆå¤šå¸¸ç”¨çš„ç¼–è¾‘åŠŸèƒ½ï¼ˆå¯æƒœå…¶ä»–å¾ˆå¤šPDFæŸ¥çœ‹å™¨æ²¡æœ‰ï¼‰ï¼ŒåŒ…æ‹¬ç”»ç¬”ï¼Œè§å…‰ç¬”ï¼Œæ©¡çš®æ“¦ï¼Œæ–‡æœ¬æ·»åŠ ï¼Œå›¾ç‰‡æ·»åŠ ï¼Œå½¢çŠ¶ï¼Œä¹¦ç­¾ï¼Œæ³¨é‡Šï¼Œç­¾åçš„æ·»åŠ ç­‰ç­‰ï¼ˆéƒ¨åˆ†æ”¶åœ¨å·¥å…·çš„ä¸‹ä¸€å±‚ï¼‰ï¼Œè¿˜æœ‰æ¿€å…‰ç¬”åŠŸèƒ½ï¼Œå¹¶ä¸”å„ç§ç”»ç¬”å¯ä»¥è°ƒèŠ‚ç²—ç»†é¢œè‰²ç­‰ç­‰ã€‚åŸºæœ¬ä¸Šå·²ç»èƒ½å¤Ÿæ»¡è¶³æˆ‘çš„æ‰€æœ‰éœ€æ±‚ã€‚</p><p>æ­¤å¤–ï¼Œå¯ä»¥çœ‹åˆ°å·¦ä¾§è¿˜æœ‰ä¸€ä¸ªå¿«æ·å·¥å…·æ ï¼Œå¯ä»¥æŠŠè‡ªå·±å¸¸ç”¨çš„å·¥å…·æ”¶è—åœ¨å·¦ä¾§çš„å¿«æ·å·¥å…·æ ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/recommend/gongneng.png" alt=""></p><p>å¯ä»¥è¯´æ˜¯ä¸ºæ•°ä¸å¤šçš„è‰¯å¿ƒè½¯ä»¶~</p><h4 id="3-ä¸è¶³"><a href="#3-ä¸è¶³" class="headerlink" title="3. ä¸è¶³"></a>3. ä¸è¶³</h4><p>å¯åŠ¨æ—¶è¾ƒæ…¢ï¼Œå»ºè®®åªæ˜¯çœ‹çš„æ—¶å€™ä½¿ç”¨è€ç‰ˆedgeæˆ–è€…Sumatra PDFï¼Œéœ€è¦ç¼–è¾‘çš„æ—¶å€™å†ä½¿ç”¨drawboard PDFã€‚</p>]]></content>
      
      
      <categories>
          
          <category> recommend </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PDF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--ç¾åŒ–ç¯‡ï¼ˆ4)</title>
      <link href="/posts/blog-building/beautify-4/"/>
      <url>/posts/blog-building/beautify-4/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€æ·»åŠ "><a href="#ä¸€ã€æ·»åŠ " class="headerlink" title="ä¸€ã€æ·»åŠ "></a>ä¸€ã€æ·»åŠ </h3><p>ä»GitHubä¸Šä¸‹è½½å¼ ä¹¦æ¨µå¤§ä½¬çš„<a href="https://github.com/stevenjoezhang/live2d-widget" target="_blank" rel="noopener">live2d-widget</a> ï¼Œä¿å­˜åˆ° <code>./themes/next/source</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨åšå®¢æ–‡ä»¶å¤¹æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/stevenjoezhang/live2d-widget.git themes/next/<span class="built_in">source</span>/live2d-widget</span><br></pre></td></tr></table></figure><p>æ‰“å¼€å…¶ä¸­çš„ <code>autoload.js</code> æ–‡ä»¶ï¼Œå°†ç¬¬ä¸€è¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> live2d_path = <span class="string">"https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/"</span>;</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šæ‰ï¼Œå°†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;const live2d_path &#x3D; &quot;&#x2F;live2d-widget&#x2F;&quot;;</span><br></pre></td></tr></table></figure><p>å–æ¶ˆæ³¨é‡Šã€‚</p><p>æŸ¥æ‰¾ <code>apiPath</code> ï¼Œå°†å…¶å–æ¶ˆæ³¨é‡Šï¼Œå¹¶å°† <code>cdnPath</code> ä¸€è¡Œæ³¨é‡Šæ‰</p><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>æ·»åŠ  </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>åœ¨ <code>./themes/next/layout/_layout.swig</code> æ–‡ä»¶çš„ <code>&lt;head&gt;</code> æ ‡ç­¾å†…æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--çœ‹æ¿å¨˜--&gt;</span></span><br><span class="line">&#123;% if theme.live2d.enable %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/live2d-widget/autoload.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒã€ä¿®æ”¹é…ç½®"><a href="#äºŒã€ä¿®æ”¹é…ç½®" class="headerlink" title="äºŒã€ä¿®æ”¹é…ç½®"></a>äºŒã€ä¿®æ”¹é…ç½®</h3><h4 id="1-ç§»åˆ°å³ä¾§"><a href="#1-ç§»åˆ°å³ä¾§" class="headerlink" title="1. ç§»åˆ°å³ä¾§"></a>1. ç§»åˆ°å³ä¾§</h4><p>é»˜è®¤æ˜¯åœ¨å·¦ä¾§ï¼Œå¦‚æœæƒ³è¦ç§»åˆ°å³ä¾§ï¼Œå¯ä»¥ç‚¹å‡» <a href="/live2d-widget/waifu-right.css">å³ä¾§é…ç½®css</a> ä¿å­˜åˆ°æœ¬åœ° <code>./themes/next/source/live2d-widget</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶å°†åŸæ¥çš„ <code>waifu.css</code> é‡å‘½åä¸º <code>waifu-left.css</code> ã€‚</p><p>åœ¨ <code>autoload.js</code> æ–‡ä»¶ä¸­æŸ¥æ‰¾ <code>waifu.css</code> ï¼Œä¿®æ”¹ä¸º <code>waifu-right.css</code> å³å¯ã€‚</p><h4 id="2-ä¿®æ”¹å…¶ä»–çš„ä¸€äº›é…ç½®"><a href="#2-ä¿®æ”¹å…¶ä»–çš„ä¸€äº›é…ç½®" class="headerlink" title="2. ä¿®æ”¹å…¶ä»–çš„ä¸€äº›é…ç½®"></a>2. ä¿®æ”¹å…¶ä»–çš„ä¸€äº›é…ç½®</h4><p>å¼ ä¹¦æ¨µå¤§ä½¬çš„é…ç½®æœ¬èº«å·²ç»ä¸é”™äº†ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¸ªäººè§‰å¾—ä¸å¤ªå¥½ï¼Œäºæ˜¯ç¨ä½œä¿®æ”¹</p><h5 id="1ï¼‰ä¿®æ”¹é»˜è®¤æ¨¡å‹å’Œæè´¨"><a href="#1ï¼‰ä¿®æ”¹é»˜è®¤æ¨¡å‹å’Œæè´¨" class="headerlink" title="1ï¼‰ä¿®æ”¹é»˜è®¤æ¨¡å‹å’Œæè´¨"></a>1ï¼‰ä¿®æ”¹é»˜è®¤æ¨¡å‹å’Œæè´¨</h5><p>åœ¨ <code>waifu-tips.js</code> æ–‡ä»¶ä¸­æ‰¾åˆ°ä»¥ä¸‹å†…å®¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (modelId === <span class="literal">null</span>) &#123;</span><br><span class="line"><span class="comment">// é¦–æ¬¡è®¿é—®åŠ è½½ æŒ‡å®šæ¨¡å‹ çš„ æŒ‡å®šæè´¨</span></span><br><span class="line">modelId = <span class="number">1</span>; <span class="comment">// æ¨¡å‹ ID</span></span><br><span class="line">modelTexturesId = <span class="number">53</span>; <span class="comment">// æè´¨ ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ç¼–å·ä¸ºè‡ªå·±å–œæ¬¢çš„æ¨¡å‹å’Œæè´¨</p><h5 id="2ï¼‰åˆ å»â€ä¸€è¨€â€œçš„â€œæ¥è‡ªâ€ä¿¡æ¯"><a href="#2ï¼‰åˆ å»â€ä¸€è¨€â€œçš„â€œæ¥è‡ªâ€ä¿¡æ¯" class="headerlink" title="2ï¼‰åˆ å»â€ä¸€è¨€â€œçš„â€œæ¥è‡ªâ€ä¿¡æ¯"></a>2ï¼‰åˆ å»â€ä¸€è¨€â€œçš„â€œæ¥è‡ªâ€ä¿¡æ¯</h5><p>å› ä¸ºè¿™ä¸€å¥çš„æ˜¾ç¤ºå¾ˆè¿·æƒ‘ï¼Œè¿ç»­ç‚¹å‡»å‡ æ¬¡â€œä¸€è¨€â€æŒ‰é’®â€œæ¥è‡ªâ€ä¿¡æ¯æ‰æ…¢æ…¢å‡ºç°ï¼Œä¸å‰é¢çš„â€ä¸€è¨€â€œä¸åŒ¹é…ã€‚</p><p>åœ¨ <code>waifu-tips.js</code> æ–‡ä»¶ä¸­æŸ¥æ‰¾ä»¥ä¸‹å†…å®¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¢åŠ  hitokoto.cn çš„ API</span></span><br><span class="line">fetch(<span class="string">"https://v1.hitokoto.cn"</span>)</span><br><span class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">.then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">let</span> text = <span class="string">`è¿™å¥ä¸€è¨€æ¥è‡ª &lt;span&gt;ã€Œ<span class="subst">$&#123;result.<span class="keyword">from</span>&#125;</span>ã€&lt;/span&gt;ï¼Œæ˜¯ &lt;span&gt;<span class="subst">$&#123;result.creator&#125;</span>&lt;/span&gt; åœ¨ hitokoto.cn æŠ•ç¨¿çš„ã€‚`</span>;</span><br><span class="line">showMessage(result.hitokoto, <span class="number">6000</span>, <span class="number">9</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">showMessage(text, <span class="number">4000</span>, <span class="number">9</span>);</span><br><span class="line">&#125;, <span class="number">6000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å°†å…¶ä¸­ç¬¬5 7 8 9 è¡Œæ³¨é‡Šæ‰ï¼Œå¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¢åŠ  hitokoto.cn çš„ API</span></span><br><span class="line">fetch(<span class="string">"https://v1.hitokoto.cn"</span>)</span><br><span class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">.then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line"><span class="comment">//let text = `è¿™å¥ä¸€è¨€æ¥è‡ª &lt;span&gt;ã€Œ$&#123;result.from&#125;ã€&lt;/span&gt;ï¼Œæ˜¯ &lt;span&gt;$&#123;result.creator&#125;&lt;/span&gt; åœ¨ hitokoto.cn æŠ•ç¨¿çš„ã€‚`;</span></span><br><span class="line">showMessage(result.hitokoto, <span class="number">6000</span>, <span class="number">9</span>);</span><br><span class="line"><span class="comment">//setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//showMessage(text, 4000, 9);</span></span><br><span class="line"><span class="comment">//&#125;, 6000);</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆæ•ˆæœä¸æœ¬ç«™ç›¸åŒ</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> 2.ç¾åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--ç¾åŒ–ç¯‡ï¼ˆ3)</title>
      <link href="/posts/blog-building/beautify-3/"/>
      <url>/posts/blog-building/beautify-3/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€ä»£ç å—ç¾åŒ–"><a href="#ä¸€ã€ä»£ç å—ç¾åŒ–" class="headerlink" title="ä¸€ã€ä»£ç å—ç¾åŒ–"></a>ä¸€ã€ä»£ç å—ç¾åŒ–</h3><p>æ‰“å¼€ <code>./themes/next/source/css/_custom/custom.styl</code> æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°ä»£ç å—æ ·å¼</span></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#CE8349</span>;  <span class="comment">//å°ä»£ç å—çš„å­—ä½“é¢œè‰²</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#21252b</span>;  <span class="comment">//èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;  <span class="comment">//é€æ˜åº¦</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2px</span>;  <span class="comment">//è¾¹è·</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¤§ä»£ç å—çš„è‡ªå®šä¹‰æ ·å¼</span></span><br><span class="line"><span class="selector-class">.highlight</span>, pre &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span>; <span class="comment">//ä¸Š å³ ä¸‹ å·¦</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">code</span>, pre &#123;</span><br><span class="line">    <span class="attribute">border</span>: -<span class="number">5px</span> solid <span class="number">#d6d6d6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç æ¡†æ ·å¼</span></span><br><span class="line"><span class="selector-class">.highlight-wrap</span>[data-rel] &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0px</span> <span class="number">30px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>);</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="comment">//ä»£ç å—æ»šåŠ¨æ¡</span></span><br><span class="line">  ::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  ::-webkit-scrollbar-track &#123;</span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  ::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::before &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">content</span>: attr(data-rel);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#21252b</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="comment">// position: relative;</span></span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'Source Sans Pro'</span>, sans-serif;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">15px</span>; <span class="comment">//æ–‡æœ¬ç±»å‹ï¼ˆå¦‚PLAINï¼‰å·¦ç«¯è·ç¦»</span></span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::after &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">' '</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="comment">// position: relative;</span></span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fc625d</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>./themes/next/scripts/</code> ä¸‹åˆ›å»ºæ–‡ä»¶ <code>codeblock.js</code> å°†ä»¥ä¸‹å†…å®¹ç²˜è´´è¿›å»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> attributes = [</span><br><span class="line">  <span class="string">'autocomplete="off"'</span>,</span><br><span class="line">  <span class="string">'autocorrect="off"'</span>,</span><br><span class="line">  <span class="string">'autocapitalize="off"'</span>,</span><br><span class="line">  <span class="string">'spellcheck="false"'</span>,</span><br><span class="line">  <span class="string">'contenteditable="true"'</span></span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> attributesStr = attributes.join(<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="regexp">/&lt;figure class="highlight ([a-zA-Z]+)"&gt;.*?&lt;\/figure&gt;/</span>.test(data.content)) &#123;</span><br><span class="line">    data.content = data.content.replace(<span class="regexp">/&lt;figure class="highlight ([a-zA-Z]+)"&gt;.*?&lt;\/figure&gt;/</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> language = <span class="built_in">RegExp</span>.$<span class="number">1</span> || <span class="string">'plain'</span></span><br><span class="line">      <span class="keyword">var</span> lastMatch = <span class="built_in">RegExp</span>.lastMatch</span><br><span class="line">      lastMatch = lastMatch.replace(<span class="regexp">/&lt;figure class="highlight /</span>, <span class="string">'&lt;figure class="iseeu highlight /'</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'&lt;div class="highlight-wrap"'</span> + attributesStr + <span class="string">'data-rel="'</span> + language.toUpperCase() + <span class="string">'"&gt;'</span> + lastMatch + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>å†…æŸ¥æ‰¾ <code>highlight_theme</code> ä¿®æ”¹å…¶å€¼ä¸ºä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">night</span> <span class="string">eighties</span></span><br></pre></td></tr></table></figure><p>é‡æ–°ç”Ÿæˆå³å¯</p><p>æ•ˆæœå’Œæœ¬æ–‡ç›¸åŒ</p><h3 id="äºŒã€åº•éƒ¨éšè—powered-byï¼Œæ·»åŠ è®¿é—®ç»Ÿè®¡ï¼Œå­—æ•°ç»Ÿè®¡ç­‰"><a href="#äºŒã€åº•éƒ¨éšè—powered-byï¼Œæ·»åŠ è®¿é—®ç»Ÿè®¡ï¼Œå­—æ•°ç»Ÿè®¡ç­‰" class="headerlink" title="äºŒã€åº•éƒ¨éšè—powered byï¼Œæ·»åŠ è®¿é—®ç»Ÿè®¡ï¼Œå­—æ•°ç»Ÿè®¡ç­‰"></a>äºŒã€åº•éƒ¨éšè—powered byï¼Œæ·»åŠ è®¿é—®ç»Ÿè®¡ï¼Œå­—æ•°ç»Ÿè®¡ç­‰</h3><h4 id="1-éšè—powered-by"><a href="#1-éšè—powered-by" class="headerlink" title="1. éšè—powered by"></a>1. éšè—powered by</h4><p>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ï¼ŒæŸ¥æ‰¾ <code>footer</code> å­—æ®µï¼Œä¿®æ”¹å…¶ä¸­ <code>powered</code> å’Œ <code>theme.enable</code> ä¸º <code>false</code></p><h4 id="2-æ·»åŠ è®¿é—®ç»Ÿè®¡"><a href="#2-æ·»åŠ è®¿é—®ç»Ÿè®¡" class="headerlink" title="2. æ·»åŠ è®¿é—®ç»Ÿè®¡"></a>2. æ·»åŠ è®¿é—®ç»Ÿè®¡</h4><p>æ‰“å¼€ <code>./themes/next/layout/_partials/footer.swig</code> æ–‡ä»¶ï¼Œåœ¨ç¬¬ä¸€è¡Œæ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾ <code>theme.post_wordcount.totalcount</code> ï¼Œåœ¨å‰é¢æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_uv"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-user"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  æœ¬ç«™è®¿å®¢æ•°:<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-eye"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  ç´¯è®¡è®¿é—®æ¬¡æ•°:<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é‡æ–°ç”Ÿæˆå³å¯</p><h4 id="3-æ·»åŠ å…¨ç«™å­—æ•°ç»Ÿè®¡"><a href="#3-æ·»åŠ å…¨ç«™å­—æ•°ç»Ÿè®¡" class="headerlink" title="3. æ·»åŠ å…¨ç«™å­—æ•°ç»Ÿè®¡"></a>3. æ·»åŠ å…¨ç«™å­—æ•°ç»Ÿè®¡</h4><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure><p>ä»ç„¶åœ¨ <code>footer.swig</code> æ–‡ä»¶å†…ï¼Œåœ¨åˆšæ‰çš„ <code>&lt;br/&gt;</code> æ ‡ç­¾ä¸Šé¢æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"theme-info"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"theme-info"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"powered-by"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-bar-chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span>åšå®¢å…¨ç«™å…±&#123;&#123; totalcount(site) &#125;&#125;å­—<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼šè¿™é‡Œå‘ç°åº•éƒ¨å­—ä½“çœ‹ä¸æ¸…æ¥šï¼Œå¯ä»¥æ”¹ä¸ºç™½è‰²</strong></p><p>æ‰“å¼€ <code>./themes/next/source/css/_common/components/footer/footer.styl</code> æ–‡ä»¶ä¿®æ”¹å…¶ä¸­çš„ <code>.footer</code> ä¸º</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="comment">// color: $grey-dark;</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#FFFFFF</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.9</span></span><br><span class="line">  <span class="selector-tag">img</span> &#123; <span class="attribute">border</span>: none; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-ä¿®æ”¹ä½œè€…å‰é¢çš„å›¾æ ‡ä¸ºå¿ƒå½¢"><a href="#4-ä¿®æ”¹ä½œè€…å‰é¢çš„å›¾æ ‡ä¸ºå¿ƒå½¢" class="headerlink" title="4. ä¿®æ”¹ä½œè€…å‰é¢çš„å›¾æ ‡ä¸ºå¿ƒå½¢"></a>4. ä¿®æ”¹ä½œè€…å‰é¢çš„å›¾æ ‡ä¸ºå¿ƒå½¢</h4><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ä¸­æŸ¥æ‰¾ <code>footer</code> å­—æ®µï¼Œä¿®æ”¹ <code>icon</code> ä¸º <code>heart</code> å³å¯ã€‚</p><h3 id="ä¸‰ã€æ·»åŠ æ ‡ç­¾å¤±å»ç„¦ç‚¹åæ ‡é¢˜æ”¹å˜"><a href="#ä¸‰ã€æ·»åŠ æ ‡ç­¾å¤±å»ç„¦ç‚¹åæ ‡é¢˜æ”¹å˜" class="headerlink" title="ä¸‰ã€æ·»åŠ æ ‡ç­¾å¤±å»ç„¦ç‚¹åæ ‡é¢˜æ”¹å˜"></a>ä¸‰ã€æ·»åŠ æ ‡ç­¾å¤±å»ç„¦ç‚¹åæ ‡é¢˜æ”¹å˜</h3><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ä¸­æ·»åŠ </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a trick on website title</span></span><br><span class="line"><span class="attr">title_trick:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">leave:</span> <span class="string">"(ã¤ã‚§âŠ‚)æˆ‘è—å¥½äº†å“¦~"</span></span><br><span class="line">  <span class="attr">enter:</span> <span class="string">"(*Â´âˆ‡ï½€*) è¢«ä½ å‘ç°å•¦~"</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­leaveè¡¨ç¤ºå¤±å»ç„¦ç‚¹åå¾—åˆ°æ ‡é¢˜ï¼Œenterè¡¨ç¤ºé‡æ–°è·å–ç„¦ç‚¹æ—¶çš„æ ‡é¢˜ï¼Œå¯ä»¥è‡ªå·±ä¿®æ”¹ã€‚</p><p>åœ¨ <code>./themes/next/layout/_custom/</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºæ–‡ä»¶ <code>custom.swig</code> ï¼Œå°†ä»¥ä¸‹å†…å®¹å¡«å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;# ææ€ªç½‘é¡µæ ‡é¢˜ #&#125; </span><br><span class="line">&#123;% if theme.title_trick.enable %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> OriginTitile = <span class="built_in">document</span>.title;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> titleTime;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.addEventListener(<span class="string">"visibilitychange"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="built_in">document</span>.hidden) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&#123;&#123; theme.title_trick.leave &#125;&#125;"</span> + OriginTitile;</span></span><br><span class="line">      clearTimeout(titleTime);</span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&#123;&#123; theme.title_trick.enter &#125;&#125;"</span> + OriginTitile;</span></span><br><span class="line"><span class="actionscript">      titleTime = setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.title = OriginTitile;</span></span><br><span class="line">      &#125;, 2000);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>./themes/next/layout/_layout.swig</code> ä¸­æœ«å°¾çš„ä¸€å † <code>include</code> åé¢æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include '_custom/custom.swig' %&#125;</span><br></pre></td></tr></table></figure><h3 id="å››ã€æ·»åŠ æ‰“å­—ç‰¹æ•ˆ"><a href="#å››ã€æ·»åŠ æ‰“å­—ç‰¹æ•ˆ" class="headerlink" title="å››ã€æ·»åŠ æ‰“å­—ç‰¹æ•ˆ"></a>å››ã€æ·»åŠ æ‰“å­—ç‰¹æ•ˆ</h3><p><strong>æ³¨ï¼šå½“å‰æ‰“å­—ç‰¹æ•ˆä¼¼ä¹æ²¡ä»€ä¹ˆç”¨ï¼Œè¿™ä¸ªä¼šåœ¨åç»­çš„æ·»åŠ è¯„è®ºçš„æ–‡ç« ä¸­å†æ¬¡æåˆ°ï¼Œä¸»è¦ç”¨äºè¯„è®ºåŒºï¼Œç°åœ¨å¯ä»¥åœ¨ä»»æ„ä¸€ä¸ªä»£ç å—ä¸Šæµ‹è¯•ï¼ˆå‘å¸ƒçš„æ–‡ç« å†…çš„ä»£ç å—æ˜¯å¯ä»¥ç¼–è¾‘çš„ï¼Œåˆ·æ–°åä¼šæ¢å¤ï¼‰</strong></p><p>ç‚¹å‡» <a href="/js/src/activate-power-mode.min.js">æ‰“å­—ç‰¹æ•ˆ</a> æŒ‰ <code>Ctrl+S</code> ä¿å­˜åˆ°æœ¬åœ° <code>./themes/next/source/js/scr/</code> æ–‡ä»¶å¤¹ä¸‹</p><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ä¸­æ·»åŠ </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># typing effect</span></span><br><span class="line"><span class="attr">typing_effect:</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span>  <span class="comment"># ç¤¼èŠ±ç‰¹æ•ˆ</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">false</span>  <span class="comment"># éœ‡åŠ¨ç‰¹æ•ˆ</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ä¸¤ç§æ•ˆæœå¯ä»¥è‡ªç”±é€‰æ‹©æ˜¯å¦å¼€å¯</p><p>åœ¨å‰é¢åˆ›å»ºçš„ <code>./themes/next/layout/_custom/custom.styl</code> æ–‡ä»¶æœ«å°¾æ·»åŠ </p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;# æ‰“å­—ç‰¹æ•ˆ #&#125;</span><br><span class="line">&#123;% if theme.typing_effect %&#125;</span><br><span class="line">  &lt;script src=<span class="string">"/js/src/activate-power-mode.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    POWERMODE.colorful = &#123;&#123; theme.typing_effect.colorful &#125;&#125;;</span><br><span class="line">    POWERMODE.shake = &#123;&#123; theme.typing_effect.shake &#125;&#125;;</span><br><span class="line">    document.body.addEventListener('input', POWERMODE);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><hr><p>å‚è€ƒå†…å®¹ï¼š</p><p><a href="https://blog.ihoey.com/posts/Hexo/2018-05-27-hexo-code-block.html" target="_blank" rel="noopener">Hexo åšå®¢ç¾åŒ–ä»£ç å—</a></p><p><a href="http://shenzekun.cn/hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®æ•™ç¨‹.html" target="_blank" rel="noopener">hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®æ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> 2.ç¾åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--ç¾åŒ–ç¯‡ï¼ˆ2)</title>
      <link href="/posts/blog-building/beautify-2/"/>
      <url>/posts/blog-building/beautify-2/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€æ·»åŠ èƒŒæ™¯éŸ³ä¹"><a href="#ä¸€ã€æ·»åŠ èƒŒæ™¯éŸ³ä¹" class="headerlink" title="ä¸€ã€æ·»åŠ èƒŒæ™¯éŸ³ä¹"></a>ä¸€ã€æ·»åŠ èƒŒæ™¯éŸ³ä¹</h3><p><strong>æ³¨ï¼šæœ¬æ•™ç¨‹æ˜¯ä»¥ <code>NexT</code> ä¸»é¢˜çš„ <code>Gemini</code> æ–¹æ¡ˆä¸ºä¾‹ï¼Œä¿®æ”¹åä¸å†é€‚ç”¨å…¶ä»–æ–¹æ¡ˆï¼Œè‹¥è¿˜æœ‰ä¿®æ”¹ä¸»é¢˜æ–¹æ¡ˆçš„éœ€æ±‚è¯·ä¸è¦æŒ‰æœ¬æ•™ç¨‹è®¾ç½®ã€‚</strong></p><h4 id="1-åˆ›å»ºç½‘æ˜“äº‘æ­Œå•"><a href="#1-åˆ›å»ºç½‘æ˜“äº‘æ­Œå•" class="headerlink" title="1. åˆ›å»ºç½‘æ˜“äº‘æ­Œå•"></a>1. åˆ›å»ºç½‘æ˜“äº‘æ­Œå•</h4><p>æ³¨å†Œ<a href="https://music.163.com/" target="_blank" rel="noopener">ç½‘æ˜“äº‘</a>è´¦å·å¹¶ç™»é™†ï¼Œç‚¹å‡»ä¸Šæ–¹<strong>æˆ‘çš„éŸ³ä¹</strong>ï¼Œåˆ›å»ºçš„æ­Œå•å³ä¾§<strong>æ–°å»º</strong>ï¼Œè¾“å…¥æ­Œå•åç­‰ä¿¡æ¯ï¼Œåˆ›å»ºæˆåŠŸåæ‰“å¼€æ­Œå•ï¼Œåœ°å€æ ä¸º <code>https://music.163.com/#/my/m/music/playlist?id=5062858339</code> ï¼Œå…¶ä¸­ <code>id</code> åé¢çš„å°±æ˜¯æ­Œå•å·ï¼Œå¤åˆ¶ä¸‹æ¥åé¢ä¼šç”¨åˆ°ã€‚ä¹‹åå‘æ­Œå•ä¸­æ·»åŠ éŸ³ä¹åšå®¢ä¸Šä¹Ÿå¯ä»¥åŒæ­¥æ›´æ–°ï¼Œä½†æ˜¯æœ‰ä¸€å®šçš„å»¶æ—¶ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«äººçš„æ­Œå•ï¼Œæ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„æ­Œå•å¤åˆ¶åœ°å€ä¸­çš„æ­Œå•å·å³å¯ã€‚</p><h4 id="2-åµŒå…¥ç½‘é¡µ"><a href="#2-åµŒå…¥ç½‘é¡µ" class="headerlink" title="2. åµŒå…¥ç½‘é¡µ"></a>2. åµŒå…¥ç½‘é¡µ</h4><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ä¸­æ·»åŠ </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># background music</span></span><br><span class="line"><span class="attr">music:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">Aplayer:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">iframe:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">list_id:</span> <span class="string">'5062858339'</span></span><br><span class="line">  <span class="attr">auto_play:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>Aplayer</code> å’Œ <code>iframe</code> æ˜¯æ·»åŠ èƒŒæ™¯éŸ³ä¹çš„<strong>ä¸¤ç§æ–¹å¼</strong>ï¼Œå€¼ä¸º <code>true</code> è¡¨ç¤ºå¯ç”¨è¿™ç§æ–¹å¼ï¼Œ <code>liet_id</code> æ˜¯ç½‘æ˜“äº‘çš„<strong>æ­Œå•å·</strong>ï¼Œ <code>auto_play</code> æ˜¯æ˜¯å¦<strong>è‡ªåŠ¨æ’­æ”¾</strong>ã€‚æˆ‘è¿™é‡Œå¯ç”¨Aplayerï¼Œå¹¶ä¸”ä¸è‡ªåŠ¨æ’­æ”¾ï¼Œä½ å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„æ ·å¼ã€‚</p><p>åœ¨ <code>./themes/next/layout/_macro/sidebar.swig</code> ä¸­ <code>{if theme.sierbar.b2t}</code> <strong>å‰é¢</strong>æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--èƒŒæ™¯éŸ³ä¹--&gt;</span></span><br><span class="line">&#123;%if theme.music.enable %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">  &#123;% if theme.music.iframe %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music1"</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">280</span> <span class="attr">height</span>=<span class="string">350</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=0&amp;id=&#123;&#123; theme.music.list_id &#125;&#125;&amp;auto=&#123;% if theme.music.auto_play %&#125;1&#123;% else %&#125;0&#123;% endif %&#125;&amp;height=330"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">  &#123;% if theme.music.Aplayer %&#125;</span><br><span class="line">    <span class="comment">&lt;!-- require APlayer --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- require MetingJS--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aplayer"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-id</span>=<span class="string">"&#123;&#123; theme.music.list_id &#125;&#125;"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-server</span>=<span class="string">"netease"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-type</span>=<span class="string">"playlist"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-fixed</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-autoplay</span>=<span class="string">"&#123;&#123; theme.music.auto_play &#125;&#125;"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-list-folded</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-loop</span>=<span class="string">"all"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-mutex</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-order</span>=<span class="string">"list"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-volume</span>=<span class="string">"0.2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-theme</span>=<span class="string">"#FADFA3"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">date-preload</span>=<span class="string">"auto"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­Aplayerçš„ä¸€äº›å‚æ•°ä»‹ç»å¦‚ä¸‹ã€‚</p><table><thead><tr><th align="left">é€‰é¡¹</th><th align="left">é»˜è®¤å€¼</th><th align="left">åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td align="left">id</td><td align="left"><strong>å¿…é¡»å€¼</strong></td><td align="left">æ­Œæ›² id / æ’­æ”¾åˆ—è¡¨ id / ç›¸å†Œ id / æœç´¢å…³é”®å­—</td></tr><tr><td align="left">server</td><td align="left"><strong>å¿…é¡»å€¼</strong></td><td align="left">éŸ³ä¹å¹³å°: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td></tr><tr><td align="left">type</td><td align="left"><strong>å¿…é¡»å€¼</strong></td><td align="left"><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td></tr><tr><td align="left">fixed</td><td align="left"><code>false</code></td><td align="left">å¼€å¯å›ºå®šæ¨¡å¼</td></tr><tr><td align="left">autoplay</td><td align="left"><code>false</code></td><td align="left">è‡ªåŠ¨æ’­æ”¾</td></tr><tr><td align="left">theme</td><td align="left"><code>#2980b9</code></td><td align="left">æ’­æ”¾å™¨é£æ ¼è‰²å½©è®¾ç½®</td></tr><tr><td align="left">order</td><td align="left"><code>list</code></td><td align="left">åˆ—è¡¨æ’­æ”¾æ¨¡å¼ï¼š <code>list</code>, <code>random</code></td></tr><tr><td align="left">preload</td><td align="left"><code>auto</code></td><td align="left">éŸ³ä¹æ–‡ä»¶é¢„è½½å…¥æ¨¡å¼ï¼Œå¯é€‰é¡¹ï¼š <code>none</code>, <code>metadata</code>, <code>auto</code></td></tr><tr><td align="left">volume</td><td align="left"><code>0.7</code></td><td align="left">æ’­æ”¾å™¨éŸ³é‡</td></tr><tr><td align="left">mutex</td><td align="left"><code>true</code></td><td align="left">è¯¥é€‰é¡¹å¼€å¯æ—¶ï¼Œå¦‚æœåŒé¡µé¢æœ‰å…¶ä»– aplayer æ’­æ”¾ï¼Œè¯¥æ’­æ”¾å™¨ä¼šæš‚åœ</td></tr><tr><td align="left">list-folded</td><td align="left"><code>false</code></td><td align="left">æ­Œè¯æ ¼å¼ç±»å‹</td></tr></tbody></table><p>åœ¨ <code>./themes/next/source/css/_schemes/Gemini/index.styl</code> çš„<strong>æœ«å°¾</strong>æ·»åŠ </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.music1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">260px</span>;</span><br><span class="line">  <span class="attribute">transform</span>: translate(-<span class="number">7.7%</span>, <span class="number">0%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.music2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">238px</span>;</span><br><span class="line">  <span class="attribute">transform</span>: translate(-<span class="number">4%</span>, <span class="number">0%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ·»åŠ è¿™ä¸ªçš„åŸå› æ˜¯ä¸¤ä¸ªéŸ³ä¹æ ‡ç­¾éƒ½æ¯”è¾ƒå®½ï¼Œè€Œä¾§è¾¹æ æ¯”è¾ƒçª„ï¼Œå¦‚æœæŒ‰ç…§é»˜è®¤çš„æ–¹å¼ï¼Œä¼šæ”¹å˜æ ‡ç­¾çš„å¸ƒå±€æ¥é€‚åº”ä¾§è¾¹æ çš„å®½åº¦ï¼Œå¯¼è‡´ä¸€äº›æŒ‰é’®ä½ç½®é‡å ã€‚è¿™é‡Œæ˜¯<strong>å¼ºè¡ŒåŠ å®½</strong>å¹¶å‘å·¦ç§»åŠ¨è‡³ä¾§è¾¹æ ä¸­å¤®ã€‚</p><p><strong>ä¸¤ç§æ–¹å¼çš„åŒºåˆ«</strong>ï¼š</p><ul><li>iframeå›¾ç‰‡æ˜¾ç¤ºçš„æ˜¯æ­Œå•çš„å°é¢å›¾ï¼Œåå­—æ˜¾ç¤ºçš„æ˜¯æ­Œå•åï¼›å¯ä»¥æ‹–åŠ¨æ’­æ”¾è¿›åº¦æ¡ï¼›æ­Œå•åˆ—è¡¨é»˜è®¤å¼€å¯ï¼Œæ”¶å›åä¾§è¾¹æ å¤§å°ä¸éšä¹‹æ”¹å˜ã€‚</li><li>Aplayerå›¾ç‰‡æ˜¯æ­Œæ›²æµ·æŠ¥ï¼Œåå­—æ˜¯æ­Œæ›²åï¼Œæœ‰æ­Œè¯ï¼›<strong>ä¸å¯ä»¥</strong>æ‹–åŠ¨è¿›åº¦æ¡ï¼ˆåŸæœ¬å¯ä»¥ï¼Œè¿™é‡Œç”±äºä¾§è¾¹æ å¤ªçª„ç‰ºç‰²äº†è¿›åº¦æ¡ï¼Œå¯ä»¥çœ‹åˆ°æ—¶é—´å·¦è¾¹çš„å°ç‚¹å°±æ˜¯åŸæ¥çš„è¿›åº¦æ¡ï¼Œä½†æ˜¯å¤ªå°ä»¥è‡³äºæ— æ³•ä½¿ç”¨ï¼‰ï¼›æ­Œå•åˆ—è¡¨é»˜è®¤å…³é—­ï¼Œæ‰“å¼€åä¾§è¾¹æ éšä¹‹è¾¹é•¿ï¼Œå…³é—­éšä¹‹å˜çŸ­ã€‚</li></ul><h4 id="3-æ•ˆæœå±•ç¤º"><a href="#3-æ•ˆæœå±•ç¤º" class="headerlink" title="3. æ•ˆæœå±•ç¤º"></a>3. æ•ˆæœå±•ç¤º</h4><p>æ³¨ï¼šè¿™é‡Œä¸ºäº†å±•ç¤ºä¸¤ç§æ–¹æ³•éƒ½å¼€å¯äº†ï¼Œå®é™…ä½¿ç”¨è¿‡ç¨‹åªéœ€å¼€å¯ä¸€ä¸ªå³å¯</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beautify-2/music.png" alt=""></p><h3 id="äºŒã€é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ"><a href="#äºŒã€é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ" class="headerlink" title="äºŒã€é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ"></a>äºŒã€é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ</h3><p>å°†ä»¥ä¸‹æ–‡ä»¶æ”¾åœ¨ <code>./themes/next/source/js/src</code> æ–‡ä»¶å¤¹ä¸‹ã€‚</p><p><a href="/js/src/firework.js">çƒŸèŠ±æ•ˆæœ</a> <a href="/js/src/clicklove.js">å¿ƒå½¢</a> <a href="/js/src/text.js">æ–‡å­—</a> <a href="/js/src/explosion.js">çˆ†ç‚¸</a></p><p>(æ‰“å¼€åæŒ‰ <code>Ctrl+S</code> å¯ä»¥ä¿å­˜åˆ°æœ¬åœ°) </p><p>å…¶ä¸­æ–‡å­—å†…å®¹å¯ä»¥è‡ªå®šä¹‰ï¼Œåšä¸»åœ¨ç½‘ä¸Šå…¶ä»–æ•™ç¨‹çš„åŸºç¡€ä¸ŠåŠ å…¥äº†é¢œè‰²éšæœºå˜åŒ–ã€‚</p><p>å¦‚æœæŸä¸ªæ•ˆæœè‡ªå·±ä¸éœ€è¦ä¹Ÿå¯ä»¥ä¸ä¸‹è½½</p><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ä¸­æ·»åŠ </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Click effect</span></span><br><span class="line"><span class="attr">click_effect:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">clicklove:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">fireworks:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">explosion:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>å››ä¸ªæ•ˆæœå¯ä»¥é€‰æ‹©å…¶ä¸€æˆ–è€…å¤šä¸ªå¼€å¯</p><p>åœ¨ <code>./themes/next/layout/_layout.swug</code> ä¸­ <strong><code>&lt;/body&gt;</code></strong> å‰æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é¼ æ ‡ç‚¹å‡»æ•ˆæœ --&gt;</span></span><br><span class="line">&#123;% if theme.click_effect.enable %&#125;</span><br><span class="line">  <span class="comment">&lt;!-- å°çº¢å¿ƒ --&gt;</span></span><br><span class="line">  &#123;% if theme.click_effect.clicklove %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/clicklove.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">  <span class="comment">&lt;!-- çƒŸèŠ± --&gt;</span></span><br><span class="line">  &#123;% if theme.click_effect.fireworks %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/firework.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">  <span class="comment">&lt;!-- æ–‡å­— --&gt;</span></span><br><span class="line">  &#123;% if theme.click_effect.text %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"/js/src/text.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">  <span class="comment">&lt;!-- çˆ†ç‚¸ --&gt;</span></span><br><span class="line">  &#123;% if theme.click_effect.explosion %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"fireworks"</span> <span class="attr">style</span>=<span class="string">"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/explosion.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€æ–‡ç« åº•éƒ¨ä¼˜åŒ–"><a href="#ä¸‰ã€æ–‡ç« åº•éƒ¨ä¼˜åŒ–" class="headerlink" title="ä¸‰ã€æ–‡ç« åº•éƒ¨ä¼˜åŒ–"></a>ä¸‰ã€æ–‡ç« åº•éƒ¨ä¼˜åŒ–</h3><h4 id="1-æ·»åŠ æ–‡ç« ç»“æŸæ ‡å¿—"><a href="#1-æ·»åŠ æ–‡ç« ç»“æŸæ ‡å¿—" class="headerlink" title="1. æ·»åŠ æ–‡ç« ç»“æŸæ ‡å¿—"></a>1. æ·»åŠ æ–‡ç« ç»“æŸæ ‡å¿—</h4><p>åœ¨ <code>./themes/next/layout/_macro</code> æ–‡ä»¶å¤¹ä¸­æ–°å»º <code>passage-end-tag.swig</code> æ–‡ä»¶ï¼Œå°†ä»¥ä¸‹å†…å®¹å¡«å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>-------------æœ¬æ–‡ç»“æŸ<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-heartbeat"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>./themes/next/layout/_macro/post.swig</code>ï¼ŒæŸ¥æ‰¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;#####################&#125;</span><br><span class="line">&#123;### END POST BODY ###&#125;</span><br><span class="line">&#123;#####################&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<strong>åé¢</strong>æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;# end-tag #&#125;</span><br><span class="line">&#123;% if theme.end_tag.enable and not is_index %&#125;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &#123;% include &#39;passage-end-tag.swig&#39; %&#125;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># passage_end_tag</span></span><br><span class="line"><span class="attr">end_tag:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beautify-2/end-tag.png" alt=""></p><h4 id="2-æ·»åŠ ç‰ˆæƒä¿¡æ¯"><a href="#2-æ·»åŠ ç‰ˆæƒä¿¡æ¯" class="headerlink" title="2. æ·»åŠ ç‰ˆæƒä¿¡æ¯"></a>2. æ·»åŠ ç‰ˆæƒä¿¡æ¯</h4><p>åœ¨ <code>./themes/next/layout/_macro/</code> æ–‡ä»¶å¤¹å†…æ–°å»º <code>my-copyright.swig</code> æ–‡ä»¶ï¼Œå°†ä»¥ä¸‹å†…å®¹å¡«å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if page.copyright %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"my_post_copyright"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/sweetalert/dist/sweetalert.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>æœ¬æ–‡æ ‡é¢˜:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(page.path) &#125;&#125;"</span>&gt;</span>&#123;&#123; page.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡ç« ä½œè€…:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span> <span class="attr">title</span>=<span class="string">"è®¿é—® &#123;&#123; theme.author &#125;&#125; çš„ä¸ªäººåšå®¢"</span>&gt;</span>&#123;&#123; theme.author &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>å‘å¸ƒæ—¶é—´:<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#123;&#123; page.date.format("YYYYå¹´MMæœˆDDæ—¥ - HH:mm") &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>æœ€åæ›´æ–°:<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#123;&#123; page.updated.format("YYYYå¹´MMæœˆDDæ—¥ - HH:mm") &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>åŸå§‹é“¾æ¥:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(page.path) &#125;&#125;"</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; page.title &#125;&#125;"</span>&gt;</span>&#123;&#123; page.permalink &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"copy-path"</span>  <span class="attr">title</span>=<span class="string">"ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-copy"</span> <span class="attr">data-clipboard-text</span>=<span class="string">"&#123;&#123; page.permalink &#125;&#125;"</span>  <span class="attr">aria-label</span>=<span class="string">"å¤åˆ¶æˆåŠŸï¼"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="comment">&lt;!--&lt;span&gt;è®¸å¯åè®®:&lt;/span&gt;&lt;i class="fa fa-creative-commons"&gt;&lt;/i&gt; &lt;a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"&gt;ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…&lt;/a&gt;--&gt;</span> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span> </span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> clipboard = <span class="keyword">new</span> Clipboard(<span class="string">'.fa-copy'</span>);</span></span><br><span class="line"><span class="javascript">    $(<span class="string">".fa-copy"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="actionscript">      clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line">        swal(&#123;   </span><br><span class="line"><span class="actionscript">          title: <span class="string">""</span>,   </span></span><br><span class="line"><span class="actionscript">          text: <span class="string">'å¤åˆ¶æˆåŠŸ'</span>,</span></span><br><span class="line"><span class="actionscript">          icon: <span class="string">"success"</span>, </span></span><br><span class="line"><span class="actionscript">          showConfirmButton: <span class="literal">true</span></span></span><br><span class="line">          &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">    &#125;);  </span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>./themes/next/source/css/_common/post/</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶ <code>my-post-copyright.styl</code> ï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.my_post_copyright</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">85%</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">45em</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2.8em</span> auto <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5em</span> <span class="number">1.0em</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d3d3d3</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.93rem</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.6em</span>;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">  <span class="attribute">background</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.4</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> p&#123;<span class="attribute">margin</span>:<span class="number">0</span>;&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5.2em</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#b5b5b5</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.raw</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#808080</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-tag">a</span>:hover &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a3d2a3</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span>:hover <span class="selector-class">.fa-clipboard</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.post-url</span>:hover &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.copy-path</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">  +mobile()&#123;<span class="attribute">display</span>:none;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my_post_copyright</span> <span class="selector-class">.copy-path</span>:hover &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#808080</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>./themes/next/layout/_macro/post.swig</code>ï¼Œåœ¨åˆšæ‰æ·»åŠ æ–‡ç« ç»“æŸæ ‡å¿—çš„<strong>åé¢</strong>æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;# copyright #&#125;</span><br><span class="line">&#123;% if theme.my_copyright.enable and not is_index %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% include 'my-copyright.swig' %&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <code>./themes/next/source/css/_common/components/post/post.styl</code> ï¼Œåœ¨æœ€åä¸€è¡Œå¢åŠ ä»£ç ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import <span class="string">"my-post-copyright"</span></span><br></pre></td></tr></table></figure><p>åœ¨<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># my-copyright</span></span><br><span class="line"><span class="attr">my_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beautify-2/copyright.png" alt=""></p><p>å¦‚æœå¾—åˆ°çš„ â€œåŸå§‹é“¾æ¥â€ åƒæˆ‘ä¸€æ ·æ˜¯ <code>http://yoursite.com</code> å¼€å¤´ï¼Œé‚£ä½ å°±è¦ä¿®æ”¹<strong>ç«™ç‚¹é…ç½®æ–‡ä»¶</strong>ä¸­ <code>url</code> å­—æ®µä¸ºä½ è‡ªå·±çš„åšå®¢åœ°å€ã€‚</p><h4 id="3-æ ‡ç­¾æ·»åŠ å›¾æ ‡"><a href="#3-æ ‡ç­¾æ·»åŠ å›¾æ ‡" class="headerlink" title="3. æ ‡ç­¾æ·»åŠ å›¾æ ‡"></a>3. æ ‡ç­¾æ·»åŠ å›¾æ ‡</h4><p>åœ¨æ–‡ä»¶ <code>./themes/next/layout/_macro/post.swig</code> ä¸­ï¼Œæœç´¢ <code>rel=&quot;tag&quot;&gt;#</code> ï¼Œå°† <code>#</code> æ¢æˆ <code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code> ã€‚</p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beautify-2/tag.png" alt=""></p><hr><p>å‚è€ƒå†…å®¹ï¼š</p><p><a href="http://shenzekun.cn/hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®æ•™ç¨‹.html" target="_blank" rel="noopener">hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®æ•™ç¨‹</a></p><p><a href="https://blog.csdn.net/qq_45533937/article/details/105496572" target="_blank" rel="noopener">Hexo + Next ä¸»é¢˜å®ç°å…¨å±€æ’­æ”¾èƒŒæ™¯éŸ³ä¹</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> 2.ç¾åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--ç¾åŒ–ç¯‡ï¼ˆ1)</title>
      <link href="/posts/blog-building/beautify-1/"/>
      <url>/posts/blog-building/beautify-1/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€æ·»åŠ èƒŒæ™¯"><a href="#ä¸€ã€æ·»åŠ èƒŒæ™¯" class="headerlink" title="ä¸€ã€æ·»åŠ èƒŒæ™¯"></a>ä¸€ã€æ·»åŠ èƒŒæ™¯</h3><h4 id="1-æ·»åŠ åŠ¨æ€èƒŒæ™¯"><a href="#1-æ·»åŠ åŠ¨æ€èƒŒæ™¯" class="headerlink" title="1. æ·»åŠ åŠ¨æ€èƒŒæ™¯"></a>1. æ·»åŠ åŠ¨æ€èƒŒæ™¯</h4><p>æ‰“å¼€ <code>./themes/next/_config.yml</code> æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æœç´¢ <code>canvas_nest</code> ï¼ŒæŠŠ <code>false</code> æ”¹ä¸º <code>true</code> ,é‡æ–°ç¼–è¯‘å°±å¯ä»¥çœ‹åˆ°å‡ºç°äº†çº¿æ¡çš„åŠ¨æ€èƒŒæ™¯ã€‚</p><p>è¿›ä¸€æ­¥ç¾åŒ–å¯ä»¥ä¿®æ”¹çº¿æ¡çš„å‚æ•°ï¼š</p><p>æ‰“å¼€ <code>./themes/next/source/lib/canvas-nest/canvas-nest.min.js</code> æ–‡ä»¶ï¼ŒæŸ¥æ‰¾ä»¥ä¸‹å‚æ•°</p><p><code>opacity</code> -é€æ˜åº¦ï¼ŒèŒƒå›´0-1ï¼Œå¯ä»¥æ”¹ä¸ºè‡ªå·±å–œæ¬¢çš„å‚æ•°ï¼Œæˆ‘è¿™é‡Œè®¾ç½®çš„æ˜¯0.8ã€‚</p><p><code>color</code> -é¢œè‰²ï¼Œå¯ä»¥è®¾å®šä¸ºè‡ªå·±å–œæ¬¢çš„RGBé¢œè‰²ï¼Œæˆ‘è¿™é‡ŒåŠ å…¥äº†éšæœºé¢œè‰²</p><p>å°†åŸæ¥çš„<code>â€œ0,0,0â€</code> æ”¹ä¸º <code>c()</code> ï¼Œåœ¨ç´§æ¥ç€çš„ <code>function k()</code> ä¹‹å‰æ·»åŠ ä»¥ä¸‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> r=<span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random()*<span class="number">256</span>).toString();<span class="keyword">var</span> g=<span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random()*<span class="number">256</span>).toString();<span class="keyword">var</span> b=<span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random() * <span class="number">256</span>).toString();<span class="keyword">return</span> r+<span class="string">","</span>+g+<span class="string">","</span>+b&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯ç”Ÿæˆéšæœºé¢œè‰²çš„å‡½æ•°ï¼Œåœ¨ <code>color</code> å¤„è°ƒç”¨ã€‚</p><p><code>count</code> -æ•°é‡ï¼Œä¿®æ”¹ä¸ºè‡ªå·±å–œæ¬¢çš„æ•°é‡ï¼Œæ•°é‡è¶Šå¤šï¼Œæ‰“å¼€ç½‘é¡µåå ç”¨çš„CPUå°±è¶Šé«˜ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯60ã€‚</p><h4 id="2-æ·»åŠ é™æ€èƒŒæ™¯å›¾"><a href="#2-æ·»åŠ é™æ€èƒŒæ™¯å›¾" class="headerlink" title="2. æ·»åŠ é™æ€èƒŒæ™¯å›¾"></a>2. æ·»åŠ é™æ€èƒŒæ™¯å›¾</h4><h5 id="1ï¼‰æ·»åŠ å›¾ç‰‡"><a href="#1ï¼‰æ·»åŠ å›¾ç‰‡" class="headerlink" title="1ï¼‰æ·»åŠ å›¾ç‰‡"></a>1ï¼‰æ·»åŠ å›¾ç‰‡</h5><p>æ‰“å¼€ <code>./themes/next/source/scc/_custom/custom.styl</code> æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ ä¸€ä¸‹å†…å®¹</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//èƒŒæ™¯</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  background:url(https://images7.alphacoders.com/103/1030338.jpg);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„urlå¯ä»¥æ¢æˆè‡ªå·±å–œæ¬¢çš„èƒŒæ™¯å›¾ã€‚ä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨è¾ƒå¤§çš„é«˜æ¸…å›¾ç‰‡ï¼Œå¦åˆ™å°±ä¼šåƒæˆ‘è¿™ä¸ªä¸€æ ·æ‰“å¼€å¾ˆæ…¢ï¼ˆé€ƒ</p><p>å¦‚æœå›¾ç‰‡è¢«ç¼©æ”¾æ˜¾ç¤ºçš„ä½ç½®ä¸å¤ªç†æƒ³ï¼Œå¯ä»¥å¾®è°ƒ <code>background-position</code> é‡Œçš„ä¸¤ä¸ªæ•°å€¼ï¼Œæ¯æ¬¡è°ƒæ•´åé‡æ–°ç¼–è¯‘æŸ¥çœ‹æ•ˆæœã€‚</p><h5 id="2ï¼‰ä¿®æ”¹é€æ˜åº¦"><a href="#2ï¼‰ä¿®æ”¹é€æ˜åº¦" class="headerlink" title="2ï¼‰ä¿®æ”¹é€æ˜åº¦"></a>2ï¼‰ä¿®æ”¹é€æ˜åº¦</h5><p>åŒæ ·åœ¨ <code>custom.styl</code> æ–‡ä»¶å†…ç»§ç»­æ·»åŠ </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹ä¸»ä½“é€æ˜åº¦</span></span><br><span class="line"><span class="selector-class">.main-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2078BF</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.85</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹èœå•æ é€æ˜åº¦</span></span><br><span class="line"><span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.85</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3ï¼‰é¦–é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ"><a href="#3ï¼‰é¦–é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ" class="headerlink" title="3ï¼‰é¦–é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ"></a>3ï¼‰é¦–é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ</h5><p>åœ¨ <code>custom.styl</code> ä¸­ç»§ç»­æ·»åŠ </p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ</span></span><br><span class="line"><span class="selector-class">.post</span> &#123;</span><br><span class="line"> <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line"> <span class="attribute">margin-bottom</span>: <span class="number">40px</span>;</span><br><span class="line"> <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line"> -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgba(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, <span class="number">1</span>);</span><br><span class="line"> -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgba(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„æ•ˆæœå›¾å¦‚ä¸‹</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beautify-1/background-1.png" alt=""></p><h3 id="äºŒã€ä¾§è¾¹æ ç¾åŒ–"><a href="#äºŒã€ä¾§è¾¹æ ç¾åŒ–" class="headerlink" title="äºŒã€ä¾§è¾¹æ ç¾åŒ–"></a>äºŒã€ä¾§è¾¹æ ç¾åŒ–</h3><h4 id="1-æ·»åŠ ä½œè€…å¤´åƒå¹¶æ—‹è½¬"><a href="#1-æ·»åŠ ä½œè€…å¤´åƒå¹¶æ—‹è½¬" class="headerlink" title="1. æ·»åŠ ä½œè€…å¤´åƒå¹¶æ—‹è½¬"></a>1. æ·»åŠ ä½œè€…å¤´åƒå¹¶æ—‹è½¬</h4><p>æ‰“å¼€æ–‡ä»¶å¤¹ <code>./themes/next/source/images</code> ï¼Œå°†è‡ªå·±çš„å¤´åƒæ”¾å…¥å…¶ä¸­</p><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° <code>avator</code> å­—æ®µï¼Œå–æ¶ˆæ³¨é‡Šï¼Œä¿®æ”¹ <code>avator.gif</code> ä¸ºè‡ªå·±çš„å¤´åƒçš„æ–‡ä»¶å</p><p>æ‰“å¼€<code>./themes/next/source/css/_common/components/sidebar/sidebar-author.styl</code>ï¼Œåœ¨å°†å…¶ä¸­çš„ <code>site-author-image</code> æ›¿æ¢ä¸ºä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="variable">$site</span>-author-image-padding;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="variable">$site</span>-author-image-width;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">$site</span>-author-image-height;</span><br><span class="line">  <span class="attribute">border</span>: <span class="variable">$site</span>-author-image-border-width solid <span class="variable">$site</span>-author-image-border-color;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* å¤´åƒåœ†å½¢ */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="number">#333</span>sf;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* è®¾ç½®å¾ªç¯åŠ¨ç”» [animation: (play)åŠ¨ç”»åç§° (2s)åŠ¨ç”»æ’­æ”¾æ—¶é•¿å•ä½ç§’æˆ–å¾®ç§’ (ase-out)åŠ¨ç”»æ’­æ”¾çš„é€Ÿåº¦æ›²çº¿ä¸ºä»¥ä½é€Ÿç»“æŸ </span></span><br><span class="line"><span class="comment">    (1s)ç­‰å¾…1ç§’ç„¶åå¼€å§‹åŠ¨ç”» (1)åŠ¨ç”»æ’­æ”¾æ¬¡æ•°(infiniteä¸ºå¾ªç¯æ’­æ”¾) ]*/</span></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  <span class="comment">/* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */</span></span><br><span class="line">  -webkit-<span class="attribute">transition</span>: -webkit-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: -moz-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span>:hover &#123;</span><br><span class="line">  <span class="comment">/* é¼ æ ‡ç»è¿‡åœæ­¢å¤´åƒæ—‹è½¬ </span></span><br><span class="line"><span class="comment">  -webkit-animation-play-state:paused;</span></span><br><span class="line"><span class="comment">  animation-play-state:paused;*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span>: rotateZ(<span class="number">360deg</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: rotateZ(<span class="number">360deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: rotateZ(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Z è½´æ—‹è½¬åŠ¨ç”» */</span></span><br><span class="line">@-webkit-keyframes play &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: rotateZ(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: rotateZ(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-moz-keyframes play &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -moz-<span class="attribute">transform</span>: rotateZ(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    -moz-<span class="attribute">transform</span>: rotateZ(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes play &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: rotateZ(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: rotateZ(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-ä¿®æ”¹æ ‡é¢˜é¢œè‰²èƒŒæ™¯"><a href="#2-ä¿®æ”¹æ ‡é¢˜é¢œè‰²èƒŒæ™¯" class="headerlink" title="2. ä¿®æ”¹æ ‡é¢˜é¢œè‰²èƒŒæ™¯"></a>2. ä¿®æ”¹æ ‡é¢˜é¢œè‰²èƒŒæ™¯</h4><p>ä¾æ—§åœ¨ <code>custom.styl</code> æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¢˜å¤´é¢œè‰²ï¼ˆèƒŒæ™¯ï¼‰</span></span><br><span class="line"><span class="selector-class">.site-meta</span> &#123;</span><br><span class="line">  background:url(https://images5.alphacoders.com/103/1033113.png);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">50%</span> <span class="number">63%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸»æ ‡é¢˜é¢œè‰²</span></span><br><span class="line">.brand&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#91FAFE</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰¯æ ‡é¢˜é¢œè‰²</span></span><br><span class="line">.site-subtitle&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#91FAFE</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//TOCç›®å½•é»˜è®¤å…¨éƒ¨å±•å¼€</span></span><br><span class="line"><span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> <span class="selector-class">.nav-child</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>èƒŒæ™¯çš„urlå¯ä»¥æ”¹ä¸ºè‡ªå·±çš„å›¾ç‰‡ï¼ŒåŒæ ·å»ºè®®ä¸è¦å¤ªå¤§ï¼Œå¦åˆ™è¿˜æ˜¯ä¼šåƒæˆ‘è¿™ä¸ªä¸€æ ·æ‰“å¼€å¾ˆæ…¢ã€‚</p><p>é«˜åº¦å¯ä»¥æ ¹æ®è‡ªå·±çš„å‰¯æ ‡é¢˜çš„æ–‡å­—å¤šå°‘è°ƒæ•´è‡³å¯ä»¥æ˜¾ç¤ºå®Œæ•´ã€‚æˆ‘è¿™é‡Œç›´æ¥å»æ‰äº†å‰¯æ ‡é¢˜ï¼Œæ‰€ä»¥ä½¿ç”¨40pxã€‚</p><h4 id="3-æ·»åŠ é˜…è¯»è¿›åº¦ç™¾åˆ†æ¯”"><a href="#3-æ·»åŠ é˜…è¯»è¿›åº¦ç™¾åˆ†æ¯”" class="headerlink" title="3. æ·»åŠ é˜…è¯»è¿›åº¦ç™¾åˆ†æ¯”"></a>3. æ·»åŠ é˜…è¯»è¿›åº¦ç™¾åˆ†æ¯”</h4><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æœç´¢ <code>scrollpercent</code> å°†å…¶å€¼æ”¹ä¸º <code>true</code> å³å¯ã€‚</p><p>æ”¹ä¸ºä¾§è¾¹æ æ˜¾ç¤ºï¼Œå¯ä»¥æŠŠä¸Šé¢çš„ <code>b2t</code> çš„å€¼æ”¹ä¸º <code>true</code></p><h3 id="ä¸‰ã€æ·»åŠ å³ä¸Šè§’-â€œfork-me-on-githubâ€"><a href="#ä¸‰ã€æ·»åŠ å³ä¸Šè§’-â€œfork-me-on-githubâ€" class="headerlink" title="ä¸‰ã€æ·»åŠ å³ä¸Šè§’ â€œfork me on githubâ€"></a>ä¸‰ã€æ·»åŠ å³ä¸Šè§’ â€œfork me on githubâ€</h3><p>ç‚¹å‡»<a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="noopener">è¿™é‡Œ</a>æˆ–è€…<a href="http://tholman.com/github-corners/" target="_blank" rel="noopener">è¿™é‡Œ</a>æŒ‘é€‰è‡ªå·±å–œæ¬¢çš„æ ·å¼ï¼Œå¹¶å¤åˆ¶ä»£ç ã€‚</p><p>æ‰“å¼€ <code>./themes/next/layout/_layout.swig</code> æ–‡ä»¶ï¼Œåœ¨ <code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code> ä¸‹é¢ç²˜è´´ï¼›</p><p>å°†å…¶ä¸­çš„ <code>href</code> æ”¹ä¸ºè‡ªå·±çš„GitHubåœ°å€ã€‚</p><p>é¡ºä¾¿æŠŠ <code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code> è¿™ä¸€è¡Œæ³¨é‡Šæ‰ï¼ˆå‰é¢åŠ  <code>&lt;!--</code> åé¢åŠ  <code>--&gt;</code> ï¼‰è¿™ä¸€è¡Œå°±æ˜¯æœ€ä¸Šé¢çš„é‚£ä¸ªé»‘æ¡ã€‚</p><p>æˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!--fork me--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://github.com/Roc136"</span> <span class="attr">class</span>=<span class="string">"github-corner"</span> <span class="attr">aria-label</span>=<span class="string">"View source on GitHub"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"80"</span> <span class="attr">height</span>=<span class="string">"80"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 250 250"</span> <span class="attr">style</span>=<span class="string">"fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span> <span class="attr">z-index:</span> <span class="attr">10</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"</span> <span class="attr">opacity</span>=<span class="string">0.5</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"</span> <span class="attr">fill</span>=<span class="string">"currentColor"</span> <span class="attr">style</span>=<span class="string">"transform-origin: 130px 106px;"</span> <span class="attr">class</span>=<span class="string">"octo-arm"</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"</span> <span class="attr">fill</span>=<span class="string">"currentColor"</span> <span class="attr">class</span>=<span class="string">"octo-body"</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘é¡ºä¾¿ä¿®æ”¹äº†é€æ˜åº¦ï¼Œåœ¨ç¬¬ä¸€ä¸ª <code>&lt;path&gt;</code> æ ‡ç­¾å†…æ·»åŠ  <code>opacity=0.5</code> ã€‚</p><h3 id="å››ã€è®¾ç½®ä¸»é¡µåªæ˜¾ç¤ºç¼©ç•¥å†…å®¹æˆ–æè¿°å†…å®¹"><a href="#å››ã€è®¾ç½®ä¸»é¡µåªæ˜¾ç¤ºç¼©ç•¥å†…å®¹æˆ–æè¿°å†…å®¹" class="headerlink" title="å››ã€è®¾ç½®ä¸»é¡µåªæ˜¾ç¤ºç¼©ç•¥å†…å®¹æˆ–æè¿°å†…å®¹"></a>å››ã€è®¾ç½®ä¸»é¡µåªæ˜¾ç¤ºç¼©ç•¥å†…å®¹æˆ–æè¿°å†…å®¹</h3><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æŸ¥æ‰¾ <code>auto_excerpt</code> å°† <code>enable</code> å­—æ®µæ”¹ä¸º <code>true</code> ï¼Œ<code>length</code> ä¸ºæ˜¾ç¤ºçš„é•¿åº¦ã€‚</p><p>ä½†æ˜¯å®˜æ–¹ä¸æ¨èè‡ªåŠ¨æ‘˜è¦é•¿åº¦ï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸­æ·»åŠ  <code>&lt;!--more--&gt;</code> æ¥ç²¾ç¡®æ§åˆ¶æ‘˜è¦é•¿åº¦ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥å†æ–‡ç« æ ‡é¢˜éƒ¨åˆ†æ·»åŠ æè¿°æ–‡å­—ï¼ˆ<code>description</code>ï¼‰ã€‚</p><p>å½“ç„¶è¿™å‡ ç§æ–¹æ³•æ˜¯äº’ç›¸ä¸å†²çªçš„ï¼Œæˆ‘é€‰æ‹©æŠŠè‡ªåŠ¨æ§åˆ¶æ‘˜è¦é•¿åº¦æ‰“å¼€ï¼Œè¿™æ ·å‘å¸ƒæ–‡ç« çš„æ—¶å€™å¦‚æœåŠ äº†æè¿°å°±æ˜¾ç¤ºæè¿°å†…å®¹ï¼Œå¦‚æœä¸åŠ å°±ä½¿ç”¨è‡ªåŠ¨æ§åˆ¶æ‘˜è¦é•¿åº¦æ¥æ˜¾ç¤ºæ‘˜è¦ã€‚</p><p>ä¾‹å¦‚æœ¬æ–‡çš„æ ‡é¢˜éƒ¨åˆ†ä¸º</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: åšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--ç¾åŒ–ç¯‡ï¼ˆ1)</span><br><span class="line">copyright: true</span><br><span class="line">description: åšå®¢æ­å»ºå¥½äº†ï¼Œé»˜è®¤çš„æ•ˆæœè‡ªç„¶æ˜¯ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚çš„ï¼Œæ‰€ä»¥è¿˜è¦å¯¹ä¸»é¢˜è¿›è¡Œä¸€äº›ï¼Œç¾åŒ–ã€‚æœ¬æ–‡æ˜¯æˆ‘ä»¬ç¾åŒ–çš„ç¬¬ä¸€æ­¥ï¼Œä¸»è¦ä»‹ç»èƒŒæ™¯å’Œä¾§è¾¹æ çš„ç¾åŒ–ï¼Œæ·»åŠ å³ä¸Šè§’ â€œfork me on githubâ€ å·²åŠå¦‚ä½•åœ¨é¦–é¡µä»…æ˜¾ç¤ºæ‘˜è¦å†…å®¹ã€‚æœ¬æ–‡æ˜¯åœ¨ä¸Šä¸€ç¯‡çš„åŸºç¡€ä¸Šè¿›è¡Œç¾åŒ–ï¼Œè¿˜æ²¡æœ‰çœ‹ä¸Šä¸€ç¯‡çš„æœ‹å‹å¯ä»¥å…ˆçœ‹ä¸Šä¸€ç¯‡ã€‚<span class="xml"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span> åšä¸»ä½¿ç”¨ç¯å¢ƒï¼šWindowsç‰ˆæœ¬ï¼šWin10 2004æ•™è‚²ç‰ˆï¼Œ64ä½ï¼›Node.js ç‰ˆæœ¬ï¼š12.18.0-x64</span><br><span class="line">date: 2020-06-17 10:34:33</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">- </span>Hexo</span><br><span class="line"><span class="bullet">- </span>blog</span><br><span class="line">categories: blog</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿æ¯æ¬¡æ·»åŠ ï¼Œå¯ä»¥ä¿®æ”¹æ–‡ä»¶ <code>./scaffolds/post.md</code> æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ </p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">description: è¿™é‡Œæ˜¾ç¤ºæè¿°æ–‡å­—</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ¯æ¬¡newä¸€ä¸ªæ–°çš„æ–‡ç« çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨åœ¨æ ‡å¤´ä¸ŠåŠ ä¸Šæè¿°æ–‡å­—çš„å­—æ®µã€‚</p><h3 id="æœ€ç»ˆæˆæœï¼š"><a href="#æœ€ç»ˆæˆæœï¼š" class="headerlink" title="æœ€ç»ˆæˆæœï¼š"></a>æœ€ç»ˆæˆæœï¼š</h3><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beautify-1/forth.png" alt=""></p><hr><p>å‚è€ƒå†…å®¹ï¼š<a href="http://shenzekun.cn/hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®æ•™ç¨‹.html" target="_blank" rel="noopener">hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®æ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> 2.ç¾åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Next+GitHubåšå®¢æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹--å¼€å§‹ç¯‡</title>
      <link href="/posts/blog-building/beginning/"/>
      <url>/posts/blog-building/beginning/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€ç¯å¢ƒå‡†å¤‡"><a href="#ä¸€ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ä¸€ã€ç¯å¢ƒå‡†å¤‡"></a>ä¸€ã€ç¯å¢ƒå‡†å¤‡</h3><h4 id="1-å®‰è£…Node-js"><a href="#1-å®‰è£…Node-js" class="headerlink" title="1. å®‰è£…Node.js"></a>1. å®‰è£…Node.js</h4><p>ç”±äºhexoéœ€è¦ä½¿ç”¨npmå®‰è£…ï¼Œå®‰è£…nodeä¼šé™„å¸¦npmï¼Œ<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">ç‚¹å‡»ä¸‹è½½Node.js</a>ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/nodejsdownload.png" alt=""></p><p>å»ºè®®é€‰æ‹©é•¿æœŸæ”¯æŒç‰ˆ~</p><p>ä¸‹è½½åæ‰“å¼€msiæ ¼å¼çš„å®‰è£…åŒ…ï¼Œä¸€è·¯ç‚¹å‡»nextå³å¯ï¼Œå¦‚æœè¦æ”¹è·¯å¾„çš„è¯å¯ä»¥æ”¹ä¸€ä¸‹å®‰è£…è·¯å¾„ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/nodejs_install.png" alt=""></p><h4 id="2-å®‰è£…git"><a href="#2-å®‰è£…git" class="headerlink" title="2.å®‰è£…git"></a>2.å®‰è£…git</h4><p>Hexoçš„å®‰è£…éœ€è¦ä½¿ç”¨git,<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">ç‚¹å‡»ä¸‹è½½git</a></p><p>é€‰æ‹©Windowsç‰ˆæœ¬ä¸‹è½½</p><p>å…·ä½“å®‰è£…æ•™ç¨‹è¯¦è§ <a href="https://www.jianshu.com/p/414ccd423efc" target="_blank" rel="noopener">Gitå®‰è£…æ•™ç¨‹(Windowså®‰è£…è¶…è¯¦ç»†æ•™ç¨‹)</a>ï¼Œè¿™ä¸€ç¯‡çœŸçš„æ˜¯å¤ªè¯¦ç»†äº†ï¼</p><h3 id="äºŒã€å®‰è£…Hexo"><a href="#äºŒã€å®‰è£…Hexo" class="headerlink" title="äºŒã€å®‰è£…Hexo"></a>äºŒã€å®‰è£…Hexo</h3><p>åˆ›å»ºä¸€ä¸ªåšå®¢ä¸“å±ç›®å½•ï¼Œåœ¨å½“å‰ç›®å½•è¿›å…¥å‘½ä»¤è¡Œ</p><p>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install -g hexo-cli</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo init</span></span><br></pre></td></tr></table></figure><p><code>install</code> è¿‡ç¨‹å¯èƒ½ä¼šå‡ºç°warningå±äºæ­£å¸¸ç°è±¡ã€‚</p><p><code>init</code> è¿‡ç¨‹è¾ƒæ…¢ï¼Œéœ€è€å¿ƒç­‰å¾…ã€‚</p><p>ç»“æŸåï¼Œè¯¥æ–‡ä»¶å¤¹å†…å‡ºç°å¦‚ä¸‹å†…å®¹åˆ™ä¸€åˆ‡æ­£å¸¸ï¼ˆç‰ˆæœ¬ä¸åŒå¯èƒ½ä¼šæœ‰å·®åˆ«ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ .gitignore</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ package-lock.json</span><br><span class="line">â”œâ”€â”€ node_modules</span><br><span class="line">| â”œâ”€â”€ .bin</span><br><span class="line">| â”œâ”€â”€ @types</span><br><span class="line">|â””â”€â”€...</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">| â”œâ”€â”€ draft.md</span><br><span class="line">| â”œâ”€â”€ page.md</span><br><span class="line">|â””â”€â”€ post.md</span><br><span class="line">â”œâ”€â”€ source </span><br><span class="line">|â””â”€â”€ _posts</span><br><span class="line">â””â”€â”€ themes</span><br><span class="line">â””â”€â”€landscape</span><br></pre></td></tr></table></figure><p>ç»§ç»­æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo g</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo s --debug</span></span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> å‡ºç°å¦‚ä¸‹é¡µé¢</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/first.png" alt=""></p><p>æœ€å¼€å§‹çš„åšå®¢ç•Œé¢å°±åšå¥½å•¦~</p><p><code>Ctrl+C</code> å¯ä»¥ç»“æŸæœ¬åœ°è°ƒè¯•ã€‚</p><p>ä½†æ˜¯é»˜è®¤çš„ä¸»é¢˜å¯å‘æŒ¥çš„ç©ºé—´ä¸å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å®‰è£…ä¸€ä¸ªæ–°çš„ä¸»é¢˜Next</p><h3 id="ä¸‰ã€å®‰è£…NexTä¸»é¢˜"><a href="#ä¸‰ã€å®‰è£…NexTä¸»é¢˜" class="headerlink" title="ä¸‰ã€å®‰è£…NexTä¸»é¢˜"></a>ä¸‰ã€å®‰è£…NexTä¸»é¢˜</h3><h4 id="1-å®‰è£…ä¸»é¢˜"><a href="#1-å®‰è£…ä¸»é¢˜" class="headerlink" title="1. å®‰è£…ä¸»é¢˜"></a>1. å®‰è£…ä¸»é¢˜</h4><p>ä¾æ—§åœ¨åšå®¢ç›®å½•ä¸‹ï¼Œä½¿ç”¨gitæ¥cloneä¸»é¢˜åˆ°æœ¬åœ°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span></span><br></pre></td></tr></table></figure><p>è¿‡ç¨‹ä¹Ÿä¼šæ¯”è¾ƒæ…¢ï¼Œè€å¿ƒç­‰å¾…ï¼Œç»“æŸåä¼šå‘ç° <code>theme</code> æ–‡ä»¶å¤¹ä¸‹å¤šäº† <code>next</code> æ–‡ä»¶å¤¹</p><p>ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå¯ä»¥ä½¿ç”¨è®°äº‹æœ¬ï¼Œè¿™é‡Œæ¨è<a href="https://notepad-plus-plus.org/" target="_blank" rel="noopener">Notepad++</a>æˆ–<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">VScode</a>ï¼‰æ‰“å¼€<code>.\_config.yml</code> æ–‡ä»¶ï¼ˆä»¥ä¸‹ç»Ÿç§°ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼‰ï¼Œä½¿ç”¨ <code>Ctrl+F</code> æŸ¥æ‰¾ <code>theme</code> å­—æ®µï¼Œå°†å…¶å€¼ä¿®æ”¹ä¸º <code>next</code> ã€‚</p><p>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo clean</span></span><br></pre></td></tr></table></figure><p>æ¸…é™¤ä¸Šä¸€æ¬¡ç¼–è¯‘çš„ç¼“å­˜</p><p>å†æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo g &amp;&amp; hexo s</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> æ£€æŸ¥ä¸»é¢˜æ˜¯å¦æ”¹å˜</p><p>å¦‚æœæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢åˆ™ä¸€åˆ‡æ­£å¸¸ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/second.png" alt=""></p><h4 id="2-ä¿®æ”¹ä¸»é¢˜æ–¹æ¡ˆä¸ºGemini"><a href="#2-ä¿®æ”¹ä¸»é¢˜æ–¹æ¡ˆä¸ºGemini" class="headerlink" title="2. ä¿®æ”¹ä¸»é¢˜æ–¹æ¡ˆä¸ºGemini"></a>2. ä¿®æ”¹ä¸»é¢˜æ–¹æ¡ˆä¸ºGemini</h4><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° <code>Schemes</code> å­—æ®µï¼Œå°†åŸæœ‰ <code>Muse</code> æ³¨é‡Šæ‰ï¼Œå°† <code>Gemini</code> å–æ¶ˆæ³¨é‡Šï¼Œé‡æ–°ç¼–è¯‘ã€‚</p><h4 id="3-ä¿®æ”¹æ ‡é¢˜å’Œä½œè€…"><a href="#3-ä¿®æ”¹æ ‡é¢˜å’Œä½œè€…" class="headerlink" title="3. ä¿®æ”¹æ ‡é¢˜å’Œä½œè€…"></a>3. ä¿®æ”¹æ ‡é¢˜å’Œä½œè€…</h4><p>æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>Site</code> å­—æ®µï¼Œä¿®æ”¹å…¶ä¸­å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: åšå®¢æ ‡é¢˜</span><br><span class="line">subtitle: å‰¯æ ‡é¢˜</span><br><span class="line">descripition: æè¿°</span><br><span class="line">author: ä½œè€…</span><br></pre></td></tr></table></figure><p>é‡æ–°ç¼–è¯‘ã€‚</p><p><strong>NexTä¸»é¢˜çš„ç¾åŒ–ä¼šåœ¨åç»­çš„æ–‡ç« ä¸­è¯¦ç»†ä»‹ç»ã€‚</strong></p><h3 id="å››ã€å¢åŠ å†…å®¹"><a href="#å››ã€å¢åŠ å†…å®¹" class="headerlink" title="å››ã€å¢åŠ å†…å®¹"></a>å››ã€å¢åŠ å†…å®¹</h3><h4 id="1-å¢åŠ æ–°æ–‡ç« "><a href="#1-å¢åŠ æ–°æ–‡ç« " class="headerlink" title="1. å¢åŠ æ–°æ–‡ç« "></a>1. å¢åŠ æ–°æ–‡ç« </h4><p>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo new your_article_name</span></span><br></pre></td></tr></table></figure><p>ä¼šå‘ç° <code>source\_post</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºäº†æ–°æ–‡ä»¶ <code>your_article_name.md</code> ï¼Œç¼–è¾‘æ–‡ä»¶ï¼ˆæ”¯æŒmarkdownçš„æ–‡æœ¬ç¼–è¾‘å™¨æœ‰å¾ˆå¤šï¼Œè¿™é‡Œæ¨è <a href="https://typora.io/" target="_blank" rel="noopener">Typora</a>ï¼‰ï¼Œå†™ä¸Šè‡ªå·±çš„å†…å®¹ã€‚</p><p>æ·»åŠ æ ‡ç­¾ï¼š</p><p>åœ¨æ ‡å¤´ä¸­çš„æ—¥æœŸä¸‹é¢æ·»åŠ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tags:</span><br><span class="line">- Hexo</span><br><span class="line">- blog</span><br><span class="line">categories: blog</span><br></pre></td></tr></table></figure><p>æ ‡ç­¾å¯ä»¥å¤šä¸ªï¼Œåˆ†ç±»å¯ä»¥å¤šå±‚ï¼Œå‡ä½¿ç”¨ <code>-</code> æ ‡è®°ï¼Œã€‚å¦‚æœ¬æ–‡çš„æ ‡ç­¾ä¸º <code>Hexo</code> å’Œ <code>blog</code> ï¼Œåˆ†ç±»ä¸º <code>blog-æ­å»º</code> ã€‚</p><p>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span></span><br></pre></td></tr></table></figure><p>å†æ¬¡æ‰“å¼€ <code>localhost:4000</code> å³å¯çœ‹åˆ°è‡ªå·±åˆšåˆšå†™çš„æ–‡ç« ã€‚</p><h4 id="2-å¢åŠ é¡µé¢"><a href="#2-å¢åŠ é¡µé¢" class="headerlink" title="2. å¢åŠ é¡µé¢"></a>2. å¢åŠ é¡µé¢</h4><p>æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ<code>./theme/next/_config,yml</code>ï¼‰ï¼Œæœç´¢ <code>menu</code> å­—æ®µï¼Œå°†éœ€è¦æ·»åŠ çš„é¡µé¢å–æ¶ˆæ³¨é‡Šï¼Œä¾‹å¦‚aboutï¼Œä¹Ÿå¯ä»¥æ·»åŠ è‡ªå·±çš„è‡ªå®šä¹‰é¡µé¢ï¼Œæ¯ä¸€è¡Œå†…å®¹åˆ†åˆ«æ˜¯ <code>é¡µé¢åå­—: /è·¯å¾„/||å›¾æ ‡</code>ï¼Œé¡µé¢åå­—ä¼šåœ¨è¯­è¨€æ–‡ä»¶ï¼ˆåç»­ä¼šæåˆ°ï¼‰ä¸­å¯¹åº”ä¸€ä¸ªæ˜¾ç¤ºçš„åå­—ï¼›è·¯å¾„æ˜¯åœ¨ <code>./source/</code>æ–‡ä»¶å¤¹ä¸­çš„ç›¸å¯¹è·¯å¾„ï¼Œ å…¶ä¸­ <code>home</code> å¯¹åº” <code>_post</code> æ–‡ä»¶å¤¹ï¼›å›¾æ ‡æ˜¯åœ¨è¯·åœ¨ <a href="http://www.fontawesome.com.cn/faicons/" target="_blank" rel="noopener">å›¾æ ‡åº“</a> ä¸­æŸ¥æ‰¾ã€‚</p><p>æ³¨æ„è¿™é‡Œè¦æŠŠè·¯å¾„åé¢çš„ç©ºæ ¼åˆ å»ã€‚</p><h5 id="1ï¼‰æ·»åŠ åŸæœ‰é¡µé¢ï¼ˆä»¥å…³äºé¡µä¸ºä¾‹ï¼‰ï¼š"><a href="#1ï¼‰æ·»åŠ åŸæœ‰é¡µé¢ï¼ˆä»¥å…³äºé¡µä¸ºä¾‹ï¼‰ï¼š" class="headerlink" title="1ï¼‰æ·»åŠ åŸæœ‰é¡µé¢ï¼ˆä»¥å…³äºé¡µä¸ºä¾‹ï¼‰ï¼š"></a>1ï¼‰æ·»åŠ åŸæœ‰é¡µé¢ï¼ˆä»¥å…³äºé¡µä¸ºä¾‹ï¼‰ï¼š</h5><p>å–æ¶ˆæ³¨é‡Šåï¼Œæ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo new page about</span></span><br></pre></td></tr></table></figure><p>ä¼šå‘ç° <code>source</code> æ–‡ä»¶å¤¹ä¸‹å¤šå‡º <code>about</code> æ–‡ä»¶å¤¹ï¼Œç¼–è¾‘å…¶ä¸­çš„ <code>index.md</code> æ–‡ä»¶ï¼Œå†™ä¸Šè‡ªå·±çš„å†…å®¹ï¼Œå†æ¬¡ç¼–è¯‘å³å¯çœ‹åˆ°å¢åŠ äº†å…³äºé¡µé¢ã€‚</p><p>æ³¨ï¼šå¦‚æœæ˜¯åˆ†ç±»å’Œæ ‡ç­¾é¡µé¢ï¼Œéœ€è¦åˆ†åˆ«åœ¨æ—¥æœŸä¸‹é¢æ·»åŠ  <code>type: categories</code> å’Œ <code>type: tags</code> å­—æ®µå¦‚ä¸‹ã€‚</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/tags.png" alt=""></p><h5 id="2ï¼‰æ·»åŠ è‡ªå®šä¹‰é¡µé¢ï¼ˆä»¥ç•™è¨€å¢™ä¸ºä¾‹ï¼‰ï¼š"><a href="#2ï¼‰æ·»åŠ è‡ªå®šä¹‰é¡µé¢ï¼ˆä»¥ç•™è¨€å¢™ä¸ºä¾‹ï¼‰ï¼š" class="headerlink" title="2ï¼‰æ·»åŠ è‡ªå®šä¹‰é¡µé¢ï¼ˆä»¥ç•™è¨€å¢™ä¸ºä¾‹ï¼‰ï¼š"></a>2ï¼‰æ·»åŠ è‡ªå®šä¹‰é¡µé¢ï¼ˆä»¥ç•™è¨€å¢™ä¸ºä¾‹ï¼‰ï¼š</h5><p>åœ¨ <code>menu</code> å­—æ®µçš„æœ€åä¸€è¡Œæ·»åŠ  <code>wall: /wall/|| pencil-square-o</code></p><p>è‡ªè¡Œç¼–è¾‘å…¶ä¸­å†…å®¹ã€‚</p><p>æ‰“å¼€ <code>./theme/next/languages/zh-Hans.yml</code> ï¼ˆç®€ä½“ä¸­æ–‡é…ç½®æ–‡ä»¶ï¼Œå…¶ä»–è¯­è¨€æ–‡ä»¶ç±»ä¼¼æ·»åŠ ï¼‰ï¼Œæ‰¾åˆ° <code>menu</code> å­—æ®µï¼Œåœ¨ä¸‹é¢æ·»åŠ ä¸€è¡Œ <code>wall: ç•™è¨€å¢™</code> å³å¯ã€‚</p><h5 id="3ï¼‰ä¿®æ”¹è¯­è¨€ï¼ˆå¯ä»¥ä¸åšï¼Œé»˜è®¤è‹±æ–‡ï¼‰"><a href="#3ï¼‰ä¿®æ”¹è¯­è¨€ï¼ˆå¯ä»¥ä¸åšï¼Œé»˜è®¤è‹±æ–‡ï¼‰" class="headerlink" title="3ï¼‰ä¿®æ”¹è¯­è¨€ï¼ˆå¯ä»¥ä¸åšï¼Œé»˜è®¤è‹±æ–‡ï¼‰"></a>3ï¼‰ä¿®æ”¹è¯­è¨€ï¼ˆå¯ä»¥ä¸åšï¼Œé»˜è®¤è‹±æ–‡ï¼‰</h5><p>æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>language</code> å­—æ®µï¼Œä¿®æ”¹ä¸ºæƒ³è¦çš„è¯­è¨€ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œé€‰æ‹©ç®€ä½“ä¸­æ–‡ <code>zh-Hans</code>ï¼Œåå­—å°±æ˜¯languageæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶åã€‚</p><p>æ¸…é™¤ç¼“å­˜é‡æ–°ç¼–è¯‘å‘ç°å·²ç»æ”¹å˜è¯­è¨€ã€‚</p><h3 id="äº”ã€å‘å¸ƒåˆ°GitHub"><a href="#äº”ã€å‘å¸ƒåˆ°GitHub" class="headerlink" title="äº”ã€å‘å¸ƒåˆ°GitHub"></a>äº”ã€å‘å¸ƒåˆ°GitHub</h3><h4 id="1-æ³¨å†ŒGitHubè´¦å·"><a href="#1-æ³¨å†ŒGitHubè´¦å·" class="headerlink" title="1. æ³¨å†ŒGitHubè´¦å·"></a>1. æ³¨å†ŒGitHubè´¦å·</h4><p><a href="https://github.com/" target="_blank" rel="noopener">ç‚¹å‡»æ³¨å†Œ</a></p><p>é™„ä¸Šä¸€ä¸ªGitHub<a href="https://www.runoob.com/w3cnote/git-guide.html" target="_blank" rel="noopener">ä½¿ç”¨æ•™ç¨‹</a></p><h4 id="2-åœ¨GitHubä¸Šåˆ›å»ºæ–°ä»“åº“"><a href="#2-åœ¨GitHubä¸Šåˆ›å»ºæ–°ä»“åº“" class="headerlink" title="2. åœ¨GitHubä¸Šåˆ›å»ºæ–°ä»“åº“"></a>2. åœ¨GitHubä¸Šåˆ›å»ºæ–°ä»“åº“</h4><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/create.png" alt=""></p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/create2.png" alt=""></p><p>ä»“åº“åå­—ä¸º <code>username.github.io</code></p><h4 id="3-åœ¨æœ¬åœ°é…ç½®gitç”¨æˆ·åå’Œå¯†ç "><a href="#3-åœ¨æœ¬åœ°é…ç½®gitç”¨æˆ·åå’Œå¯†ç " class="headerlink" title="3. åœ¨æœ¬åœ°é…ç½®gitç”¨æˆ·åå’Œå¯†ç "></a>3. åœ¨æœ¬åœ°é…ç½®gitç”¨æˆ·åå’Œå¯†ç </h4><p>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.name <span class="string">"your username"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.email <span class="string">"you email"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ssh-keygen -t rsa -C <span class="string">"your email"</span></span></span><br></pre></td></tr></table></figure><p>è¿ç»­ä¸‰æ¬¡å›è½¦ï¼ˆé»˜è®¤è·¯å¾„å’Œæ— å¯†ç ï¼‰</p><p>åœ¨ <code>C:\Users\Yourname\.ssh</code> ä¸‹ä¼šå‡ºç°ä¸¤ä¸ªæ–‡ä»¶ <code>id_rsa</code> å’Œ <code>id_rsa_pub</code> ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ <code>id_rsa.pub</code> ï¼Œå¤åˆ¶å…¶ä¸­çš„å†…å®¹</p><p>æ‰“å¼€GitHubçš„ <a href="https://github.com/settings/keys" target="_blank" rel="noopener">SSH key</a> è®¾ç½®ï¼Œç‚¹å‡» <code>New SSH key</code>ï¼Œ åœ¨Keyæ ç²˜è´´åˆšåˆšå¤åˆ¶çš„å†…å®¹ï¼ŒTitleå¯ä»¥éšæ„è®¾ç½®</p><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/newssh.png" alt=""></p><p><strong>Tips:</strong> è¦é…ç½®å…å¯†æäº¤ï¼Œå‚è€ƒï¼š<a href="https://segmentfault.com/a/1190000005125610" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005125610</a></p><h4 id="4-ä¿®æ”¹æœ¬åœ°Hexoé…ç½®"><a href="#4-ä¿®æ”¹æœ¬åœ°Hexoé…ç½®" class="headerlink" title="4. ä¿®æ”¹æœ¬åœ°Hexoé…ç½®"></a>4. ä¿®æ”¹æœ¬åœ°Hexoé…ç½®</h4><p>æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>deploy</code> å­—æ®µï¼Œä¿®æ”¹å†…å®¹ä¸º</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://gtihub.com/your_github_username/your_name.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h4 id="5-å®‰è£…éƒ¨ç½²å·¥å…·"><a href="#5-å®‰è£…éƒ¨ç½²å·¥å…·" class="headerlink" title="5. å®‰è£…éƒ¨ç½²å·¥å…·"></a>5. å®‰è£…éƒ¨ç½²å·¥å…·</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install hexo-deployer-git --save</span></span><br></pre></td></tr></table></figure><h4 id="6-éƒ¨ç½²"><a href="#6-éƒ¨ç½²" class="headerlink" title="6. éƒ¨ç½²"></a>6. éƒ¨ç½²</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo clean &amp;&amp; hexo g <span class="comment">#æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç¼–è¯‘</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo d <span class="comment">#å‘å¸ƒ</span></span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¬¡å‘å¸ƒç”±äºæ–‡ä»¶è¾ƒå¤šï¼Œå‘å¸ƒè¾ƒæ…¢ã€‚</p><p>å‘å¸ƒè¿‡ç¨‹å¯èƒ½ä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå±äºæ­£å¸¸ç°è±¡ã€‚</p><p>åœ¨æµè§ˆå™¨è¾“å…¥ <a href="https://yourname.github.io/" target="_blank" rel="noopener">https://yourname.github.io/</a> å°±å¯ä»¥çœ‹åˆ°ä½ çš„åšå®¢äº†</p><p>è‡³æ­¤ï¼Œåšå®¢æ­å»ºçš„åŸºç¡€å°±å®Œæˆäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ¿€åŠ¨å‘¢~</p><h3 id="æœ€ç»ˆæˆæœï¼š"><a href="#æœ€ç»ˆæˆæœï¼š" class="headerlink" title="æœ€ç»ˆæˆæœï¼š"></a>æœ€ç»ˆæˆæœï¼š</h3><p><img src= "/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/beginning/third.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
          <category> 1.æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginxçœç•¥index.phpåŠå…¶ä»–index</title>
      <link href="/posts/php-hide-index/"/>
      <url>/posts/php-hide-index/</url>
      
        <content type="html"><![CDATA[<p>ç¼–è¾‘nginxé…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;nginx&#x2F;nginx.conf</span><br></pre></td></tr></table></figure><p>åœ¨serverä¸­æ·»åŠ indexï¼Œå¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        index index.php index.html index.htm l.php;</span><br><span class="line">        autoindex  on;</span><br><span class="line">        </span><br><span class="line">        if (!-e $request_filename) &#123;</span><br><span class="line">      #ä¸€çº§ç›®å½•</span><br><span class="line">     # rewrite ^&#x2F;(.*)$ &#x2F;index.php&#x2F;$1 last;</span><br><span class="line">      #äºŒçº§ç›®å½•,è¿™é‡Œæ³¨æ„ä¿®æ”¹æˆè‡ªå·±çš„é¡¹ç›®ç›®å½•</span><br><span class="line">      rewrite ^&#x2F;rent&#x2F;public&#x2F;(.*)$ &#x2F;rent&#x2F;public&#x2F;index.php&#x2F;$1 last;</span><br><span class="line">   &#125; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">    #</span><br><span class="line">    location ~ \.php(.*)$  &#123;</span><br><span class="line">        fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">        fastcgi_index  index.php;</span><br><span class="line">        fastcgi_split_path_info  ^((?U).+\.php)(&#x2F;?.+)$;</span><br><span class="line">        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;</span><br><span class="line">        fastcgi_param  PATH_INFO  $fastcgi_path_info;</span><br><span class="line">        fastcgi_param  PATH_TRANSLATED  $document_root$fastcgi_path_info;</span><br><span class="line">        include        fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>live2dçœ‹æ¿å¨˜é…ç½®çš„ä¸€äº›å‘</title>
      <link href="/posts/live2d/"/>
      <url>/posts/live2d/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡é’ˆå¯¹GitHubä¸Šå¼ ä¹¦æ¨µå¤§ä½¬(<a href="https://zhangshuqiao.org" target="_blank" rel="noopener">ç‚¹å‡»æ‰“å¼€ä»–çš„åšå®¢</a>)çš„<a href="https://github.com/stevenjoezhang/live2d-widget" target="_blank" rel="noopener">çœ‹æ¿å¨˜</a>çš„ä¸€äº›å¯èƒ½çš„å‘åšä¸€äº›è¡¥å……</p><p>å…·ä½“å®ç°æ–¹æ³•ç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œè¿™é‡Œä¸åšå…·ä½“ä»‹ç»ï¼Œé™„ä¸Šè¿™ä½å¤§ä½¬è‡ªå·±å†™çš„ï¼š</p><p><a href="https://zhangshuqiao.org/2018-07/åœ¨ç½‘é¡µä¸­æ·»åŠ Live2Dçœ‹æ¿å¨˜/" target="_blank" rel="noopener">åœ¨ç½‘é¡µä¸­æ·»åŠ Live2Dçœ‹æ¿å¨˜</a></p><h4 id="1ã€é…ç½®å¥½ååªæ˜¾ç¤ºæŒ‰é’®å’Œæ–‡å­—ï¼Œä¸æ˜¾ç¤ºäººç‰©"><a href="#1ã€é…ç½®å¥½ååªæ˜¾ç¤ºæŒ‰é’®å’Œæ–‡å­—ï¼Œä¸æ˜¾ç¤ºäººç‰©" class="headerlink" title="1ã€é…ç½®å¥½ååªæ˜¾ç¤ºæŒ‰é’®å’Œæ–‡å­—ï¼Œä¸æ˜¾ç¤ºäººç‰©"></a>1ã€é…ç½®å¥½ååªæ˜¾ç¤ºæŒ‰é’®å’Œæ–‡å­—ï¼Œä¸æ˜¾ç¤ºäººç‰©</h4><p>æœ‰ä¸¤ç§å¯èƒ½æ€§ï¼š</p><h5 id="1ï¼‰è‡ªå·±æ­çš„apiæœåŠ¡å™¨ä¸æ”¯æŒè·¨åŸŸ"><a href="#1ï¼‰è‡ªå·±æ­çš„apiæœåŠ¡å™¨ä¸æ”¯æŒè·¨åŸŸ" class="headerlink" title="1ï¼‰è‡ªå·±æ­çš„apiæœåŠ¡å™¨ä¸æ”¯æŒè·¨åŸŸ"></a>1ï¼‰è‡ªå·±æ­çš„<a href="https://github.com/liandie/live2d_api" target="_blank" rel="noopener">api</a>æœåŠ¡å™¨ä¸æ”¯æŒè·¨åŸŸ</h5><p>ä¸ºæœåŠ¡å™¨å¢åŠ è·¨åŸŸè®¸å¯ï¼Œå…·ä½“æ–¹æ³•å¯ä»¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç«  <a href="https://roc136.github.io/2020/06/08/cros/#more" target="_blank" rel="noopener">Nginxé€šè¿‡CROSå®ç°è·¨åŸŸ</a></p><h5 id="2ï¼‰This-request-has-been-blocked-the-content-must-be-served-over-HTTPS"><a href="#2ï¼‰This-request-has-been-blocked-the-content-must-be-served-over-HTTPS" class="headerlink" title="2ï¼‰This request has been blocked; the content must be served over HTTPS."></a>2ï¼‰This request has been blocked; the content must be served over HTTPS.</h5><p>è‡ªå·±æ²¡æœ‰åŸŸåï¼Œç›´æ¥ä½¿ç”¨ipä½œä¸ºapiçš„åœ°å€ï¼Œä½¿ç”¨çš„æ˜¯httpï¼Œæµè§ˆå™¨ä¸å…è®¸httpsé¡µé¢åŠ è½½httpçš„å†…å®¹</p><p>è§£å†³åŠæ³•ï¼šä¸ºæœåŠ¡å™¨æ·»åŠ httpsè®¿é—®çš„æ–¹å¼ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯nginx</p><p>å…·ä½“å‚è€ƒï¼š<a href="https://juejin.im/post/5d81906c518825300a3ec7ca#é…ç½®-https-è¯ä¹¦" target="_blank" rel="noopener">nginx è¿™ä¸€ç¯‡å°±å¤Ÿäº†</a></p><p>ç„¶åå°†å¡«çš„apiæ”¹ä¸ºhttpsï¼Œå¦å¤–ï¼Œéœ€è¦æœåŠ¡å™¨å¼€å¯443ç«¯å£ã€‚</p><p>ä½†æ˜¯è¿™ç§æ–¹å¼ä¸èƒ½ä¿è¯ç¨³å®šï¼Œè€Œä¸”ä¼šä½¿ä½ çš„åšå®¢è¢«æµè§ˆå™¨æ ‡è®°ä¸ºâ€œä¸å®‰å…¨â€ï¼Œæœ€å¥½æ˜¯å¯ä»¥æ³¨å†ŒåŸŸåï¼Œä¹°ä¸€ä¸ªè¯ä¹¦ã€‚</p><h4 id="2ã€é…ç½®å¥½åæ˜¾ç¤ºä¸¤ä¸ªäººç‰©ï¼Œå‡ºç°é‡å½±"><a href="#2ã€é…ç½®å¥½åæ˜¾ç¤ºä¸¤ä¸ªäººç‰©ï¼Œå‡ºç°é‡å½±" class="headerlink" title="2ã€é…ç½®å¥½åæ˜¾ç¤ºä¸¤ä¸ªäººç‰©ï¼Œå‡ºç°é‡å½±"></a>2ã€é…ç½®å¥½åæ˜¾ç¤ºä¸¤ä¸ªäººç‰©ï¼Œå‡ºç°é‡å½±</h4><p>theme/_config.ymlä¸­çš„live2då’Œ/_config.ymlä¸­çš„live2dé‡å¤</p><p>å°†/_config.ymlä¸­live2dçš„enableæ”¹ä¸ºfalseå³å¯</p><p>åŸå› ï¼šä½¿ç”¨çœ‹æ¿å¨˜å°±ä¸éœ€è¦è‡ªå¸¦çš„live2dï¼ŒåŒæ—¶å¼€å¯å°±ä¼šå‡ºç°â€œé‡å½±â€</p><h4 id="3ã€å¾…è¡¥å……"><a href="#3ã€å¾…è¡¥å……" class="headerlink" title="3ã€å¾…è¡¥å……"></a>3ã€å¾…è¡¥å……</h4>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginxé€šè¿‡CROSå®ç°è·¨åŸŸ</title>
      <link href="/posts/cros/"/>
      <url>/posts/cros/</url>
      
        <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯CORS"><a href="#ä»€ä¹ˆæ˜¯CORS" class="headerlink" title="ä»€ä¹ˆæ˜¯CORS"></a>ä»€ä¹ˆæ˜¯CORS</h3><p>CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯è·¨åŸŸèµ„æºå…±äº«(Cross-origin resource sharing)ã€‚å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚</p><p>å½“å‰å‡ ä¹æ‰€æœ‰çš„æµè§ˆå™¨(Internet Explorer 8+ï¼Œ Firefox 3.5+ï¼Œ Safari 4+å’Œ Chrome 3+)éƒ½å¯é€šè¿‡åä¸ºè·¨åŸŸèµ„æºå…±äº«(Cross-Origin Resource Sharing)çš„åè®®æ”¯æŒAJAXè·¨åŸŸè°ƒç”¨ã€‚</p><p>Chrome,Firefox,Opera,Safariéƒ½ä½¿ç”¨çš„æ˜¯XMLHttpRequest2å¯¹è±¡ï¼ŒIEä½¿ç”¨XDomainRequestã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯è·¨åŸŸçš„ç›®æ ‡æœåŠ¡å™¨è¦è¿”å›ä¸€ç³»åˆ—çš„Headersï¼Œé€šè¿‡è¿™äº›Headersæ¥æ§åˆ¶æ˜¯å¦åŒæ„è·¨åŸŸã€‚è·¨åŸŸèµ„æºå…±äº«(CORS)ä¹Ÿæ˜¯æœªæ¥çš„è·¨åŸŸé—®é¢˜çš„æ ‡å‡†è§£å†³æ–¹æ¡ˆã€‚</p><p>CORSæä¾›å¦‚ä¸‹Headersï¼ŒRequeståŒ…å’ŒResponseåŒ…ä¸­éƒ½æœ‰ä¸€éƒ¨åˆ†ã€‚</p><p><strong>HTTP Response Header</strong></p><ul><li>Access-Control-Allow-Origin</li><li>Access-Control-Allow-Credentials</li><li>Access-Control-Allow-Methods</li><li>Access-Control-Allow-Headers</li><li>Access-Control-Expose-Headers</li><li>Access-Control-Max-Age</li></ul><p><strong>HTTP Request Header</strong></p><ul><li>Access-Control-Request-Method</li><li>Access-Control-Request-Headers</li></ul><p>å…¶ä¸­æœ€æ•æ„Ÿçš„å°±æ˜¯Access-Control-Allow-Originè¿™ä¸ªHeader, å®ƒæ˜¯W3Cæ ‡å‡†é‡Œç”¨æ¥æ£€æŸ¥è¯¥è·¨åŸŸè¯·æ±‚æ˜¯å¦å¯ä»¥è¢«é€šè¿‡ã€‚(Access Control Check)ã€‚å¦‚æœéœ€è¦è·¨åŸŸï¼Œè§£å†³æ–¹æ³•å°±æ˜¯åœ¨èµ„æºçš„å¤´ä¸­åŠ å…¥Access-Control-Allow-Origin æŒ‡å®šä½ æˆæƒçš„åŸŸã€‚</p><h3 id="å¯ç”¨CORSè¯·æ±‚"><a href="#å¯ç”¨CORSè¯·æ±‚" class="headerlink" title="å¯ç”¨CORSè¯·æ±‚"></a>å¯ç”¨CORSè¯·æ±‚</h3><p>å‡è®¾æ‚¨çš„åº”ç”¨å·²ç»åœ¨<a href="example.com">example.com</a>ä¸Šäº†ï¼Œè€Œæ‚¨æƒ³è¦ä» <a href="www.example2.com">www.example2.com</a> æå–æ•°æ®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœæ‚¨å°è¯•è¿›è¡Œè¿™ç§ç±»å‹çš„AJAXè°ƒç”¨ï¼Œè¯·æ±‚å°†ä¼šå¤±è´¥ï¼Œè€Œæµè§ˆå™¨å°†ä¼šå‡ºç°æºä¸åŒ¹é…çš„é”™è¯¯ã€‚åˆ©ç”¨CORSååªéœ€ <a href="www.example2.com">www.example2.com</a> æœåŠ¡ç«¯æ·»åŠ ä¸€ä¸ªHTTP Responseå¤´ï¼Œå°±å¯ä»¥å…è®¸æ¥è‡ª <a href="example.com">example.com</a> çš„è¯·æ±‚ã€‚</p><p>å°†Access-Control-Allow-Originæ·»åŠ åˆ°æŸç½‘ç«™ä¸‹æˆ–æ•´ä¸ªåŸŸä¸­çš„å•ä¸ªèµ„æº</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: http:<span class="comment">//example.com</span></span><br><span class="line">Access-Control-Allow-Credentials: <span class="keyword">true</span> (å¯é€‰)</span><br></pre></td></tr></table></figure><p>å°†å…è®¸ä»»ä½•åŸŸå‘æ‚¨æäº¤è¯·æ±‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: *</span><br><span class="line">Access-Control-Allow-Credentials: <span class="keyword">true</span> (å¯é€‰)</span><br></pre></td></tr></table></figure><h3 id="æäº¤è·¨åŸŸè¯·æ±‚"><a href="#æäº¤è·¨åŸŸè¯·æ±‚" class="headerlink" title="æäº¤è·¨åŸŸè¯·æ±‚"></a>æäº¤è·¨åŸŸè¯·æ±‚</h3><p>å¦‚æœæœåŠ¡å™¨ç«¯å·²å¯ç”¨äº†CORSï¼Œé‚£ä¹ˆæäº¤è·¨åŸŸè¯·æ±‚å°±å’Œæ™®é€šçš„XMLHttpRequestè¯·æ±‚æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ä¾‹å¦‚ç°åœ¨ <a href="example.com">example.com</a> å¯ä»¥å‘ <a href="www.example2.com">www.example2.com</a> æäº¤è¯·æ±‚ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"><span class="comment">// xhr.withCredentials = true; //å¦‚æœéœ€è¦Cookieç­‰</span></span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'http://www.example2.com/hello.json'</span>);</span><br><span class="line">xhr.onload = <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = JSON.parse(this.response);</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure><h3 id="æœåŠ¡ç«¯Nginxé…ç½®"><a href="#æœåŠ¡ç«¯Nginxé…ç½®" class="headerlink" title="æœåŠ¡ç«¯Nginxé…ç½®"></a>æœåŠ¡ç«¯Nginxé…ç½®</h3><p>è¦å®ç°CORSè·¨åŸŸï¼ŒæœåŠ¡ç«¯éœ€è¦ä¸‹å›¾ä¸­è¿™æ ·ä¸€ä¸ªæµç¨‹</p><p><img src= "/img/loading.gif" data-src="https://www.hi-linux.com/img/linux/cors_server_flowchart.png" alt="img"></p><ul><li>å¯¹äºç®€å•è¯·æ±‚ï¼Œå¦‚GETï¼Œåªéœ€è¦åœ¨HTTP Responseåæ·»åŠ Access-Control-Allow-Originã€‚</li><li>å¯¹äºéç®€å•è¯·æ±‚ï¼Œæ¯”å¦‚POSTã€PUTã€DELETEç­‰ï¼Œæµè§ˆå™¨ä¼šåˆ†ä¸¤æ¬¡åº”ç­”ã€‚ç¬¬ä¸€æ¬¡preflightï¼ˆmethod: OPTIONSï¼‰ï¼Œä¸»è¦éªŒè¯æ¥æºæ˜¯å¦åˆæ³•ï¼Œå¹¶è¿”å›å…è®¸çš„Headerç­‰ã€‚ç¬¬äºŒæ¬¡æ‰æ˜¯çœŸæ­£çš„HTTPåº”ç­”ã€‚æ‰€ä»¥æœåŠ¡å™¨å¿…é¡»å¤„ç†OPTIONSåº”ç­”ã€‚</li></ul><p>æµç¨‹å¦‚ä¸‹</p><ul><li>é¦–å…ˆæŸ¥çœ‹httpå¤´éƒ¨æœ‰æ— originå­—æ®µï¼›</li><li>å¦‚æœæ²¡æœ‰ï¼Œæˆ–è€…ä¸å…è®¸ï¼Œç›´æ¥å½“æˆæ™®é€šè¯·æ±‚å¤„ç†ï¼Œç»“æŸï¼›</li><li>å¦‚æœæœ‰å¹¶ä¸”æ˜¯å…è®¸çš„ï¼Œé‚£ä¹ˆå†çœ‹æ˜¯å¦æ˜¯preflight(method=OPTIONS)ï¼›</li><li>å¦‚æœæ˜¯preflightï¼Œå°±è¿”å›Allow-Headersã€Allow-Methodsç­‰ï¼Œå†…å®¹ä¸ºç©ºï¼›</li><li>å¦‚æœä¸æ˜¯preflightï¼Œå°±è¿”å›Allow-Originã€Allow-Credentialsç­‰ï¼Œå¹¶è¿”å›æ­£å¸¸å†…å®¹ã€‚</li></ul><p>ç”¨ä¼ªä»£ç è¡¨ç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F;pub&#x2F;(.+) &#123;</span><br><span class="line">    if ($http_origin ~ &lt;å…è®¸çš„åŸŸï¼ˆæ­£åˆ™åŒ¹é…ï¼‰&gt;) &#123;</span><br><span class="line">        add_header &#39;Access-Control-Allow-Origin&#39; &quot;$http_origin&quot;;</span><br><span class="line">        add_header &#39;Access-Control-Allow-Credentials&#39; &quot;true&quot;;</span><br><span class="line">        if ($request_method &#x3D; &quot;OPTIONS&quot;) &#123;</span><br><span class="line">            add_header &#39;Access-Control-Max-Age&#39; 86400;</span><br><span class="line">            add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS, DELETE&#39;;</span><br><span class="line">            add_header &#39;Access-Control-Allow-Headers&#39; &#39;reqid, nid, host, x-real-ip, x-forwarded-ip, event-type, event-id, accept, content-type&#39;;</span><br><span class="line">            add_header &#39;Content-Length&#39; 0;</span><br><span class="line">            add_header &#39;Content-Type&#39; &#39;text&#x2F;plain, charset&#x3D;utf-8&#39;;</span><br><span class="line">            return 204;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    # æ­£å¸¸nginxé…ç½®</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Nginxé…ç½®å®ä¾‹"><a href="#Nginxé…ç½®å®ä¾‹" class="headerlink" title="Nginxé…ç½®å®ä¾‹"></a>Nginxé…ç½®å®ä¾‹</h4><h5 id="å®ä¾‹ä¸€ï¼šå…è®¸example-comçš„åº”ç”¨åœ¨www-example2-comä¸Šè·¨åŸŸæå–æ•°æ®"><a href="#å®ä¾‹ä¸€ï¼šå…è®¸example-comçš„åº”ç”¨åœ¨www-example2-comä¸Šè·¨åŸŸæå–æ•°æ®" class="headerlink" title="å®ä¾‹ä¸€ï¼šå…è®¸example.comçš„åº”ç”¨åœ¨www.example2.comä¸Šè·¨åŸŸæå–æ•°æ®"></a>å®ä¾‹ä¸€ï¼šå…è®¸example.comçš„åº”ç”¨åœ¨<a href="www.example2.com">www.example2.com</a>ä¸Šè·¨åŸŸæå–æ•°æ®</h5><p>åœ¨nginx.confé‡Œæ‰¾åˆ°serveré¡¹,å¹¶åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F;&#123;</span><br><span class="line"></span><br><span class="line">add_header &#39;Access-Control-Allow-Origin&#39; &#39;http:&#x2F;&#x2F;example.com&#39;;</span><br><span class="line">add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;</span><br><span class="line">add_header &#39;Access-Control-Allow-Headers&#39; &#39;Authorization,Content-Type,Accept,Origin,User-Agent,DNT,Cache-Control,X-Mx-ReqToken,X-Requested-With&#39;;</span><br><span class="line">add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET,POST,OPTIONS&#39;;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦å…è®¸æ¥è‡ªä»»ä½•åŸŸçš„è®¿é—®ï¼Œå¯ä»¥è¿™æ ·é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add_header Access-Control-Allow-Origin *;</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šå¦‚ä¸‹</p><blockquote><p>ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼šæˆæƒä»example.comçš„è¯·æ±‚(å¿…éœ€)<br>ç¬¬äºŒæ¡æŒ‡ä»¤ï¼šå½“è¯¥æ ‡å¿—ä¸ºçœŸæ—¶ï¼Œå“åº”äºè¯¥è¯·æ±‚æ˜¯å¦å¯ä»¥è¢«æš´éœ²(å¯é€‰)<br>ç¬¬ä¸‰æ¡æŒ‡ä»¤ï¼šå…è®¸è„šæœ¬è®¿é—®çš„è¿”å›å¤´(å¯é€‰)<br>ç¬¬å››æ¡æŒ‡ä»¤ï¼šæŒ‡å®šè¯·æ±‚çš„æ–¹æ³•ï¼Œå¯ä»¥æ˜¯GET, POST, OPTIONS, PUT, DELETEç­‰(å¯é€‰)</p></blockquote><p>é‡å¯Nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> service nginx reload</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•è·¨åŸŸè¯·æ±‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -I -X OPTIONS -H <span class="string">"Origin: http://example.com"</span> http://www.example2.com</span></span><br></pre></td></tr></table></figure><p>æˆåŠŸæ—¶ï¼Œå“åº”å¤´æ˜¯å¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Server: nginx</span><br><span class="line">Access-Control-Allow-Origin: example.com</span><br></pre></td></tr></table></figure><h5 id="å®ä¾‹äºŒï¼šNginxå…è®¸å¤šä¸ªåŸŸåè·¨åŸŸè®¿é—®"><a href="#å®ä¾‹äºŒï¼šNginxå…è®¸å¤šä¸ªåŸŸåè·¨åŸŸè®¿é—®" class="headerlink" title="å®ä¾‹äºŒï¼šNginxå…è®¸å¤šä¸ªåŸŸåè·¨åŸŸè®¿é—®"></a>å®ä¾‹äºŒï¼šNginxå…è®¸å¤šä¸ªåŸŸåè·¨åŸŸè®¿é—®</h5><p>ç”±äºAccess-Control-Allow-Originå‚æ•°åªå…è®¸é…ç½®å•ä¸ªåŸŸåæˆ–è€…<code>*</code>ï¼Œå½“æˆ‘ä»¬éœ€è¦å…è®¸å¤šä¸ªåŸŸåè·¨åŸŸè®¿é—®æ—¶å¯ä»¥ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•æ¥å®ç°ã€‚</p><ul><li>æ–¹æ³•ä¸€</li></ul><p>å¦‚éœ€è¦å…è®¸ç”¨æˆ·è¯·æ±‚æ¥è‡ª<a href="www.example.com">www.example.com</a>ã€<a href="http://m.example.com/" target="_blank" rel="noopener">m.example.com</a>ã€<a href="wap.example.com">wap.example.com</a> è®¿é—® <a href="www.example2.com">www.example2.com</a>åŸŸåæ—¶ï¼Œè¿”å›å¤´Access-Control-Allow-Originï¼Œå…·ä½“é…ç½®å¦‚ä¸‹</p><p>åœ¨nginx.confé‡Œé¢,æ‰¾åˆ°serveré¡¹,å¹¶åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">map $http_origin $corsHost &#123;</span><br><span class="line">    default 0;</span><br><span class="line">    &quot;~http:&#x2F;&#x2F;www.example.com&quot; http:&#x2F;&#x2F;www.example.com;</span><br><span class="line">    &quot;~http:&#x2F;&#x2F;m.example.com&quot; http:&#x2F;&#x2F;m.example.com;</span><br><span class="line">    &quot;~http:&#x2F;&#x2F;wap.example.com&quot; http:&#x2F;&#x2F;wap.example.com;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name www.example2.com;</span><br><span class="line">    root &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;</span><br><span class="line">    location &#x2F;</span><br><span class="line">    &#123;</span><br><span class="line">        add_header Access-Control-Allow-Origin $corsHost;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•äºŒ</li></ul><p>å¦‚éœ€è¦å…è®¸ç”¨æˆ·è¯·æ±‚æ¥è‡ªlocalhostã€<a href="www.example.com">www.example.com</a> æˆ– <a href="m.example.com">m.example.com</a> çš„è¯·æ±‚è®¿é—® <a href="xxx.example2.com">xxx.example2.com</a> åŸŸåæ—¶ï¼Œè¿”å›å¤´Access-Control-Allow-Originï¼Œå…·ä½“é…ç½®å¦‚ä¸‹</p><p>åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­ <a href="xxx.example2.com">xxx.example2.com</a> åŸŸåçš„location /ä¸‹é…ç½®ä»¥ä¸‹å†…å®¹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">set $cors <span class="string">''</span>;</span><br><span class="line"><span class="keyword">if</span> ($http_origin ~* <span class="string">'https?://(localhost|www\.example\.com|m\.example\.com)'</span>) &#123;</span><br><span class="line">        set $cors <span class="string">'true'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($cors = <span class="string">'true'</span>) &#123;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Origin'</span> <span class="string">"$http_origin"</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Credentials'</span> <span class="string">'true'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Methods'</span> <span class="string">'GET, POST, PUT, DELETE, OPTIONS'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Headers'</span> <span class="string">'Accept,Authorization,Cache-Control,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($request_method = <span class="string">'OPTIONS'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">204</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•ä¸‰</li></ul><p>å¦‚éœ€è¦å…è®¸ç”¨æˆ·è¯·æ±‚æ¥è‡ª*.example.comè®¿é—®xxx.example2.comåŸŸåæ—¶ï¼Œè¿”å›å¤´Access-Control-Allow-Originï¼Œå…·ä½“é…ç½®å¦‚ä¸‹</p><p>åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­xxx.example2.comåŸŸåçš„location /ä¸‹é…ç½®ä»¥ä¸‹å†…å®¹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( $http_origin ~ http:<span class="comment">//(.*).example.com)&#123;</span></span><br><span class="line">         set $allow_url $http_origin;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">#CORS(Cross Orign Resource-Sharing)è·¨åŸŸæ§åˆ¶é…ç½®</span></span><br><span class="line">    <span class="comment">#æ˜¯å¦å…è®¸è¯·æ±‚å¸¦æœ‰éªŒè¯ä¿¡æ¯</span></span><br><span class="line">    add_header Access-Control-Allow-Credentials <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">#å…è®¸è·¨åŸŸè®¿é—®çš„åŸŸå,å¯ä»¥æ˜¯ä¸€ä¸ªåŸŸçš„åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥æ˜¯é€šé…ç¬¦*</span></span><br><span class="line">    add_header Access-Control-Allow-Origin $allow_url;</span><br><span class="line">    <span class="comment">#å…è®¸è„šæœ¬è®¿é—®çš„è¿”å›å¤´</span></span><br><span class="line">    add_header Access-Control-Allow-Headers <span class="string">'x-requested-with,content-type,Cache-Control,Pragma,Date,x-timestamp'</span>;</span><br><span class="line">    <span class="comment">#å…è®¸ä½¿ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼Œä»¥é€—å·éš”å¼€</span></span><br><span class="line">    add_header Access-Control-Allow-Methods <span class="string">'POST,GET,OPTIONS,PUT,DELETE'</span>;</span><br><span class="line">    <span class="comment">#å…è®¸è‡ªå®šä¹‰çš„å¤´éƒ¨ï¼Œä»¥é€—å·éš”å¼€,å¤§å°å†™ä¸æ•æ„Ÿ</span></span><br><span class="line">    add_header Access-Control-Expose-Headers <span class="string">'WWW-Authenticate,Server-Authorization'</span>;</span><br><span class="line">    <span class="comment">#P3Pæ”¯æŒè·¨åŸŸcookieæ“ä½œ</span></span><br><span class="line">    add_header P3P <span class="string">'policyref="/w3c/p3p.xml", CP="NOI DSP PSAa OUR BUS IND ONL UNI COM NAV INT LOC"'</span>;</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•å››</li></ul><p>å¦‚éœ€è¦å…è®¸ç”¨æˆ·è¯·æ±‚æ¥è‡ªxxx1.example.comæˆ–xxx1.example1.comè®¿é—®xxx.example2.comåŸŸåæ—¶ï¼Œè¿”å›å¤´Access-Control-Allow-Originï¼Œå…·ä½“é…ç½®å¦‚ä¸‹</p><p>åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­ <a href="xxx.example2.com">xxx.example2.com</a> åŸŸåçš„location /ä¸‹é…ç½®ä»¥ä¸‹å†…å®¹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ( $http_origin ~ .*.(example|example1).com ) &#123;</span><br><span class="line">    add_header Access-Control-Allow-Origin $http_origin;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å®ä¾‹ä¸‰ï¼šNginxè·¨åŸŸé…ç½®å¹¶æ”¯æŒDELETE-PUTè¯·æ±‚"><a href="#å®ä¾‹ä¸‰ï¼šNginxè·¨åŸŸé…ç½®å¹¶æ”¯æŒDELETE-PUTè¯·æ±‚" class="headerlink" title="å®ä¾‹ä¸‰ï¼šNginxè·¨åŸŸé…ç½®å¹¶æ”¯æŒDELETE,PUTè¯·æ±‚"></a>å®ä¾‹ä¸‰ï¼šNginxè·¨åŸŸé…ç½®å¹¶æ”¯æŒDELETE,PUTè¯·æ±‚</h5><p>é»˜è®¤Access-Control-Allow-Originå¼€å¯è·¨åŸŸè¯·æ±‚åªæ”¯æŒGETã€HEADã€POSTã€OPTIONSè¯·æ±‚ï¼Œä½¿ç”¨DELETEå‘èµ·è·¨åŸŸè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ä¼šå…ˆå‘èµ·OPTIONSè¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°çš„è¯·æ±‚æ–¹å¼å°±å˜æˆäº†OPTIONSï¼Œæ‰€ä»¥å¼•èµ·äº†æœåŠ¡å™¨çš„405 Method Not Allowedã€‚</p><p>è§£å†³æ–¹æ³•</p><p>é¦–å…ˆè¦å¯¹OPTIONSè¯·æ±‚è¿›è¡Œå¤„ç†</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ($request_method = <span class="string">'OPTIONS'</span>) &#123; </span><br><span class="line">    add_header Access-Control-Allow-Origin *; </span><br><span class="line">    add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS;</span><br><span class="line">    <span class="comment">#å…¶ä»–å¤´éƒ¨ä¿¡æ¯é…ç½®ï¼Œçœç•¥...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">204</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“è¯·æ±‚æ–¹å¼ä¸ºOPTIONSæ—¶è®¾ç½®Allowçš„å“åº”å¤´ï¼Œé‡æ–°å¤„ç†è¿™æ¬¡è¯·æ±‚ã€‚è¿™æ ·å‘å‡ºè¯·æ±‚æ—¶ç¬¬ä¸€æ¬¡æ˜¯OPTIONSè¯·æ±‚ï¼Œç¬¬äºŒæ¬¡æ‰æ˜¯DELETEè¯·æ±‚ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®Œæ•´é…ç½®å‚è€ƒ</span></span><br><span class="line"><span class="comment"># å°†é…ç½®æ–‡ä»¶çš„æ”¾åˆ°å¯¹åº”çš„server &#123;&#125;é‡Œ</span></span><br><span class="line"></span><br><span class="line">add_header Access-Control-Allow-Origin *;</span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line">    <span class="keyword">if</span> ($request_method = <span class="string">'OPTIONS'</span>) &#123; </span><br><span class="line">        add_header Access-Control-Allow-Origin *; </span><br><span class="line">        add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">204</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    index index.php;</span><br><span class="line">    try_files $uri @rewriteapp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å®ä¾‹å››ï¼šæ›´å¤šé…ç½®ç¤ºä¾‹"><a href="#å®ä¾‹å››ï¼šæ›´å¤šé…ç½®ç¤ºä¾‹" class="headerlink" title="å®ä¾‹å››ï¼šæ›´å¤šé…ç½®ç¤ºä¾‹"></a>å®ä¾‹å››ï¼šæ›´å¤šé…ç½®ç¤ºä¾‹</h5><ul><li>ç¤ºä¾‹ä¸€</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">The following Nginx configuration enables CORS, with support <span class="keyword">for</span> preflight requests.</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Wide-open CORS config for nginx</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">location / &#123;</span><br><span class="line">     <span class="keyword">if</span> ($request_method = <span class="string">'OPTIONS'</span>) &#123;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Origin'</span> <span class="string">'*'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Methods'</span> <span class="string">'GET, POST, OPTIONS'</span>;</span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># Custom headers and headers various browsers *should* be OK with but aren't</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Headers'</span> <span class="string">'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type'</span>;</span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># Tell client that this pre-flight info is valid for 20 days</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        add_header <span class="string">'Access-Control-Max-Age'</span> <span class="number">1728000</span>;</span><br><span class="line">        add_header <span class="string">'Content-Type'</span> <span class="string">'text/plain charset=UTF-8'</span>;</span><br><span class="line">        add_header <span class="string">'Content-Length'</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">204</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> ($request_method = <span class="string">'POST'</span>) &#123;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Origin'</span> <span class="string">'*'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Methods'</span> <span class="string">'GET, POST, OPTIONS'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Headers'</span> <span class="string">'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type'</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> ($request_method = <span class="string">'GET'</span>) &#123;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Origin'</span> <span class="string">'*'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Methods'</span> <span class="string">'GET, POST, OPTIONS'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Headers'</span> <span class="string">'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type'</span>;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç¤ºä¾‹äºŒ</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ($request_method = <span class="string">'OPTIONS'</span>) &#123;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Origin'</span> <span class="string">'https://docs.domain.com'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Credentials'</span> <span class="string">'true'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Methods'</span> <span class="string">'GET, POST, PUT, DELETE, PATCH, OPTIONS'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Headers'</span> <span class="string">'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,token'</span>;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">204</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ($request_method = <span class="string">'POST'</span>) &#123;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Origin'</span> <span class="string">'https://docs.domain.com'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Credentials'</span> <span class="string">'true'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Methods'</span> <span class="string">'GET, POST, PUT, DELETE, PATCH, OPTIONS'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Headers'</span> <span class="string">'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,token'</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">if</span> ($request_method = <span class="string">'GET'</span>) &#123;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Origin'</span> <span class="string">'https://docs.domain.com'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Credentials'</span> <span class="string">'true'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Methods'</span> <span class="string">'GET, POST, PUT, DELETE, PATCH, OPTIONS'</span>;  </span><br><span class="line">    add_header <span class="string">'Access-Control-Allow-Headers'</span> <span class="string">'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,token'</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…¶å®ƒæŠ€å·§"><a href="#å…¶å®ƒæŠ€å·§" class="headerlink" title="å…¶å®ƒæŠ€å·§"></a>å…¶å®ƒæŠ€å·§</h3><h4 id="Apacheä¸­å¯ç”¨CORS"><a href="#Apacheä¸­å¯ç”¨CORS" class="headerlink" title="Apacheä¸­å¯ç”¨CORS"></a>Apacheä¸­å¯ç”¨CORS</h4><p>åœ¨httpdé…ç½®æˆ–.htaccessæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¯­å¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SetEnvIf Origin &quot;^(.*\.example\.com)$&quot; ORIGIN_SUB_DOMAIN&#x3D;$1  </span><br><span class="line">Header set Access-Control-Allow-Origin &quot;%&#123;ORIGIN_SUB_DOMAIN&#125;e&quot; env&#x3D;ORIGIN_SUB_DOMAIN</span><br></pre></td></tr></table></figure><h4 id="PHPä¸­å¯ç”¨CORS"><a href="#PHPä¸­å¯ç”¨CORS" class="headerlink" title="PHPä¸­å¯ç”¨CORS"></a>PHPä¸­å¯ç”¨CORS</h4><p>é€šè¿‡åœ¨æœåŠ¡ç«¯è®¾ç½®Access-Control-Allow-Originå“åº”å¤´</p><ul><li>å…è®¸æ‰€æœ‰æ¥æºè®¿é—®</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">"Access-Control-Allow-Origin: *"</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å…è®¸æ¥è‡ªç‰¹å®šæºçš„è®¿é—®</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">'Access-Control-Allow-Origin: '</span>.$_SERVER[<span class="string">'HTTP_ORIGIN'</span>]);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><ul><li>é…ç½®å¤šä¸ªè®¿é—®æº</li></ul><p>ç”±äºæµè§ˆå™¨å®ç°åªæ”¯æŒäº†å•ä¸ªoriginã€*ã€nullï¼Œå¦‚æœè¦é…ç½®å¤šä¸ªè®¿é—®æºï¼Œå¯ä»¥åœ¨ä»£ç ä¸­å¤„ç†å¦‚ä¸‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$allowed_origins   = <span class="keyword">array</span>(  </span><br><span class="line">                            <span class="string">"http://www.example.com"</span>   ,  </span><br><span class="line">                            <span class="string">"http://app.example.com"</span>  ,  </span><br><span class="line">                            <span class="string">"http://cms.example.com"</span>  ,  </span><br><span class="line">                          );  </span><br><span class="line"><span class="keyword">if</span> (in_array($_SERVER[<span class="string">'HTTP_ORIGIN'</span>], $allowed_origins))&#123;    </span><br><span class="line">    @header(<span class="string">"Access-Control-Allow-Origin: "</span> . $_SERVER[<span class="string">'HTTP_ORIGIN'</span>]);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h4 id="HTMLä¸­å¯ç”¨CORS"><a href="#HTMLä¸­å¯ç”¨CORS" class="headerlink" title="HTMLä¸­å¯ç”¨CORS"></a>HTMLä¸­å¯ç”¨CORS</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=<span class="string">"Access-Control-Allow-Origin"</span> content=<span class="string">"*"</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3><p><a href="http://www.google.com/" target="_blank" rel="noopener">http://www.google.com</a><br><a href="http://blog.csdn.net/oyzl68/article/details/18741057" target="_blank" rel="noopener">http://blog.csdn.net/oyzl68/article/details/18741057</a><br><a href="http://www.webyang.net/Html/web/article_135.html" target="_blank" rel="noopener">http://www.webyang.net/Html/web/article_135.html</a><br><a href="http://www.ttlsa.com/nginx/how-to-allow-cross-domain-ajax-requests-on-nginx/" target="_blank" rel="noopener">http://www.ttlsa.com/nginx/how-to-allow-cross-domain-ajax-requests-on-nginx/</a><br><a href="http://www.voidcn.com/blog/lvnian/article/p-5978475.html" target="_blank" rel="noopener">http://www.voidcn.com/blog/lvnian/article/p-5978475.html</a><br><a href="http://to-u.xyz/2016/06/30/nginx-cors/" target="_blank" rel="noopener">http://to-u.xyz/2016/06/30/nginx-cors/</a><br><a href="http://coderq.github.io/2016/05/13/cross-domain/" target="_blank" rel="noopener">http://coderq.github.io/2016/05/13/cross-domain/</a></p><p>è½¬è½½è‡ªï¼š<a href="https://www.hi-linux.com/posts/60405.html" target="_blank" rel="noopener">https://www.hi-linux.com/posts/60405.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> cros </tag>
            
            <tag> è·¨åŸŸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>binclassification</title>
      <link href="/posts/binclassification/"/>
      <url>/posts/binclassification/</url>
      
        <content type="html"><![CDATA[<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Markmap</title><style>* {  margin: 0;  padding: 0;}#mindmap {  display: block;  width: 100vw;  height: 100vh;}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.1.5/dist/style.min.css"><meta name="generator" content="Hexo 4.2.1"></head><body><svg id="mindmap"></svg><script src="https://cdn.jsdelivr.net/npm/d3@6.6.0"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.2.3"></script><script>(getMarkmap => {          window.WebFontConfig = {            custom: {              families: ['KaTeX_AMS', 'KaTeX_Caligraphic:n4,n7', 'KaTeX_Fraktur:n4,n7', 'KaTeX_Main:n4,n7,i4,i7', 'KaTeX_Math:i4,i7', 'KaTeX_Script', 'KaTeX_SansSerif:n4,n7,i4', 'KaTeX_Size1', 'KaTeX_Size2', 'KaTeX_Size3', 'KaTeX_Size4', 'KaTeX_Typewriter']            },            active: () => {              getMarkmap().refreshHook.call();            }          };        })(() => window.markmap)</script><script src="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.js" defer></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.1.5/dist/index.umd.min.js"></script><script>(r => {                setTimeout(r);              })(() => {  const {    markmap,    mm  } = window;})</script><script>((getMarkmap, getOptions, data) => {        const {          Markmap        } = getMarkmap();        window.mm = Markmap.create('svg#mindmap', getOptions == null ? void 0 : getOptions(), data);      })(() => window.markmap,null,{"t":"heading","d":1,"p":{"lines":[0,1]},"v":"äºŒåˆ†ç±»","c":[{"t":"heading","d":2,"p":{"lines":[2,3]},"v":"åŸºç¡€çŸ¥è¯†","c":[{"t":"heading","d":3,"p":{"lines":[4,5]},"v":"å¸¸ç”¨ç®—æ³•æ¨¡å‹","c":[{"t":"heading","d":4,"p":{"lines":[6,7]},"v":"<a href=\"https://zh.wikipedia.org/zh-hans/%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB%E5%99%A8\">æœ´ç´ è´å¶æ–¯</a>"},{"t":"heading","d":4,"p":{"lines":[8,9]},"v":"<a href=\"https://zh.wikipedia.org/wiki/%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92\">é€»è¾‘å›å½’</a>","c":[{"t":"heading","d":5,"p":{"lines":[10,11]},"v":"çº¿æ€§å›å½’"},{"t":"heading","d":5,"p":{"lines":[12,13]},"v":"æ¿€æ´»å‡½æ•°","c":[{"t":"list_item","d":7,"p":{"lines":[14,15]},"v":"<a href=\"https://en.wikipedia.org/wiki/Sigmoid_function\">sigmoid</a> å‡½æ•°"}]},{"t":"heading","d":5,"p":{"lines":[16,17]},"v":"æŸå¤±å‡½æ•°"},{"t":"heading","d":5,"p":{"lines":[18,19]},"v":"æ¢¯åº¦ä¸‹é™ç®—æ³•"}]},{"t":"heading","d":4,"p":{"lines":[20,21]},"v":"<a href=\"https://zh.wikipedia.org/wiki/K-%E8%BF%91%E9%82%BB%E7%AE%97%E6%B3%95\">KNN</a>"},{"t":"heading","d":4,"p":{"lines":[22,23]},"v":"<a href=\"https://zh.wikipedia.org/wiki/K-%E8%BF%91%E9%82%BB%E7%AE%97%E6%B3%95\">å†³ç­–æ ‘</a>"},{"t":"heading","d":4,"p":{"lines":[24,25]},"v":"<a href=\"https://zh.wikipedia.org/wiki/K-%E5%B9%B3%E5%9D%87%E7%AE%97%E6%B3%95\">K-Meansèšç±»</a>"},{"t":"heading","d":4,"p":{"lines":[26,27]},"v":"<a href=\"https://zh.wikipedia.org/zh-hans/AdaBoost\">AdaBoost</a>"},{"t":"heading","d":4,"p":{"lines":[28,29]},"v":"<a href=\"https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C\">ç¥ç»ç½‘ç»œ</a>"},{"t":"heading","d":4,"p":{"lines":[30,31]},"v":"<a href=\"https://zh.wikipedia.org/wiki/%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA\">æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰</a>"}]},{"t":"heading","d":3,"p":{"lines":[32,33]},"v":"æ¨¡å‹è¯„ä¼°","c":[{"t":"heading","d":4,"p":{"lines":[34,35]},"v":"AUC","c":[{"t":"heading","d":5,"p":{"lines":[36,37]},"v":"<a href=\"https://zh.wikipedia.org/wiki/ROC%E6%9B%B2%E7%BA%BF\">ROC æ›²çº¿</a>"},{"t":"heading","d":5,"p":{"lines":[38,39]},"v":"TP, TN, FP, FN","c":[{"t":"list_item","d":7,"p":{"lines":[40,41]},"v":"true positives"},{"t":"list_item","d":7,"p":{"lines":[41,42]},"v":"false positives"},{"t":"list_item","d":7,"p":{"lines":[42,43]},"v":"false negatives"},{"t":"list_item","d":7,"p":{"lines":[43,44]},"v":"true negatives"}]},{"t":"heading","d":5,"p":{"lines":[45,46]},"v":"TPR, FPR","c":[{"t":"list_item","d":7,"p":{"lines":[47,48]},"v":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>P</mi><mi>R</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">TPR = \\frac{TP}{TP+FN}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.275662em;vertical-align:-0.403331em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.872331em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.403331em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>"},{"t":"list_item","d":7,"p":{"lines":[48,49]},"v":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mi>P</mi><mi>R</mi><mo>=</mo><mfrac><mrow><mi>F</mi><mi>P</mi></mrow><mrow><mi>F</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">FPR = \\frac{FP}{FP+TN}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.275662em;vertical-align:-0.403331em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.872331em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.403331em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>"}]},{"t":"heading","d":5,"p":{"lines":[50,51]},"v":"å‡†ç¡®ç‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>C</mi><mi>C</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi></mrow><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">ACC = \\frac{TP+TN}{total}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.217331em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.872331em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>"},{"t":"heading","d":5,"p":{"lines":[52,53]},"v":"æŸå¤±ç‡","c":[{"t":"list_item","d":7,"p":{"lines":[54,55]},"v":"sigmoid"},{"t":"list_item","d":7,"p":{"lines":[55,56]},"v":"softmax"}]},{"t":"heading","d":5,"p":{"lines":[57,58]},"v":"ç²¾ç¡®ç‡","c":[{"t":"list_item","d":7,"p":{"lines":[59,60]},"v":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">P = \\frac{TP}{TP+FP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.275662em;vertical-align:-0.403331em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.872331em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.403331em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>"}]},{"t":"heading","d":5,"p":{"lines":[61,62]},"v":"å¬å›ç‡","c":[{"t":"list_item","d":7,"p":{"lines":[63,64]},"v":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>=</mo><mi>T</mi><mi>P</mi><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R = TPR</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>"}]},{"t":"heading","d":5,"p":{"lines":[65,66]},"v":"F-score","c":[{"t":"list_item","d":7,"p":{"lines":[67,68]},"v":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mo>=</mo><mfrac><mrow><mo stretchy=\"false\">(</mo><msup><mi>Î±</mi><mn>2</mn></msup><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mi>P</mi><mo>âˆ—</mo><mi>R</mi></mrow><mrow><msup><mi>Î±</mi><mn>2</mn></msup><mi>P</mi><mo>+</mo><mi>R</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">F = \\frac{(\\alpha^2+1)P*R}{\\alpha^2P+R}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.512251em;vertical-align:-0.403331em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.10892em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7463142857142857em;\"><span style=\"top:-2.786em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mopen mtight\">(</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913142857142857em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span><span class=\"mbin mtight\">âˆ—</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.403331em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>"},{"t":"list_item","d":7,"p":{"lines":[68,70]},"v":"å½“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span></span></span></span> ä¸º 1 æ—¶ï¼ŒF-score å°±æ˜¯ F1-score,<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mn>1</mn><mo>âˆ’</mo><mi>s</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>e</mi><mo>=</mo><mfrac><mrow><mn>2</mn><mi>P</mi><mi>R</mi></mrow><mrow><mi>P</mi><mo>+</mo><mi>R</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">F1-score = \\frac{2PR}{P+R}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.275662em;vertical-align:-0.403331em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.872331em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.403331em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>"}]}]}]}]},{"t":"heading","d":2,"p":{"lines":[71,72]},"v":"å¼€å‘æ¡†æ¶","c":[{"t":"heading","d":3,"p":{"lines":[73,74]},"v":"<a href=\"https://pytorch.org/\">Pytorch</a>","c":[{"t":"heading","d":4,"p":{"lines":[75,76]},"v":"ç®€å•ä»‹ç»","c":[{"t":"list_item","d":6,"p":{"lines":[77,78]},"v":"<a href=\"https://en.wikipedia.org/wiki/PyTorch\">Wiki</a>"},{"t":"list_item","d":6,"p":{"lines":[78,84]},"v":"PyTorchæ˜¯æ¯”è¾ƒçµæ´»çš„ï¼Œå®ƒæ˜¯Torchæ·±åº¦å­¦ä¹ æ¡†æ¶çš„ä¸€ä¸ªç«¯å£ï¼Œ<br>\nå¯ç”¨äºæ„å»ºæ·±åº¦ç¥ç»ç½‘ç»œå’Œæ‰§è¡ŒTensorè®¡ç®—ã€‚Torchæ˜¯ä¸€ä¸ªåŸºäº<br>\nLuaçš„æ¡†æ¶ï¼Œè€ŒPyTorchæ˜¯åœ¨Pythonä¸Šè¿è¡Œçš„ï¼Œä½¿ç”¨åŠ¨æ€è®¡ç®—å›¾ï¼Œ<br>\nå®ƒçš„Autogardè½¯ä»¶åŒ…ä»tensorsä¸­æ„å»ºè®¡ç®—å›¾å¹¶è‡ªåŠ¨è®¡ç®—æ¢¯åº¦ã€‚<br>\nTensorsæ˜¯å¤šç»´æ•°ç»„ï¼Œå°±åƒnumpyçš„ndarraysä¸€æ ·ï¼Œä¹Ÿå¯ä»¥åœ¨<br>\nGPUä¸Šè¿è¡Œã€‚"}]},{"t":"heading","d":4,"p":{"lines":[85,86]},"v":"ç¯å¢ƒé…ç½®","c":[{"t":"list_item","d":6,"p":{"lines":[87,92]},"v":"<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ä»¥ ubuntu20.04 NVIDIA GTX 1050Ti ä¸ºä¾‹</span>\npip3 <span class=\"token function\">install</span> <span class=\"token assign-left variable\">torch</span><span class=\"token operator\">==</span><span class=\"token number\">1.8</span>.1+cu111 <span class=\"token assign-left variable\">torchvision</span><span class=\"token operator\">==</span><span class=\"token number\">0.9</span>.1+cu111 <span class=\"token assign-left variable\">torchaudio</span><span class=\"token operator\">==</span><span class=\"token number\">0.8</span>.1 -f https://download.pytorch.org/whl/torch_stable.html\n</code></pre>\n"},{"t":"list_item","d":6,"p":{"lines":[92,93]},"v":"æ³¨ï¼šä¸åŒGPUå‹å·å’Œé©±åŠ¨ç‰ˆæœ¬å¯¹åº”ä¸åŒcudaç‰ˆæœ¬ï¼Œéœ€è¦è‡ªè¡Œé…å¯¹ï¼ˆç½‘ä¸Šæœ‰å¯¹ç…§è¡¨ï¼‰"}]},{"t":"heading","d":4,"p":{"lines":[95,96]},"v":"å®˜æ–¹æ–‡æ¡£","c":[{"t":"list_item","d":6,"p":{"lines":[97,98]},"v":"<a href=\"https://pytorch.org/tutorials/\">https://pytorch.org/tutorials/</a>"}]}]},{"t":"heading","d":3,"p":{"lines":[99,100]},"v":"<a href=\"https://www.tensorflow.org/\">TensorFlow</a>","c":[{"t":"heading","d":4,"p":{"lines":[101,102]},"v":"ç®€å•ä»‹ç»","c":[{"t":"list_item","d":6,"p":{"lines":[103,104]},"v":"<a href=\"https://en.wikipedia.org/wiki/TensorFlow\">Wiki</a>"},{"t":"list_item","d":6,"p":{"lines":[104,106]},"v":"TensorFlowç”±GoogleBrainå›¢é˜Ÿçš„ç ”ç©¶äººå‘˜å’Œå·¥ç¨‹å¸ˆå¼€å‘ï¼Œ<br>\næ˜¯æ·±åº¦å­¦ä¹ é¢†åŸŸä¸­æœ€å¸¸ç”¨çš„è½¯ä»¶åº“"}]},{"t":"heading","d":4,"p":{"lines":[107,108]},"v":"ç¯å¢ƒé…ç½®","c":[{"t":"list_item","d":6,"p":{"lines":[109,116]},"v":"<pre class=\"language-bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> pandas\npip <span class=\"token function\">install</span> <span class=\"token assign-left variable\">tensorflow</span><span class=\"token operator\">=</span><span class=\"token number\">1.14</span>.0\n<span class=\"token punctuation\">..</span>.\n</code></pre>\n"}]},{"t":"heading","d":4,"p":{"lines":[116,117]},"v":"å®˜æ–¹æ–‡æ¡£","c":[{"t":"list_item","d":6,"p":{"lines":[118,119]},"v":"<a href=\"https://www.tensorflow.org/tutorials?hl=zh-cn\">https://www.tensorflow.org/tutorials?hl=zh-cn</a>"}]}]},{"t":"heading","d":3,"p":{"lines":[120,121]},"v":"NeoML"},{"t":"heading","d":3,"p":{"lines":[122,123]},"v":"Altapps"},{"t":"heading","d":3,"p":{"lines":[124,125]},"v":"Keras"},{"t":"heading","d":3,"p":{"lines":[126,127]},"v":"Caffe"},{"t":"heading","d":3,"p":{"lines":[128,129]},"v":"DeepLearning4j"},{"t":"heading","d":3,"p":{"lines":[130,131]},"v":"..."}]}]})</script></body></html>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
