<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Ubuntu20.04安装加各项配置 | RocSpace</title><meta name="description" content="Ubuntu 不小心升级内核失败搞崩了，重装一下系统顺便写一篇博客记录一下安装及配置过程。"><meta name="keywords" content="ubuntu"><meta name="author" content="Roc"><meta name="copyright" content="Roc"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon-32x32-next.png"><link rel="canonical" href="https://blog.roc136.top/posts/ubuntu-install/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta property="og:type" content="article"><meta property="og:title" content="Ubuntu20.04安装加各项配置"><meta property="og:url" content="https://blog.roc136.top/posts/ubuntu-install/"><meta property="og:site_name" content="RocSpace"><meta property="og:description" content="Ubuntu 不小心升级内核失败搞崩了，重装一下系统顺便写一篇博客记录一下安装及配置过程。"><meta property="og:image" content="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/cover.png"><meta property="article:published_time" content="2021-01-29T15:48:11.000Z"><meta property="article:modified_time" content="2021-02-19T11:35:20.000Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="prev" title="Mirai QQ机器人安装及配置（以CentOS为例）" href="https://blog.roc136.top/posts/mirai-install/"><link rel="next" title="NLP打造高质量数据集" href="https://blog.roc136.top/posts/nlp1/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容:${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},bookmark:{message_prev:"按",message_next:"键将本页加入书签"},github:"https://github.com/Roc136",runtime_unit:"天",runtime:!0,copyright:void 0,ClickShowText:void 0,medium_zoom:!1,fancybox:!0,Snackbar:{bookmark:{message_prev:"按",message_next:"键将本页加入书签"},chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#121212",position:"bottom-left"},justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},baiduPush:!1,highlightCopy:!0,highlightLang:!0,isPhotoFigcaption:!1,islazyload:!0,isanchor:!1}</script><script>var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isSidebar:!0}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}</style></noscript><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/flink.min.css" rel="stylesheet"><script src="/live2d-widget/autoload.js"></script><meta name="google-site-verification" content="UunEH41672qi_EdY-NWno5DaIl0H1169wmkysP9sSx4"><meta name="referrer" content="no-referrer-when-downgrade"><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">34</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">36</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">21</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-book"></i> <span>文章</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li><li><a class="site-page" href="/categories/recommend/"><i class="fa-fw fas fa-star"></i> <span>推荐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/wall/"><i class="fa-fw fas fa-pencil-square-o"></i> <span>留言</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、安装"><span class="toc-text">一、安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#选择语言"><span class="toc-text">选择语言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#选择键盘布局"><span class="toc-text">选择键盘布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#选择安装方式"><span class="toc-text">选择安装方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#选择安装类型"><span class="toc-text">选择安装类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#选择地区"><span class="toc-text">选择地区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置用户名密码"><span class="toc-text">配置用户名密码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、一些配置"><span class="toc-text">二、一些配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-为root用户添加密码"><span class="toc-text">1. 为root用户添加密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-设置开机自动挂载硬盘"><span class="toc-text">2. 设置开机自动挂载硬盘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-修改文件管理器侧边栏默认的图片、文档、下载等文件夹的位置"><span class="toc-text">3. 修改文件管理器侧边栏默认的图片、文档、下载等文件夹的位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-配置ssh"><span class="toc-text">4. 配置ssh</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、安装及配置常用软件"><span class="toc-text">三、安装及配置常用软件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#0-换源"><span class="toc-text">0. 换源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-v2ray"><span class="toc-text">1. v2ray</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-git"><span class="toc-text">2. git</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-vim"><span class="toc-text">3. vim</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-vscode"><span class="toc-text">4. vscode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-chrome"><span class="toc-text">5. chrome</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-Typora"><span class="toc-text">6. Typora</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-wine-QQ，wine-WeChat"><span class="toc-text">7. wine-QQ，wine-WeChat</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#安装wine架构"><span class="toc-text">安装wine架构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#解决QQ无法加载图片的问题"><span class="toc-text">解决QQ无法加载图片的问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#解决微信聊天输入框中文显示为黑条或黑框，黑块的问题"><span class="toc-text">解决微信聊天输入框中文显示为黑条或黑框，黑块的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-添加字体"><span class="toc-text">1)添加字体</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-修改系统注册表"><span class="toc-text">2)修改系统注册表</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-字体注册"><span class="toc-text">3)字体注册</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-重启"><span class="toc-text">4)重启</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#解决微信不能发送图片的问题"><span class="toc-text">解决微信不能发送图片的问题</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-gnome插件"><span class="toc-text">8. gnome插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-VMware"><span class="toc-text">9. VMware</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-Anaconda"><span class="toc-text">11. Anaconda</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#安装"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#设置多用户共享虚拟环境"><span class="toc-text">设置多用户共享虚拟环境</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#一些常用命令"><span class="toc-text">一些常用命令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-mysql"><span class="toc-text">11. mysql</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#安装-1"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#修改root账户认证方式"><span class="toc-text">修改root账户认证方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#创建用户"><span class="toc-text">创建用户</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-搜狗输入法"><span class="toc-text">12. 搜狗输入法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-Nodejs和npm"><span class="toc-text">13. Nodejs和npm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-Seafile"><span class="toc-text">14. Seafile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-Gpaste"><span class="toc-text">15. Gpaste</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四、美化"><span class="toc-text">四、美化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-壁纸软件"><span class="toc-text">1. 壁纸软件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-更换主题、图标、鼠标指针"><span class="toc-text">2. 更换主题、图标、鼠标指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-修改登陆界面的背景"><span class="toc-text">3. 修改登陆界面的背景</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><header class="post-bg" id="page-header" style="background-image:url(https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/cover.png)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">RocSpace</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-book"></i> <span>文章</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li><li><a class="site-page" href="/categories/recommend/"><i class="fa-fw fas fa-star"></i> <span>推荐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/wall/"><i class="fa-fw fas fa-pencil-square-o"></i> <span>留言</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Ubuntu20.04安装加各项配置</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-01-29 23:48:11"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2021-01-29</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-02-19 19:35:20"><i class="fas fa-history fa-fw"></i> 更新于 2021-02-19</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/linux/">linux</a></span></div><div class="meta-secondline"><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i> <span>字数总计:</span><span class="word-count">6.9k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>阅读时长: 28 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>热度:</span><span id="busuanzi_value_page_pv"></span><span>°C</span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="far fa-comments fa-fw post-meta__icon"></i><span>评论数:</span><a href="/posts/ubuntu-install/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/posts/ubuntu-install/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h3 id="一、安装"><a href="#一、安装" class="headerlink" title="一、安装"></a>一、安装</h3><h4 id="选择语言"><a href="#选择语言" class="headerlink" title="选择语言"></a>选择语言</h4><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130000610.jpg" alt=""></p><h4 id="选择键盘布局"><a href="#选择键盘布局" class="headerlink" title="选择键盘布局"></a>选择键盘布局</h4><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001230.jpg" alt=""></p><h4 id="选择安装方式"><a href="#选择安装方式" class="headerlink" title="选择安装方式"></a>选择安装方式</h4><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001205.jpg" alt=""></p><h4 id="选择安装类型"><a href="#选择安装类型" class="headerlink" title="选择安装类型"></a>选择安装类型</h4><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001224.jpg" alt=""></p><p>/分区，我这里选择分配70G的空间</p><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001134.jpg" alt=""></p><p>交换分区，我只分配了4G的空间</p><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001214.jpg" alt=""></p><p>/boot分区，网上的教程这里都只分配几百MB的空间，我这一次重装的原因就是升级内核时由于/boot空间不够而失败，又无法增大该分区，尝试删除旧内核也无效，无奈之下重装系统，/boot分配2G空间</p><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001237.jpg" alt=""></p><p>/home分区，我分配了48G空间，/efi分区，我的128G硬盘剩余1G左右，将这些空间全部分配给efi分区</p><p>最终分配结果：</p><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001242.jpg" alt=""></p><h4 id="选择地区"><a href="#选择地区" class="headerlink" title="选择地区"></a>选择地区</h4><p>此处无图</p><h4 id="配置用户名密码"><a href="#配置用户名密码" class="headerlink" title="配置用户名密码"></a>配置用户名密码</h4><p><img src="/img/loading.gif" data-src="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/ubuntu-install/QQ%E5%9B%BE%E7%89%8720210130001247.jpg" alt=""></p><h3 id="二、一些配置"><a href="#二、一些配置" class="headerlink" title="二、一些配置"></a>二、一些配置</h3><h4 id="1-为root用户添加密码"><a href="#1-为root用户添加密码" class="headerlink" title="1. 为root用户添加密码"></a>1. 为root用户添加密码</h4><p>由于Ubuntu刚安装时root用户是没有密码的，需要为root设置密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure><p>接下来第一次输入当前用户的密码以执行sudo权限的命令，再输入两次为root设置的新密码</p><h4 id="2-设置开机自动挂载硬盘"><a href="#2-设置开机自动挂载硬盘" class="headerlink" title="2. 设置开机自动挂载硬盘"></a>2. 设置开机自动挂载硬盘</h4><p>由于我除了安装系统的128G固态之外还有一块2T的数据盘，每次开机都要手动挂载的话非常麻烦，设置自动挂载可以省下不少时间。</p><p>使用如下命令查看硬盘信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo blkid</span><br></pre></td></tr></table></figure><p>得到类似如下信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;dev&#x2F;nvme0n1p2: UUID&#x3D;&quot;86a4a9ac-3ef7-4285-bb5a-25d18748a2d7&quot; TYPE&#x3D;&quot;swap&quot; PARTUUID&#x3D;&quot;97fcac94-ac56-4868-83a7-5fd86627b6ca&quot;</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p1: UUID&#x3D;&quot;8705b28b-d4ed-44b4-ba22-d580adc5f660&quot; TYPE&#x3D;&quot;ext4&quot; PARTUUID&#x3D;&quot;ad567570-370b-456f-8a7d-2cbb95f3e2c5&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop0: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop1: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop2: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop3: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop4: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop5: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop6: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop7: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p3: UUID&#x3D;&quot;99d887ca-093c-42e4-b559-8ce487582dba&quot; TYPE&#x3D;&quot;ext4&quot; PARTUUID&#x3D;&quot;0189dfdd-12ce-4b0d-afb5-560b10dcb73f&quot;</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p4: UUID&#x3D;&quot;a2263ce8-2541-40e5-beaa-8f0a5fedf8d2&quot; TYPE&#x3D;&quot;ext4&quot; PARTUUID&#x3D;&quot;ff1784cf-26a9-4dae-90a2-a3e0a7c90acc&quot;</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p5: UUID&#x3D;&quot;0CBD-9D7D&quot; TYPE&#x3D;&quot;vfat&quot; PARTUUID&#x3D;&quot;8b352fc8-fd4b-43ea-b97c-fbfd6f401f28&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda1: LABEL&#x3D;&quot;Data&quot; UUID&#x3D;&quot;A03C00983C006C1A&quot; TYPE&#x3D;&quot;ntfs&quot; PARTLABEL&#x3D;&quot;Basic data partition&quot; PARTUUID&#x3D;&quot;276a3145-f2a5-4566-83be-7e22bf203706&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda2: LABEL&#x3D;&quot;M-fM-^AM-\&quot;M-eM-$M-^M&quot; UUID&#x3D;&quot;BE2C196B2C192047&quot; TYPE&#x3D;&quot;ntfs&quot; PARTLABEL&#x3D;&quot;Basic data partition&quot; PARTUUID&#x3D;&quot;8a98b31f-d6c9-447f-b586-a027f2c1d23c&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda3: UUID&#x3D;&quot;B61B-0118&quot; TYPE&#x3D;&quot;vfat&quot; PARTLABEL&#x3D;&quot;EFI system partition&quot; PARTUUID&#x3D;&quot;b75d4ff7-ebfd-46d9-8d5e-fd591fe9514a&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda5: UUID&#x3D;&quot;62E21DDDE21DB66F&quot; TYPE&#x3D;&quot;ntfs&quot; PARTLABEL&#x3D;&quot;Basic data partition&quot; PARTUUID&#x3D;&quot;8c6df33c-cfa3-438b-8a65-0cde412ff5df&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop8: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop9: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;loop10: TYPE&#x3D;&quot;squashfs&quot;</span><br><span class="line">&#x2F;dev&#x2F;sda4: PARTLABEL&#x3D;&quot;Microsoft reserved partition&quot; PARTUUID&#x3D;&quot;dea4dd3d-81fa-415e-843a-e9062c4f50e3&quot;</span><br></pre></td></tr></table></figure><p>找到并记住自己要挂载的磁盘的UUID和Type，编辑fstab文件，假设为 UUID=abcdefg，Type=”ntfs”,创建要挂载的目录，比如 /mnt/Data</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /mnt/Data</span><br><span class="line">sudo vim /etc/fstab</span><br></pre></td></tr></table></figure><p>在文件末尾添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># UUID 挂载目录 分区磁盘格式 选项 是否开机检查 分区类型</span><br><span class="line">UUID&#x3D;abcdefg   &#x2F;mnt&#x2F;Data   ntfs    defaults    0   2</span><br></pre></td></tr></table></figure><p>第一个数字表示是否开机检查，第二个数字表示分区类型，0为交换分区，1为启动分区，2为普通分区</p><p><strong>不知道自己要挂载的是哪块分区怎么办？</strong></p><p>使用如下命令根据各分区的信息确定</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l</span><br></pre></td></tr></table></figure><p>可以得到类似这种信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">Disk &#x2F;dev&#x2F;loop0：97.9 MiB，102637568 字节，200464 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop1：54.98 MiB，57626624 字节，112552 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop2：9.7 MiB，9510912 字节，18576 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop3：62.9 MiB，65105920 字节，127160 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop4：29.9 MiB，31334400 字节，61200 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop5：255.58 MiB，267980800 字节，523400 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop6：49.8 MiB，52203520 字节，101960 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop7：31.9 MiB，32600064 字节，63672 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;nvme0n1：119.25 GiB，128035676160 字节，250069680 个扇区</span><br><span class="line">Disk model: KBG30ZMT128G TOSHIBA                    </span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line">磁盘标签类型：gpt</span><br><span class="line">磁盘标识符：7A17571D-39A0-4B0F-B57E-CB2437365401</span><br><span class="line"></span><br><span class="line">设备                起点      末尾      扇区  大小 类型</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p1      2048 139999231 139997184 66.8G Linux 文件系统</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p2 139999232 147998719   7999488  3.8G Linux swap</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p3 147998720 151998463   3999744  1.9G Linux 文件系统</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p4 154068992 250068991  96000000 45.8G Linux 文件系统</span><br><span class="line">&#x2F;dev&#x2F;nvme0n1p5 151998464 154068991   2070528 1011M EFI 系统</span><br><span class="line"></span><br><span class="line">分区表记录没有按磁盘顺序。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;sda：1.84 TiB，2000398934016 字节，3907029168 个扇区</span><br><span class="line">Disk model: WDC WD20SPZX-08U</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 4096 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：4096 字节 &#x2F; 4096 字节</span><br><span class="line">磁盘标签类型：gpt</span><br><span class="line">磁盘标识符：BA79D8A9-DDCC-4B25-8DE2-20FADCB70928</span><br><span class="line"></span><br><span class="line">设备             起点       末尾       扇区   大小 类型</span><br><span class="line">&#x2F;dev&#x2F;sda1       32768 3638593535 3638560768   1.7T Microsoft 基本数据</span><br><span class="line">&#x2F;dev&#x2F;sda2  3638593536 3639676927    1083392   529M Microsoft 基本数据</span><br><span class="line">&#x2F;dev&#x2F;sda3  3639676928 3639881727     204800   100M EFI 系统</span><br><span class="line">&#x2F;dev&#x2F;sda4  3639881728 3639914495      32768    16M Microsoft 保留</span><br><span class="line">&#x2F;dev&#x2F;sda5  3639914496 3898640383  258725888 123.4G Microsoft 基本数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop8：55.39 MiB，58073088 字节，113424 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop9：51.4 MiB，53522432 字节，104536 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;loop10：64.79 MiB，67915776 字节，132648 个扇区</span><br><span class="line">单元：扇区 &#x2F; 1 * 512 &#x3D; 512 字节</span><br><span class="line">扇区大小(逻辑&#x2F;物理)：512 字节 &#x2F; 512 字节</span><br><span class="line">I&#x2F;O 大小(最小&#x2F;最佳)：512 字节 &#x2F; 512 字节</span><br></pre></td></tr></table></figure><p>可以看到我要挂载的是1.7T的/dev/sda1分区，复制UUID，再编辑fstab文件即可。</p><p>下次开机就会自动挂载，此时要挂载可以用以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/sda1 /mnt/Data</span><br></pre></td></tr></table></figure><h4 id="3-修改文件管理器侧边栏默认的图片、文档、下载等文件夹的位置"><a href="#3-修改文件管理器侧边栏默认的图片、文档、下载等文件夹的位置" class="headerlink" title="3. 修改文件管理器侧边栏默认的图片、文档、下载等文件夹的位置"></a>3. 修改文件管理器侧边栏默认的图片、文档、下载等文件夹的位置</h4><p>使用以下命令修改配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.config/user-dirs.dirs</span><br></pre></td></tr></table></figure><p>以下配置视个人情况自行决定，这里仅展示我的配置（由于我有一块额外的数据盘，所以将这些内容都放在另一块磁盘中，可以在重装系统的时候不必删除所有的数据）</p><p>将</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">XDG_DOWNLOAD_DIR&#x3D;&quot;$HOME&#x2F;下载&quot;</span><br><span class="line">XDG_DOCUMENTS_DIR&#x3D;&quot;$HOME&#x2F;文档&quot;</span><br><span class="line">XDG_MUSIC_DIR&#x3D;&quot;$HOME&#x2F;音乐&quot;</span><br><span class="line">XDG_PICTURES_DIR&#x3D;&quot;$HOME&#x2F;图片&quot;</span><br><span class="line">XDG_VIDEOS_DIR&#x3D;&quot;$HOME&#x2F;视频&quot;</span><br></pre></td></tr></table></figure><p>修改为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">XDG_DOWNLOAD_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;Downloads&quot;</span><br><span class="line">XDG_DOCUMENTS_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;WorkSpace&#x2F;Word&quot;</span><br><span class="line">XDG_MUSIC_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;WorkSpace&#x2F;Music&quot;</span><br><span class="line">XDG_PICTURES_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;WorkSpace&#x2F;Photo&quot;</span><br><span class="line">XDG_VIDEOS_DIR&#x3D;&quot;&#x2F;mnt&#x2F;Data&#x2F;WorkSpace&#x2F;Video&quot;</span><br></pre></td></tr></table></figure><p>这些配置将在下一次打开文件管理器的时候改变，旧的目录会自动添加到收藏栏，可以视情况自行删除。</p><h4 id="4-配置ssh"><a href="#4-配置ssh" class="headerlink" title="4. 配置ssh"></a>4. 配置ssh</h4><p><strong>在本地保存服务器信息</strong>，不需要每次连接时输入ip和密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure><p>添加以下信息，其中name是方便自己记忆的服务器名字，可以随意，下一次连接只需要 <code>ssh name</code> 即可，ip是自己的服务器ip，22是默认端口，可以不写，如果不是22端口就要写在这里，username是在服务器上的账户名字。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Host name</span><br><span class="line">HostName ip</span><br><span class="line">Port 22</span><br><span class="line">User username</span><br></pre></td></tr></table></figure><p><strong>在服务器上保存自己的ip和密码</strong></p><p>先在本地生成一对公钥密钥，过程需要输入生成的目录，默认是~/.ssh目录。该命令会生成：id_rsa（密钥）和 id_rsa.pub（公钥）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>将公钥拷贝到服务器上，其中的name是前面保存信息时候写的名字，该过程会询问是否信任该服务器并要求输入一次服务器密码。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id name</span><br></pre></td></tr></table></figure><p>之后直接使用 <code>ssh name</code> 即可连接服务器。</p><h3 id="三、安装及配置常用软件"><a href="#三、安装及配置常用软件" class="headerlink" title="三、安装及配置常用软件"></a>三、安装及配置常用软件</h3><h4 id="0-换源"><a href="#0-换源" class="headerlink" title="0. 换源"></a>0. 换源</h4><p>桌面版的Ubuntu换源要比命令行方便多了，点击右上角图标-设置-关于-software updates-下载自</p><p>如果安装师地区选择了国内（shanghai）这里会是“中国的服务器”，但是还是会一些不方便，我会手动改成阿里云的源或清华的源。单击下拉选项，选择其他站点，选择阿里云的源(mirrors.aliyun.com)或清华的源(mirrors.tuna.tsinghua.edu.cn)。点击选择服务器，关闭时会更新软件缓存。</p><h4 id="1-v2ray"><a href="#1-v2ray" class="headerlink" title="1. v2ray"></a>1. v2ray</h4><p>众所周知，网络和git是程序员必不可少的两件利器，新装系统先把网络配置好才能更好地使用。</p><p>安装方式，参考 <a href="https://github.com/v2fly/" target="_blank" rel="noopener">https://github.com/v2fly/</a></p><p>可能遇到的问题 <a href="https://github.com/v2fly/fhs-install-v2ray/issues/122" target="_blank" rel="noopener">https://github.com/v2fly/fhs-install-v2ray/issues/122</a></p><p>使用 <code>sudo systemctl enable v2ray</code> 设置v2ray开机自启</p><h4 id="2-git"><a href="#2-git" class="headerlink" title="2.  git"></a>2. git</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install git</span><br></pre></td></tr></table></figure><p><strong>查看git的所有配置</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure><p><strong>使用代理</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将其中的port替换为自己的http代理端口</span></span><br><span class="line">git config --global http.proxy http://localhost:port</span><br><span class="line">git config --global https.proxy http://localhost:port</span><br></pre></td></tr></table></figure><p><strong>为git设置用户名和邮箱</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"yourname"</span></span><br><span class="line">git config --global user.email youremail@youremail</span><br></pre></td></tr></table></figure><p><strong>查看用户名和邮箱</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure><h4 id="3-vim"><a href="#3-vim" class="headerlink" title="3. vim"></a>3. vim</h4><p>编辑器众多，最小巧，个性化配置最灵活的我认为要数vim了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install vim</span><br><span class="line">vim ~/.vimrc</span><br></pre></td></tr></table></figure><p><strong>修改配置文件</strong></p><p>以下是一些简单的配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&quot;显示行号，关闭行号的命令为set nonumber</span><br><span class="line">set number</span><br><span class="line">&quot;不与 Vi 兼容</span><br><span class="line">set nocompatible</span><br><span class="line">&quot;语法高亮</span><br><span class="line">syntax on</span><br><span class="line">&quot;启用256色</span><br><span class="line">set t_Co&#x3D;256</span><br><span class="line">&quot;开启文件类型检查，并且载入与该类型对应的缩进规则。</span><br><span class="line">filetype indent on</span><br><span class="line">&quot;下一行的缩进会自动跟上一行的缩进保持一致</span><br><span class="line">set autoindent</span><br><span class="line">&quot;光标所在的当前行高亮。</span><br><span class="line">set cursorline</span><br><span class="line">&quot;输入搜索模式时，每输入一个字符，就自动跳到第一个匹配的结果</span><br><span class="line">set incsearch</span><br><span class="line">&quot;光标遇到括号时自动高亮对应的另一个括号</span><br><span class="line">set showmatch</span><br><span class="line">&quot;保存操作历史在文件中</span><br><span class="line">set undofile</span><br><span class="line">&quot;设置最多保存多少次操作历史</span><br><span class="line">set history&#x3D;1000</span><br><span class="line">&quot;设置保存操作历史的文件路径</span><br><span class="line">set undodir&#x3D;~&#x2F;.vim&#x2F;.undo&#x2F;&#x2F;</span><br><span class="line">&quot;设置备份文件路径</span><br><span class="line">set backupdir&#x3D;~&#x2F;.vim&#x2F;.backup&#x2F;&#x2F;</span><br><span class="line">&quot;设置交换文件路径</span><br><span class="line">set directory&#x3D;~&#x2F;.vim&#x2F;.swp&#x2F;&#x2F;</span><br><span class="line">&quot;打开文件监视。如果在编辑过程中文件发生外部改变（比如被别的编辑器编辑了），就会发出提示</span><br><span class="line">set autoread</span><br><span class="line">&quot;命令模式下，底部操作指令按下 Tab 键自动补全。第一次按下 Tab，会显示所有匹配的操作指令的清单；第二次按下 Tab，会依次选择各个指令。</span><br><span class="line">set wildmenu</span><br><span class="line">set wildmode&#x3D;longest:list,full</span><br></pre></td></tr></table></figure><p>更多配置可以参考：<a href="http://www.ruanyifeng.com/blog/2018/09/vimrc.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2018/09/vimrc.html</a> 评论区也是有一些好内容的。</p><p>一些常用技巧：<a href="https://blog.csdn.net/weixin_47550354/article/details/106794738" target="_blank" rel="noopener">https://blog.csdn.net/weixin_47550354/article/details/106794738</a></p><h4 id="4-vscode"><a href="#4-vscode" class="headerlink" title="4. vscode"></a>4. vscode</h4><p>可视化的编辑器我用vscode</p><p>在官网下载最新的安装包 <a href="https://code.visualstudio.com/download" target="_blank" rel="noopener">https://code.visualstudio.com/download</a></p><p>选择deb包直接下载，下载好后双击就可以安装。</p><p><strong>添加插件</strong></p><p>推荐的几个插件：</p><ul><li>chinese - 简体中文，英文好的可以忽略</li><li>remote-ssh - ssh连接工具，可以直接在服务器上编辑代码，会自动读取本地~/.ssh/config文件中保存的服务器</li><li>Indent-Rainbow - 让对齐更具有可读性</li><li>Bracket Pair Colorizer - 让括号更具有可读性</li><li>Material Icon Theme - 好看的图标</li></ul><p>更多插件参考 <a href="https://zhuanlan.zhihu.com/p/40417719" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/40417719</a></p><p><strong>在右键添加 “在VSCode中打开”</strong></p><p>创建脚本文件，文件名即为右键时显示的命令名，可以自定义</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.<span class="built_in">local</span>/share/nautilus/scripts/codeit</span><br></pre></td></tr></table></figure><p>在文件中输入以下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">code $NAUTILUS_SCRIPT_SELECTED_FILE_PATHS</span><br></pre></td></tr></table></figure><p>添加执行权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod u+x code_it</span><br></pre></td></tr></table></figure><h4 id="5-chrome"><a href="#5-chrome" class="headerlink" title="5. chrome"></a>5. chrome</h4><p>浏览器我用chrome</p><p><strong>配置插件</strong></p><p>前面安装好v2ray还没有真正使用，这里配合浏览器插件 ProxySwitchyOmega 可以方便地切换不同网络环境。插件自带教程，这里不做赘述。</p><p><strong>添加代理规则</strong></p><p>参考：<a href="https://github.com/gfwlist/gfwlist" target="_blank" rel="noopener">https://github.com/gfwlist/gfwlist</a></p><h4 id="6-Typora"><a href="#6-Typora" class="headerlink" title="6. Typora"></a>6. Typora</h4><p>在 markdown 离线编辑器里，Typora算是数一数二的了，小巧又美观。</p><p>参考 <a href="https://support.typora.io/Typora-on-Linux/" target="_blank" rel="noopener">https://support.typora.io/Typora-on-Linux/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># or use</span></span><br><span class="line"><span class="comment"># sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE</span></span><br><span class="line">wget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -</span><br><span class="line"></span><br><span class="line"><span class="comment"># add Typora's repository</span></span><br><span class="line">sudo add-apt-repository <span class="string">'deb https://typora.io/linux ./'</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line"><span class="comment"># install typora</span></span><br><span class="line">sudo apt-get install typora</span><br></pre></td></tr></table></figure><p><strong>设置.md文件默认使用Typora打开</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/gnome/defaults.list</span><br></pre></td></tr></table></figure><p>在末尾添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text&#x2F;markdown&#x3D;typora.desktop</span><br></pre></td></tr></table></figure><h4 id="7-wine-QQ，wine-WeChat"><a href="#7-wine-QQ，wine-WeChat" class="headerlink" title="7. wine-QQ，wine-WeChat"></a>7. wine-QQ，wine-WeChat</h4><p>没办法，这两个工作学习都需要</p><h5 id="安装wine架构"><a href="#安装wine架构" class="headerlink" title="安装wine架构"></a>安装wine架构</h5><p>参考 <a href="https://github.com/wszqkzqk/deepin-wine-ubuntu" target="_blank" rel="noopener">https://github.com/wszqkzqk/deepin-wine-ubuntu</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu.git</span><br><span class="line"><span class="built_in">cd</span> deepin-wine-for-ubuntu/</span><br><span class="line">sudo bash install.sh</span><br></pre></td></tr></table></figure><p>下载对应的QQ,微信容器安装包，双击即可安装。</p><h5 id="解决QQ无法加载图片的问题"><a href="#解决QQ无法加载图片的问题" class="headerlink" title="解决QQ无法加载图片的问题"></a>解决QQ无法加载图片的问题</h5><p>原因是wine对ipv6的支持出现问题，这里使用代理法方式绕开wine使用ipv6连接网络。</p><p>修改v2ray的配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /usr/<span class="built_in">local</span>/etc/v2ray/config.json</span><br></pre></td></tr></table></figure><p>添加以下内容，xxxx替换为自己要设置的端口，不要和已占用的端口重复</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 在 inbounds 项添加</span><br><span class="line">&#123;</span><br><span class="line">    &quot;tag&quot;: &quot;qq&quot;,</span><br><span class="line">    &quot;protocol&quot;: &quot;http&quot;,</span><br><span class="line">    &quot;listen&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">    &quot;port&quot;: xxxx,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;timeout&quot;: 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"># 在原有的 routing 后面添加</span><br><span class="line">&quot;routing&quot;: &#123;</span><br><span class="line">        &quot;domainStrategy&quot;: &quot;Asls&quot;,</span><br><span class="line">        &quot;rules&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">                &quot;inboundTag&quot;: &quot;qq&quot;,</span><br><span class="line">                &quot;outboundTag&quot;: &quot;direct&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>QQ登陆界面点击右上角设置，使用http代理，ip填127.0.0.1，port填上面设定的端口，登陆后可以解决图片无法加载的问题。</p><p>下拉菜单无法显示，可以使用上下键切换，或者点击左上角wine右边的小箭头，选择TXMenuWindow就可以。</p><h5 id="解决微信聊天输入框中文显示为黑条或黑框，黑块的问题"><a href="#解决微信聊天输入框中文显示为黑条或黑框，黑块的问题" class="headerlink" title="解决微信聊天输入框中文显示为黑条或黑框，黑块的问题"></a>解决微信聊天输入框中文显示为黑条或黑框，黑块的问题</h5><p>参考 <a href="https://github.com/wszqkzqk/deepin-wine-ubuntu/issues/136#issuecomment-514585722" target="_blank" rel="noopener">https://github.com/wszqkzqk/deepin-wine-ubuntu/issues/136#issuecomment-514585722</a></p><p>网上的一种简单方法是修改wine启动文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /opt/deepinwine/tools/run.sh</span><br></pre></td></tr></table></figure><p>将 WINE_CMD 一行修改为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WINE_CMD&#x3D;&quot;LC_ALL&#x3D;zh_CN.UTF-8 deepin-wine&quot;</span><br></pre></td></tr></table></figure><p>本人尝试后发现，每次登陆微信后需要在输入框输入一次小表情后才有效，这里使用的是另一种方法，修改字体文件。</p><p>下载微软雅黑字体（或其他任意字体），假设下载的字体文件名为 msyh.ttc</p><h6 id="1-添加字体"><a href="#1-添加字体" class="headerlink" title="1)添加字体"></a>1)添加字体</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp msyh.ttc ~/.deepinwine/Deepin-WeChat/drive_c/windows/Fonts</span><br></pre></td></tr></table></figure><h6 id="2-修改系统注册表"><a href="#2-修改系统注册表" class="headerlink" title="2)修改系统注册表"></a>2)修改系统注册表</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit ~/.deepinwine/Deepin-WeChat/system.reg</span><br></pre></td></tr></table></figure><p>修改以下两行</p><p>“MS Shell Dlg”=”msyh”</p><p>“MS Shell Dlg 2”=”msyh”</p><h6 id="3-字体注册"><a href="#3-字体注册" class="headerlink" title="3)字体注册"></a>3)字体注册</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit msyh_config.reg</span><br></pre></td></tr></table></figure><p>内容添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">REGEDIT4</span><br><span class="line">[HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontLink\SystemLink]</span><br><span class="line">&quot;Lucida Sans Unicode&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Microsoft Sans Serif&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;MS Sans Serif&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Tahoma&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Tahoma Bold&quot;&#x3D;&quot;msyhbd.ttc&quot;</span><br><span class="line">&quot;msyh&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Arial&quot;&#x3D;&quot;msyh.ttc&quot;</span><br><span class="line">&quot;Arial Black&quot;&#x3D;&quot;msyh.ttc&quot;</span><br></pre></td></tr></table></figure><p>注册</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WINEPREFIX=~/.deepinwine/Deepin-WeChat deepin-wine regedit msyh_config.reg</span><br></pre></td></tr></table></figure><h6 id="4-重启"><a href="#4-重启" class="headerlink" title="4)重启"></a>4)重启</h6><h5 id="解决微信不能发送图片的问题"><a href="#解决微信不能发送图片的问题" class="headerlink" title="解决微信不能发送图片的问题"></a>解决微信不能发送图片的问题</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libjpeg62:i386</span><br></pre></td></tr></table></figure><h4 id="8-gnome插件"><a href="#8-gnome插件" class="headerlink" title="8. gnome插件"></a>8. gnome插件</h4><p>一些好的插件可以让你的 Ubuntu 更易于使用。</p><p>首先安装连接器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install chrome-gnome-shell</span><br></pre></td></tr></table></figure><p>安装浏览器插件 <a href="https://chrome.google.com/webstore/detail/gnome-shell-integration/gphhapmejobijbbhgpjhcjognlahblep" target="_blank" rel="noopener">GNOME Shell integration</a></p><p><a href="https://extensions.gnome.org/extension/19/user-themes/" target="_blank" rel="noopener"><strong>User Themes</strong></a> 自定义主题</p><p><a href="https://extensions.gnome.org/extension/307/dash-to-dock/" target="_blank" rel="noopener"><strong>Dash to Dock</strong></a> 替换系统的dock</p><p>可能会出现两个dock的情况，删除系统自带的 <code>usr/share/gnome-shell/extensions</code> 下的 <code>ubuntu-dock</code></p><p><a href="https://extensions.gnome.org/extension/675/lunar-calendar/" target="_blank" rel="noopener"><strong>Lunar Calendar 农历</strong></a> 在日历中添加农历</p><p>旧版本滚动会导致插件失效，最新版本目前（2021-1-28）发布还未通过，作者在评论区发布了下载链接，可以直接将压缩包解压到 ~/.local/share/gnome-shell/extensions 路径下，注意将文件夹名改为 metadata.json 中提供的 uuid，即 <a href="mailto:lunarcal@ailin.nemui">lunarcal@ailin.nemui</a></p><p><a href="https://extensions.gnome.org/extension/3896/network-speed/" target="_blank" rel="noopener"><strong>Network Speed</strong></a> 显示实时网速</p><p><a href="https://extensions.gnome.org/extension/120/system-monitor/" target="_blank" rel="noopener"><strong>system-monitor</strong></a> 显示系统监视信息，包括内存使用量，CPU占用率，硬盘用量等</p><p><a href="https://extensions.gnome.org/extension/1031/topicons/" target="_blank" rel="noopener"><strong>TopIcons Plus</strong></a> 将旧版任务栏图标（Gnome Shell的左下方）移至顶部面板，包括wine-QQ和wine-Wechat的图表</p><h4 id="9-VMware"><a href="#9-VMware" class="headerlink" title="9. VMware"></a>9. VMware</h4><p>参考 <a href="https://zj-linux-guide.readthedocs.io/zh_CN/latest/tool-install-configure/[Ubuntu%2016.04]VMware%E5%AE%89%E8%A3%85/" target="_blank" rel="noopener">https://zj-linux-guide.readthedocs.io/zh_CN/latest/tool-install-configure/[Ubuntu%2016.04]VMware%E5%AE%89%E8%A3%85/</a></p><p>从官网下载最新安装包 <a href="https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html" target="_blank" rel="noopener">https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html</a></p><p>赋予用户权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod a+x VMware*.bundle</span><br></pre></td></tr></table></figure><p>安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./VMware*.bundle</span><br></pre></td></tr></table></figure><p><strong>问题：第一次打开需要安装“several modules”，却“A required application is missing”</strong></p><p>解决办法一：</p><p>重启进入BIOS关闭安全启动（secure boot），执行下面的步骤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim vm-patch.sh</span><br></pre></td></tr></table></figure><p>添加以下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">VMWARE_VERSION=workstation-16.1.0</span><br><span class="line">TMP_FOLDER=/tmp/patch-vmware</span><br><span class="line">rm -fdr <span class="variable">$TMP_FOLDER</span></span><br><span class="line">mkdir -p <span class="variable">$TMP_FOLDER</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$TMP_FOLDER</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/mkubecek/vmware-host-modules.git</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$TMP_FOLDER</span>/vmware-host-modules</span><br><span class="line">git checkout <span class="variable">$VMWARE_VERSION</span></span><br><span class="line">git fetch</span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br><span class="line">sudo rm /usr/lib/vmware/lib/libz.so.1/libz.so.1</span><br><span class="line">sudo ln -s /lib/x86_64-linux-gnu/libz.so.1 /usr/lib/vmware/lib/libz.so.1/libz.so.1</span><br><span class="line">sudo /etc/init.d/vmware restart</span><br></pre></td></tr></table></figure><p>执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install make</span><br><span class="line">sudo bash vm-patch.sh</span><br></pre></td></tr></table></figure><p>解决办法二：</p><p>不关闭安全模式执行上面的步骤之后，安装后仍存在问题，Virtual machine monitor启动failed，Virtual ethernet启动failed，启动虚拟机时提示Could not open /dev/-vmmon/…</p><p>其原理是安全启动模式下vmware的一些核心模块没有被写入，需要设置信任列表</p><p>第一步：生产.priv和.der文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -x509 -newkey rsa:2048 -keyout vmware.priv -outform DER -out vmware.der -nodes -days 36500 -subj <span class="string">"/CN=VMWARE/"</span></span><br></pre></td></tr></table></figure><p>第二步：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 ./vmware.priv ./vmware.der $(modinfo -n vmmon)</span><br><span class="line">sudo /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 ./vmware.priv ./vmware.der $(modinfo -n vmnet)</span><br></pre></td></tr></table></figure><p>第三步：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mokutil --import vmware.der</span><br><span class="line"><span class="comment"># 然后输入两次密码（自定义）</span></span><br></pre></td></tr></table></figure><p>重启之后会进入蓝色界面，需要你手动写入签名</p><p>选择 <code>enroll mok</code><br>选择 <code>continue</code><br>选择 <code>yes</code><br>输入之前设置的密码<br>选择 <code>reboot</code><br>测试你是否写入签名</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mokutil --<span class="built_in">test</span>-key zj-vmware.der</span><br><span class="line"><span class="comment"># vmware.der is already enrolled</span></span><br></pre></td></tr></table></figure><h4 id="11-Anaconda"><a href="#11-Anaconda" class="headerlink" title="11. Anaconda"></a>11. Anaconda</h4><h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><p>有时候我们需要使用不同版本的python，在系统中同时安装多个python版本会非常的麻烦，Anaconda是一款python虚拟环境管理软件，可以方便地创建和管理不同版本的python环境，也可以很方便的在不同环境之间切换。</p><p>从官网下载最新的安装脚本： <a href="https://www.anaconda.com/products/individual#Downloads" target="_blank" rel="noopener">https://www.anaconda.com/products/individual#Downloads</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash Anaconda3*.sh</span><br></pre></td></tr></table></figure><p>过程会要求阅读并同意“license agreement”，一直按回车直到结束输入“yes”。之后会要求输入安装路径，建议安装到 <code>/opt/anaconda3</code> 路径下，不要安装到 <code>/root</code> 或 <code>/home</code> 下，否则不能多用户共享虚拟环境（包括当前用户和root账户也需要分别创建不同的虚拟环境，对存储的开销非常大）。</p><p>之后便是漫长的等待，最后会询问是否初始化conda，输入yes即可。</p><p>由于刚刚是用sudo命令执行的，初始化会在 <code>/root</code> 下进行初始化，当前账户并不能使用conda</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /root/.bashrc</span><br></pre></td></tr></table></figure><p>将其中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;</span><br><span class="line">...</span><br><span class="line"># &lt;&lt;&lt; conda initialize &lt;&lt;&lt;</span><br></pre></td></tr></table></figure><p>的部分复制，再打开自己的 .bashrc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>将复制的内容粘贴到文件末尾，重新打开终端，即可看到前面多了（base）字样，是默认激活的base环境。</p><h5 id="设置多用户共享虚拟环境"><a href="#设置多用户共享虚拟环境" class="headerlink" title="设置多用户共享虚拟环境"></a>设置多用户共享虚拟环境</h5><p>参考：<a href="https://www.zhihu.com/question/277053071/answer/946713532" target="_blank" rel="noopener">https://www.zhihu.com/question/277053071/answer/946713532</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">su - <span class="comment"># 登陆到root账户</span></span><br><span class="line">groupadd anaconda <span class="comment"># 创建anaconda组</span></span><br><span class="line">adduser &lt;username&gt; anaconda <span class="comment"># 将需要的用户添加至anaconda组</span></span><br><span class="line">chgrp -R anaconda /opt/anaconda3 <span class="comment"># 移交目录管理权</span></span><br><span class="line">chmod 770 -R /opt/anaconda3 <span class="comment"># 设置读写权限</span></span><br><span class="line">chmod g+s /opt/anaconda3 <span class="comment"># 设置组继承</span></span><br><span class="line">chmod g+s `find /opt/anaconda3/ -<span class="built_in">type</span> d` <span class="comment"># 设置子目录组继承</span></span><br><span class="line">chmod g-w /opt/anaconda3/envs <span class="comment"># 关闭共享环境的写入权限</span></span><br><span class="line"><span class="built_in">source</span> /opt/anaconda3/bin/activate <span class="comment"># root用户下启动anaconda环境</span></span><br><span class="line">conda create -n py37 python=3.7</span><br></pre></td></tr></table></figure><p>创建共享环境这样设置之后的效果是：由root用户创建的环境会保存在/opt/anaconda/envs中，所有anaconda组成员都可以访问。用户自己创建的环境则会保存至~/.conda/envs中，但是所有下载的pkg会共享在/opt/anaconda/pkgs中，即如果是别人装过的包（比如下载缓慢的PyTorch）则不用重新下载。</p><h5 id="一些常用命令"><a href="#一些常用命令" class="headerlink" title="一些常用命令"></a>一些常用命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">conda config --<span class="built_in">set</span> auto_activate_base <span class="literal">false</span> <span class="comment"># 设置默认不激活base环境</span></span><br><span class="line">conda create -n name python=x.x <span class="comment"># 创建python版本为x.x的名字为name的虚拟环境</span></span><br><span class="line">conda remove -n name --all <span class="comment"># 删除名字为name的环境</span></span><br><span class="line">conda activate name <span class="comment"># 激活名字为name的虚拟环境</span></span><br><span class="line">conda deactivate <span class="comment"># 推出当前虚拟环境</span></span><br><span class="line">conda list <span class="comment"># 列出当前环境安装的包</span></span><br><span class="line">conda env list <span class="comment"># 列出当前已创建的环境</span></span><br></pre></td></tr></table></figure><h4 id="11-mysql"><a href="#11-mysql" class="headerlink" title="11. mysql"></a>11. mysql</h4><p>参考：<a href="https://blog.csdn.net/liang19890820/article/details/105071479" target="_blank" rel="noopener">https://blog.csdn.net/liang19890820/article/details/105071479</a></p><h5 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装mysql-server</span></span><br><span class="line">sudo apt install mysql-server</span><br><span class="line"><span class="comment"># 运行安全脚本，过程会询问是否安装验证密码插件，用于测试密码强度，可以选择不安装，之后需要输入两次密码为root账户设置密码，之后依次询问是否删除匿名账户，是否禁止root从远程账户登陆，是否删除test数据库并取消对其访问权限，是否刷新授权表，可以根据自己的情况选择</span></span><br><span class="line">sudo mysql_secure_installation</span><br></pre></td></tr></table></figure><h5 id="修改root账户认证方式"><a href="#修改root账户认证方式" class="headerlink" title="修改root账户认证方式"></a>修改root账户认证方式</h5><p>虽然上面设置了 root 用户的密码，但当通过 MySQL 终端登录时，并不能通过密码进行认证：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">Enter password:</span><br><span class="line">ERROR 1698 (28000): Access denied <span class="keyword">for</span> user <span class="string">'root'</span>@<span class="string">'localhost'</span></span><br></pre></td></tr></table></figure><p>这是因为在 MySQL 5.7 及之后的版本中，root 用户被默认设置为通过 auth_socket 插件（而非密码）认证，其主要原因是出于对数据库的安全性考虑。</p><p>话虽如此，但偶尔也需要外部程序来访问，这时就会很麻烦了。为了使 root 用户能通过密码方式连接 MySQL，先通过终端打开 MySQL 的提示符：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql</span><br></pre></td></tr></table></figure><p>然后通过如下命令，检查 MySQL 中每个用户的认证方式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT user, authentication_string, plugin, host FROM mysql.user;</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">| user             | authentication_string                     | plugin                | host      |</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">| root             |                                           | auth_socket           | localhost |</span><br><span class="line">| mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span><br><span class="line">| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span><br><span class="line">| debian-sys-maint | *ABA968D18E3A0B6DEB02F9D5FBDA21415A86977B | mysql_native_password | localhost |</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>显而易见，root 用户的认证方式是 auth_socket。</p><p>现在运行如下命令，将认证方式更改为密码认证（即：msql_native_password）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</span><br></pre></td></tr></table></figure><p>注意：务必设置一个高强度的密码（这里的“123456”仅仅是为了测试），该操作将会改变步骤 2 中设置的密码。</p><p>完成之后，再来查看一下 root 用户的认证方式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT user, authentication_string, plugin, host FROM mysql.user;</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">| user             | authentication_string                     | plugin                | host      |</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">| root             | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | mysql_native_password | localhost |</span><br><span class="line">| mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span><br><span class="line">| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span><br><span class="line">| debian-sys-maint | *ABA968D18E3A0B6DEB02F9D5FBDA21415A86977B | mysql_native_password | localhost |</span><br><span class="line">+------------------+-------------------------------------------+-----------------------+-----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>可以看到，已经修改成功了，现在退出数据库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; exit</span><br></pre></td></tr></table></figure><p>再来尝试一下，让 root 用户以密码形式登录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 7</span><br><span class="line">Server version: 5.7.29-0ubuntu0.18.04.1 (Ubuntu)</span><br><span class="line"> </span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"> </span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"> </span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"> </span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><p>可以正常连接了。</p><h5 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h5><p>mysql安装好了，但平时使用总不能一直用root账户，这时候就需要创建一个新的账户。</p><p>创建一个通过本地localhost连接的用户名为roc，密码为password的账户。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; CREATE USER &#39;roc&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;</span><br></pre></td></tr></table></figure><p>给用户授权，privileges可以是 SELECT，UPDATE，DELETE，ALL 等</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; GRANT privileges ON databasename.tablename TO &#39;username&#39;@&#39;host&#39;;</span><br></pre></td></tr></table></figure><h4 id="12-搜狗输入法"><a href="#12-搜狗输入法" class="headerlink" title="12. 搜狗输入法"></a>12. 搜狗输入法</h4><p>用了多年的搜狗输入法，也尝试过其他输入法，始终觉得还是搜狗好用。</p><p>参考：<a href="https://www.cnblogs.com/cocode/p/12875555.html" target="_blank" rel="noopener">https://www.cnblogs.com/cocode/p/12875555.html</a></p><p><strong>添加ukui的官方源</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -sL <span class="string">'https://keyserver.ubuntu.com/pks/lookup?&amp;op=get&amp;search=0x73BC8FBCF5DE40C6ADFCFFFA9C949F2093F565FF'</span> | sudo apt-key add</span><br><span class="line">sudo apt-add-repository <span class="string">'deb http://archive.ubuntukylin.com/ukui focal main'</span></span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure><p><strong>安装</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install sogouimebs</span><br></pre></td></tr></table></figure><p><strong>设置默认输入法</strong></p><p>把默认输入法设置为fcitx，重启电脑</p><h4 id="13-Nodejs和npm"><a href="#13-Nodejs和npm" class="headerlink" title="13. Nodejs和npm"></a>13. Nodejs和npm</h4><p>想在Ubuntu上写博客不得不安装Nodejs和npm等环境，安装过程没什么可说的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure><h4 id="14-Seafile"><a href="#14-Seafile" class="headerlink" title="14. Seafile"></a>14. Seafile</h4><p>自建云盘的客户端</p><p>参考：<a href="https://help.seafile.com/syncing_client/install_linux_client/" target="_blank" rel="noopener">https://help.seafile.com/syncing_client/install_linux_client/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo wget https://linux-clients.seafile.com/seafile.asc -O /usr/share/keyrings/seafile-keyring.asc</span><br><span class="line">sudo bash -c <span class="string">"echo 'deb [arch=amd64 signed-by=/usr/share/keyrings/seafile-keyring.asc] https://linux-clients.seafile.com/seafile-deb/focal/ stable main' &gt; /etc/apt/sources.list.d/seafile.list"</span></span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install -y seafile-gui</span><br><span class="line"><span class="comment"># 如果仅安装命令行版本</span></span><br><span class="line">sudo apt-get install seafile-cli</span><br></pre></td></tr></table></figure><h4 id="15-Gpaste"><a href="#15-Gpaste" class="headerlink" title="15. Gpaste"></a>15. Gpaste</h4><p>用来保存剪辑版历史</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gnome-shell-extensions-gpaste gpaste</span><br></pre></td></tr></table></figure><p><del>安装需要的软件</del>(不用这种方法安装)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install autoconf automake libtool autopoint gettext libglib2.0-dev build-essential libgtk-3-dev</span><br></pre></td></tr></table></figure><p><del>克隆仓库并安装</del></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Keruspe/GPaste.git</span><br><span class="line"><span class="built_in">cd</span> Gpaste</span><br><span class="line">./autogen.sh</span><br><span class="line">./configure --sysconfdir=/etc</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line">sudo glib-compile-schemas /usr/share/glib-2.0/schemas/</span><br></pre></td></tr></table></figure><h3 id="四、美化"><a href="#四、美化" class="headerlink" title="四、美化"></a>四、美化</h3><h4 id="1-壁纸软件"><a href="#1-壁纸软件" class="headerlink" title="1. 壁纸软件"></a>1. 壁纸软件</h4><p>既然美化，没有一款更换壁纸的软件怎么能行。</p><p>本人使用 <a href="https://github.com/cheesecakeufo/komorebi" target="_blank" rel="noopener">komorebi</a></p><p>支持视频和图片，可以显示时间，功能不多，但对于我来说已经够了。</p><h4 id="2-更换主题、图标、鼠标指针"><a href="#2-更换主题、图标、鼠标指针" class="headerlink" title="2. 更换主题、图标、鼠标指针"></a>2. 更换主题、图标、鼠标指针</h4><p>安装tweaks，用于管理主题包等，还有一些其他功能这里暂时不需要</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gnome-tweaks</span><br></pre></td></tr></table></figure><p>可以从以下网址下载自己喜欢的主题、图标、鼠标指针文件： <a href="https://www.gnome-look.org/browse/ord/rating/" target="_blank" rel="noopener">https://www.gnome-look.org/browse/ord/rating/</a></p><p>其中主题文件解压到 <code>/usr/share/themes/</code> ，图标和鼠标指针文件解压到 <code>/usr/share/icons/</code>。</p><p>解压好后在软件中搜索 tweaks(优化)，在“外观”选项卡可以修改主题和图标等。</p><h4 id="3-修改登陆界面的背景"><a href="#3-修改登陆界面的背景" class="headerlink" title="3. 修改登陆界面的背景"></a>3. 修改登陆界面的背景</h4><p>参考 <a href="https://github.com/thiggy01/change-gdm-background" target="_blank" rel="noopener">https://github.com/thiggy01/change-gdm-background</a></p><p>安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libglib2.0-dev-bin</span><br></pre></td></tr></table></figure><p>赋予执行权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x change-gdm-background</span><br></pre></td></tr></table></figure><p>修改背景</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改背景为某一图片</span></span><br><span class="line">sudo ./change-gdm-background /path/to/image</span><br><span class="line"><span class="comment"># 修改背景为某种颜色，使用16进制颜色</span></span><br><span class="line">sudo ./change-gdm-background \<span class="comment">#yourhexcode</span></span><br><span class="line"><span class="comment"># 恢复默认</span></span><br><span class="line">sudo ./change-gdm-background --restore</span><br></pre></td></tr></table></figure></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:undefined">Roc</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://blog.roc136.top/posts/ubuntu-install/">https://blog.roc136.top/posts/ubuntu-install/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.roc136.top" target="_blank">RocSpace</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ubuntu/">ubuntu</a><a class="post-meta__tags" href="/tags/20-04/">20.04</a><a class="post-meta__tags" href="/tags/%E5%AE%89%E8%A3%85/">安装</a></div><div class="post_share"><div class="social-share" data-image="https://blog-roc.oss-cn-hongkong.aliyuncs.com/blog/auc/Roccurves.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信赞赏" onclick='window.open("/img/wechat.jpg")'><div class="post-qr-code__desc">微信赞赏</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付宝" onclick='window.open("/img/alipay.jpg")'><div class="post-qr-code__desc">支付宝</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/mirai-install/"><img class="prev-cover" data-src="/img/background/bj12.jpg" onerror='onerror=null,src="/img/404.jpg"'><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Mirai QQ机器人安装及配置（以CentOS为例）</div></div></a></div><div class="next-post pull-right"><a href="/posts/nlp1/"><img class="next-cover" data-src="/img/background/bj16.jpg" onerror='onerror=null,src="/img/404.jpg"'><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">NLP打造高质量数据集</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div><div class="vcomment" id="vcomment"></div><script src="/js/src/Valine.min.js"></script><script>var requestSetting=function(i,e){i=i;var n=e.split(",").filter(function(e){return-1<i.indexOf(e)});return n=0==n.length?i:n},guestInfo=requestSetting(["nick","mail","link"],"nick,mail,link"),requiredFields=requestSetting(["nick","mail"],"nick,mail");window.valine=new Valine({el:"#vcomment",verify:"{{ theme.valine.verify }}",notify:"{{ theme.valine.notify }}",appId:"GTrg190zxawFfhovvnDEbdRy-gzGzoHsz",appKey:"eE9Dk8KogwYFc5FvFwWaCEIu",placeholder:"ヾﾉ≧∀≦)o来啊，快活啊!\nTips:\n1.这里可以支持Markdown语法哦~\n2.请尽量使用主流邮件地址，例如QQ、网易、谷歌等等，使用不常见的邮箱地址(例如@cr.cx)可能收不到回复通知哦~\n3.使用QQ邮箱可以自动获取QQ头像~\n4.更多表情在左下角~",avatar:"monsterid",meta:guestInfo,pageSize:"10",master:["3423adf647c52b32003620763c56160a"],friends:["85cd54eff01ac6caf5d8da45586b3170","061b9d2f8239e08430741d4025921550"],tagMeta:["博主","小伙伴","访客"],metaPlaceholder:{nick:"昵称/QQ号(必填)",mail:"邮箱(会收到回复哦~)",link:"网址(放上你的博客地址~)"},lang:"zh-CN",recordIP:!1,serverURLs:"",emojiCDN:"",emojiMaps:"",enableQQ:!0,requiredFields:requiredFields})</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Roc</div><div class="footer_custom_text">Welcome to RocSpace！</div><div class="icp"><a href="http://beian.miit.gov.cn/" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"><span>晋ICP备2020008889号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" title="缩小字体"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="简繁转换">繁</button><button id="darkmode" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fas fa-comments"></i></a><button class="close" id="mobile-toc-button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49b1f5">hexo-generator-search</a> <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script defer="defer" id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="true"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer="defer"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script><script>document.getElementsByClassName("mermaid").length&&loadScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js",function(){mermaid.initialize({theme:"forest"})})</script></body></html>